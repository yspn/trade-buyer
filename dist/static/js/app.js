webpackJsonp([1],{"+5kl":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__=__webpack_require__("c/Tr"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_5__static_common__=__webpack_require__("3/QO"),__WEBPACK_IMPORTED_MODULE_5__static_common___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__static_common__);__webpack_exports__.a={name:"buyer-report",props:["shopList"],data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"trades",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"订单编号",key:"tid",width:180,ellipsis:!0,sortable:!0,searchable:!0,render:function(t,a){return t("a",{on:{click:function(){e.$emit("on-searchbytid",a.row.tid_str),e.$router.push({path:"/trades"})}}},a.row.tid)}},{title:"店铺",key:"sellerNick",width:160,ellipsis:!0,filters:this.shopList.map(function(e){return{label:e.name,value:e.id}}),filterMultiple:!0,filterRemote:function(t,a){e.filterShop=t},render:function(e,t){return e("span",{},t.row.sellerNick)}},{title:"下单单号",key:"orderNumber",ellipsis:!1,render:function(e,t){return e("span",{},t.row.orderNumber)}},{title:"买手",key:"lastAssignBuyerName",ellipsis:!1,render:function(e,t){return e("span",{},t.row.lastAssignBuyerName)}},{title:"买家号",key:"buyerNick",ellipsis:!1,render:function(e,t){return e("span",{},t.row.buyerNick)}},{title:"收入",width:120,key:"payment",ellipsis:!0,render:function(e,t){return e("span",{},parseFloat(t.row.payment).toLocaleString())}},{title:"支出",key:"orderedPaymentTotal",width:120,ellipsis:!0,render:function(e,t){return e("span",{},parseFloat(t.row.orderedPaymentTotal).toLocaleString())}},{title:"利润",key:"profit",width:120,ellipsis:!0,sortable:"custom",render:function(e,t){return e("span",{style:{color:t.row.profit>0?"forestgreen":"red"}},t.row.profit.toLocaleString())}},{title:"利润率",key:"profitRatio",width:120,ellipsis:!0,sortable:"custom",render:function(e,t){return e("span",{style:{color:t.row.profit>0?"forestgreen":"red"}},t.row.profitRatio)}},{title:"下单时间",key:"lastorderTime",width:180,ellipsis:!0,sortable:"custom",sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.lastorderTime)}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,totalCount:0,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,filterShop:null,tableHeight:500,detailed:!1,detailedItem:{},timespan:"today",daterange:null,profitStart:null,profitEnd:null,webSocket:null,taskTraceId:null,tracing:!1,taskTraceTask:null}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 5:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.dataViewPage=t;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshList();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshList();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()},filterShop:function(){var e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&("daterange"!==this.timespan?this.refreshList():"daterange"===this.timespan&&this.daterange&&this.refreshList());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),timespan:function(e){"daterange"!==e?this.refreshList():"daterange"===e&&this.daterange&&this.refreshList()},profitStart:function(e){"daterange"!==this.timespan?this.refreshList():"daterange"===this.timespan&&this.daterange&&this.refreshList()},profitEnd:function(e){"daterange"!==this.timespan?this.refreshList():"daterange"===this.timespan&&this.daterange&&this.refreshList()}},methods:{refreshList:function(){var e,t,a=this;"today"!==this.timespan?this.getReportAsync().then((t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.traceTask();case 2:case"end":return e.stop()}},e,a)})),function(e){return t.apply(this,arguments)})).catch(function(e){a.$Message.error(e.message)}):this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.loading=!1,a.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,a)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(){var a,r,n,s,i;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"buyerreport",apiQuery:{}},e.apiData={timespan:e.timespan},"daterange"===e.timespan&&(a=e.daterange[0],r=e.daterange[1],n=new Date(a).toISOString(),s=new Date(r).toISOString(),e.apiData={timespan:"daterange",startdate:n,enddate:s}),null!==e.profitStart&&(e.apiData.profitstart=e.profitStart),null!==e.profitEnd&&(e.apiData.profitend=e.profitEnd),e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.filterShop&&e.filterShop.length&&(e.apiData.shops={$in:e.filterShop}),e.apiData.limit$=e.pageSize,e.apiData.skip$=e.pageSize*(e.pageCurrent-1),e.$store.dispatch("setAPIStore",e.apiItem),i=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(a,r){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(i,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(n){var s;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=n.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),r(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data.datalist,e.data=s.data.datalist,e.totalCount=s.data.total_count,a(s.data.datalist));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),r(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 14:case"end":return t.stop()}},t,e)}))()},getReportAsync:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(a,r){var n,s,i,o,c;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.apiItem={apiHost:"",apiService:"trades",apiAction:"buyerreportnew",apiQuery:{}},e.apiData={timespan:e.timespan},"daterange"!==e.timespan){t.next=13;break}if(n=e.daterange[0],!((s=e.daterange[1]).getTime()-n.getTime()>2592e6)){t.next=10;break}return r(new Error("报表请求失败！(最大查询窗口不能大于30天)")),t.abrupt("return");case 10:i=new Date(n).toISOString(),o=new Date(s).toISOString(),e.apiData={timespan:"daterange",startdate:i,enddate:o};case 13:return null!==e.profitStart&&(e.apiData.profitstart=e.profitStart),null!==e.profitEnd&&(e.apiData.profitend=e.profitEnd),e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.filterShop&&e.filterShop.length&&(e.apiData.shops={$in:e.filterShop}),e.$store.dispatch("setAPIStore",e.apiItem),c=e.$store.getters.apiUrl,t.next=22,e.$http.post(c,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(n){var s;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=n.data).status?r(new Error("报表请求失败！("+s.message+")")):(e.$Message.success("报表请求成功，请等待!"),e.$store.dispatch("setAPILastResponse",s),e.taskTraceId=s.data.taskTraceId,e.tracing=!0,a(s.data.taskTraceId));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),r(t)});case 22:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,e)}))()},traceTask:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"buyerreporttaskcheck",apiQuery:{}},e.apiData={taskid:e.taskTraceId},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.mark(function t(a){var n;return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("fail"!==(n=a.data).status){t.next=7;break}return t.next=4,Object(__WEBPACK_IMPORTED_MODULE_5__static_common__.sleepES6)(3e3);case 4:return t.abrupt("return",e.traceTask());case 7:if(!n.data.suc){t.next=16;break}e.$Message.success("报表生成成功，即将下载..."),e.$store.dispatch("setAPILastResponse",n),e.taskTraceId=null,e.tracing=!1,window.open(n.data.url.replace("-internal","")),r(n.data.url.replace("-internal","")),t.next=19;break;case 16:return t.next=18,Object(__WEBPACK_IMPORTED_MODULE_5__static_common__.sleepES6)(3e3);case 18:return t.abrupt("return",e.traceTask());case 19:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},sortTable:function(e){var t=e.key,a=e.order,r=this.dataRaw.slice(0);"asc"===a?r.sort(function(e,a){return e[t]-a[t]}):r.sort(function(e,a){return a[t]-e[t]}),this.data=r},getOrdersNumiid:function(e){var t=[];return e.order.forEach(function(e){t.push(e.num_iid)}),t},getOrdersNumiidLink:function(e,t){var a=[];return this.getOrdersNumiid(t).forEach(function(t){var r="https://item.taobao.com/item.htm?id="+t;a.push(e("a",{attrs:{href:r,target:"_blank"}},t))}),a},getOrderNumbers:function(e){var t=[];return e.forEach(function(e){t.push(e.order_number)}),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(t)).join("|")},getOrderBuyers:function(e){var t=[];return e.forEach(function(e){t.push(e.name)}),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(t)).join("|")},getOrderBuyerNicks:function(e){var t=[];return e.forEach(function(e){t.push(e.buyer_nick)}),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(t)).join("|")},exportData:function(){this.$refs.table.exportCsv({filename:"buyerreport",columns:this.columns,data:this.data.map(function(e,t,a){return{tid:"\t"+e.tid+"\t",sellerNick:e.sellerNick,orderNumber:"\t"+e.orderNumber+"\t",lastAssignBuyerName:e.lastAssignBuyerName,buyerNick:e.buyerNick,payment:e.payment,orderedPaymentTotal:e.orderedPaymentTotal,profit:e.profit,profitRatio:e.profitRatio,lastorderTime:e.lastorderTime}})})},search:function search(){var _this7=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this7.searchBy){if(_this7.searchBy.indexOf(".")){var thing=eval("item."+_this7.searchBy);return thing.indexOf(_this7.keyword)>=0}return item[_this7.searchBy].indexOf(_this7.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this7.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this7.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},sendSocketMsg:function(){this.webSocket.send('{"timespan":"yearly", "token": "'+this.$store.getters.user.token+'"}')}}}},"+skl":function(e,t){},"//+z":function(e,t){},0:function(e,t){},1:function(e,t){},"1RML":function(e,t){},2:function(e,t){},3:function(e,t){},"3/QO":function(e,t,a){"use strict";Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e};e.exports={sleepES6:e=>new Promise(t=>setTimeout(t,e)),setQueryConfig:e=>{var t="";for(var a in e)-1!==e[a]&&(t+=a+"="+e[a]+"&");return t=t.substring(0,t.length-1)},getQueryString:(e,t)=>{var a,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");return null!=(a=t?t.substr(t.indexOf("?")+1).match(r):window.location.search.substr(1).match(r))?unescape(a[2]):null},addressDetailFilter:e=>{return[{reg:/\(\w*:\d*\)/,method:"space"},{reg:"农村淘宝",method:"replace",replaceStr:"淘宝农村"},{reg:"村小二",method:"replace",replaceStr:"小二"},{reg:"菜鸟",method:"delete"}].forEach(t=>{e.search(t.reg)>-1&&("delete"===t.method?e=e.replace(t.reg,""):"replace"===t.method?e=e.replace(t.reg,t.replaceStr||""):"space"===t.method&&e.match(t.reg).forEach(t=>{let a=t.length,r=1;if(a>3){r=Math.round(Math.random()*(a-2),0);let n=t.substr(0,r)+" "+t.substr(r);e=e.replace(t,n)}else e=e.replace(t,t.substr(0,1)+" "+t.substr(1))}))}),e},focusOrCreateTab:(e,t)=>{void 0!==t&&null!==t||(t=!1),window.chrome.windows.getAll({populate:!0},a=>{var r=null;for(var n in a){var s=a[n].tabs;for(var i in s){var o=s[i];if(o.url.indexOf(e)>-1){r=o;break}}}r?t?window.chrome.tabs.reload(r.id):window.chrome.tabs.update(r.id,{highlighted:!0}):window.chrome.tabs.create({url:e,active:!0})})},encodeUnicode:e=>{for(var t=[],a=0;a<e.length;a++)t[a]=("00"+e.charCodeAt(a).toString(16)).slice(-4);return"\\u"+t.join("\\u")},decodeUnicode:e=>(e=e.replace(/\\/g,"%"),unescape(e)),sendMessageToCurrentContentScript:(e,t)=>{window.chrome.tabs.query({active:!0,currentWindow:!0},a=>{window.chrome.tabs.sendMessage(a[0].id,e,e=>{t&&t(e)})})},sendMessageToContentScript:(e,t,a)=>{window.chrome.windows.getAll({populate:!0},function(r){var n=null;for(var s in r){var i=r[s].tabs;for(var o in i){var c=i[o];if(c.url.indexOf(e)>-1){n=c;break}}}n?window.chrome.tabs.sendMessage(n.id,t,e=>{a&&a(e)}):window.chrome.tabs.create({url:e,active:!0},function(e){setTimeout(function(){window.chrome.tabs.sendMessage(e.id,t,e=>{a&&a(e)})},2e3)})})}}},"3khN":function(e,t,a){"use strict";var r={},n={};!function(e){var t=0;e=e.match(/..../g);for(var a=129;a<=254;a++)for(var s=64;s<=254;s++)r[e[t++]]=("%"+a.toString(16)+"%"+s.toString(16)).toUpperCase();for(var i in r)n[r[i]]=i}("4e:020405060f12171f20212326292e2f313335373c40414244464a5155575a5b6263646567686a6b6c6d6e6f727475767778797a7b7c7d7f808182838485878a#909697999c9d9ea3aaafb0b1b4b6b7b8b9bcbdbec8cccfd0d2dadbdce0e2e6e7e9edeeeff1f4f8f9fafcfe,4f:00020304050607080b0c12131415161c1d212328292c2d2e31333537393b3e3f40414244454748494a4b4c525456616266686a6b6d6e7172757778797a7d8081828586878a8c8e909293959698999a9c9e9fa1a2a4abadb0b1b2b3b4b6b7b8b9babbbcbdbec0c1c2c6c7c8c9cbcccdd2d3d4d5d6d9dbe0e2e4e5e7ebecf0f2f4f5f6f7f9fbfcfdff,50:000102030405060708090a#0b0e1011131516171b1d1e20222324272b2f303132333435363738393b3d3f404142444546494a4b4d5051525354565758595b5d5e5f6061626364666768696a6b6d6e6f70717273747578797a7c7d818283848687898a8b8c8e8f909192939495969798999a9b9c9d9e9fa0a1a2a4a6aaabadaeafb0b1b3b4b5b6b7b8b9bcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdced0d1d2d3d4d5d7d8d9dbdcdddedfe0e1e2e3e4e5e8e9eaebeff0f1f2f4f6f7f8f9fafcfdfeff,51:00010203040508#090a0c0d0e0f1011131415161718191a1b1c1d1e1f2022232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e42474a4c4e4f5052535758595b5d5e5f606163646667696a6f727a7e7f838486878a8b8e8f90919394989a9d9e9fa1a3a6a7a8a9aaadaeb4b8b9babebfc1c2c3c5c8cacdced0d2d3d4d5d6d7d8d9dadcdedfe2e3e5e6e7e8e9eaeceef1f2f4f7fe,52:0405090b0c0f101314151c1e1f2122232526272a2c2f313234353c3e4445464748494b4e4f5253555758#595a5b5d5f6062636466686b6c6d6e7071737475767778797a7b7c7e808384858687898a8b8c8d8e8f91929495969798999a9ca4a5a6a7aeafb0b4b5b6b7b8b9babbbcbdc0c1c2c4c5c6c8cacccdcecfd1d3d4d5d7d9dadbdcdddee0e1e2e3e5e6e7e8e9eaebecedeeeff1f2f3f4f5f6f7f8fbfcfd,53:0102030407090a0b0c0e11121314181b1c1e1f2224252728292b2c2d2f3031323334353637383c3d404244464b4c4d505458595b5d65686a6c6d7276797b7c7d7e80818387888a8e8f#90919293949697999b9c9ea0a1a4a7aaabacadafb0b1b2b3b4b5b7b8b9babcbdbec0c3c4c5c6c7cecfd0d2d3d5dadcdddee1e2e7f4fafeff,54:000205070b1418191a1c2224252a303336373a3d3f4142444547494c4d4e4f515a5d5e5f6061636567696a6b6c6d6e6f7074797a7e7f8183858788898a8d919397989c9e9fa0a1a2a5aeb0b2b5b6b7b9babcbec3c5cacbd6d8dbe0e1e2e3e4ebeceff0f1f4f5f6f7f8f9fbfe,55:0002030405080a0b0c0d0e121315161718191a1c1d1e1f212526#28292b2d3234353638393a3b3d40424547484b4c4d4e4f515253545758595a5b5d5e5f60626368696b6f7071727374797a7d7f85868c8d8e9092939596979a9b9ea0a1a2a3a4a5a6a8a9aaabacadaeafb0b2b4b6b8babcbfc0c1c2c3c6c7c8cacbcecfd0d5d7d8d9dadbdee0e2e7e9edeef0f1f4f6f8f9fafbfcff,56:0203040506070a0b0d1011121314151617191a1c1d202122252628292a2b2e2f30333537383a3c3d3e404142434445464748494a4b4f5051525355565a5b5d5e5f6061#636566676d6e6f70727374757778797a7d7e7f80818283848788898a8b8c8d9091929495969798999a9b9c9d9e9fa0a1a2a4a5a6a7a8a9aaabacadaeb0b1b2b3b4b5b6b8b9babbbdbebfc0c1c2c3c4c5c6c7c8c9cbcccdcecfd0d1d2d3d5d6d8d9dce3e5e6e7e8e9eaeceeeff2f3f6f7f8fbfc,57:00010205070b0c0d0e0f101112131415161718191a1b1d1e202122242526272b313234353637383c3d3f414344454648494b52535455565859626365676c6e707172747578797a7d7e7f80#818788898a8d8e8f90919495969798999a9c9d9e9fa5a8aaacafb0b1b3b5b6b7b9babbbcbdbebfc0c1c4c5c6c7c8c9cacccdd0d1d3d6d7dbdcdee1e2e3e5e6e7e8e9eaebeceef0f1f2f3f5f6f7fbfcfeff,58:0103040508090a0c0e0f101213141617181a1b1c1d1f222325262728292b2c2d2e2f31323334363738393a3b3c3d3e3f4041424345464748494a4b4e4f505253555657595a5b5c5d5f6061626364666768696a6d6e6f707172737475767778797a7b7c7d7f82848687888a8b8c#8d8e8f909194959697989b9c9da0a1a2a3a4a5a6a7aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbdbebfc0c2c3c4c6c7c8c9cacbcccdcecfd0d2d3d4d6d7d8d9dadbdcdddedfe0e1e2e3e5e6e7e8e9eaedeff1f2f4f5f7f8fafbfcfdfeff,59:000103050608090a0b0c0e1011121317181b1d1e2021222326282c30323335363b3d3e3f404345464a4c4d505253595b5c5d5e5f616364666768696a6b6c6d6e6f70717275777a7b7c7e7f8085898b8c8e8f90919495989a9b9c9d9fa0a1a2a6#a7acadb0b1b3b4b5b6b7b8babcbdbfc0c1c2c3c4c5c7c8c9cccdcecfd5d6d9dbdedfe0e1e2e4e6e7e9eaebedeeeff0f1f2f3f4f5f6f7f8fafcfdfe,5a:00020a0b0d0e0f101214151617191a1b1d1e2122242627282a2b2c2d2e2f3033353738393a3b3d3e3f414243444547484b4c4d4e4f5051525354565758595b5c5d5e5f60616364656668696b6c6d6e6f7071727378797b7c7d7e808182838485868788898a8b8c8d8e8f9091939495969798999c9d9e9fa0a1a2a3a4a5a6a7a8a9abac#adaeafb0b1b4b6b7b9babbbcbdbfc0c3c4c5c6c7c8cacbcdcecfd0d1d3d5d7d9dadbdddedfe2e4e5e7e8eaecedeeeff0f2f3f4f5f6f7f8f9fafbfcfdfeff,5b:0001020304050607080a0b0c0d0e0f10111213141518191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303133353638393a3b3c3d3e3f4142434445464748494a4b4c4d4e4f52565e606167686b6d6e6f7274767778797b7c7e7f82868a8d8e90919294969fa7a8a9acadaeafb1b2b7babbbcc0c1c3c8c9cacbcdcecf#d1d4d5d6d7d8d9dadbdce0e2e3e6e7e9eaebecedeff1f2f3f4f5f6f7fdfe,5c:0002030507080b0c0d0e10121317191b1e1f2021232628292a2b2d2e2f303233353637434446474c4d5253545657585a5b5c5d5f62646768696a6b6c6d70727374757677787b7c7d7e808384858687898a8b8e8f9293959d9e9fa0a1a4a5a6a7a8aaaeafb0b2b4b6b9babbbcbec0c2c3c5c6c7c8c9cacccdcecfd0d1d3d4d5d6d7d8dadbdcdddedfe0e2e3e7e9ebeceeeff1f2f3f4f5f6f7f8f9fafcfdfeff,5d:00#01040508090a0b0c0d0f10111213151718191a1c1d1f2021222325282a2b2c2f3031323335363738393a3b3c3f4041424344454648494d4e4f5051525354555657595a5c5e5f6061626364656667686a6d6e7071727375767778797a7b7c7d7e7f8081838485868788898a8b8c8d8e8f9091929394959697989a9b9c9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b8b9babbbcbdbebfc0c1c2c3c4c6c7c8c9cacbcccecfd0d1d2d3d4d5d6d7d8d9dadcdfe0e3e4eaeced#f0f5f6f8f9fafbfcff,5e:000407090a0b0d0e1213171e1f20212223242528292a2b2c2f303233343536393a3e3f404143464748494a4b4d4e4f50515253565758595a5c5d5f60636465666768696a6b6c6d6e6f70717577797e8182838588898c8d8e92989b9da1a2a3a4a8a9aaabacaeafb0b1b2b4babbbcbdbfc0c1c2c3c4c5c6c7c8cbcccdcecfd0d4d5d7d8d9dadcdddedfe0e1e2e3e4e5e6e7e9ebecedeeeff0f1f2f3f5f8f9fbfcfd,5f:050607090c0d0e10121416191a1c1d1e21222324#282b2c2e30323334353637383b3d3e3f4142434445464748494a4b4c4d4e4f5154595a5b5c5e5f60636567686b6e6f72747576787a7d7e7f83868d8e8f919394969a9b9d9e9fa0a2a3a4a5a6a7a9abacafb0b1b2b3b4b6b8b9babbbebfc0c1c2c7c8cacbced3d4d5dadbdcdedfe2e3e5e6e8e9eceff0f2f3f4f6f7f9fafc,60:0708090b0c10111317181a1e1f2223242c2d2e3031323334363738393a3d3e404445464748494a4c4e4f5153545657585b5c5e5f606165666e71727475777e80#8182858687888a8b8e8f909193959798999c9ea1a2a4a5a7a9aaaeb0b3b5b6b7b9babdbebfc0c1c2c3c4c7c8c9cccdcecfd0d2d3d4d6d7d9dbdee1e2e3e4e5eaf1f2f5f7f8fbfcfdfeff,61:02030405070a0b0c1011121314161718191b1c1d1e21222528292a2c2d2e2f303132333435363738393a3b3c3d3e4041424344454647494b4d4f50525354565758595a5b5c5e5f606163646566696a6b6c6d6e6f717273747678797a7b7c7d7e7f808182838485868788898a8c8d8f9091929395#969798999a9b9c9e9fa0a1a2a3a4a5a6aaabadaeafb0b1b2b3b4b5b6b8b9babbbcbdbfc0c1c3c4c5c6c7c9cccdcecfd0d3d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e7e8e9eaebecedeeeff0f1f2f3f4f6f7f8f9fafbfcfdfe,62:00010203040507091314191c1d1e2023262728292b2d2f303132353638393a3b3c424445464a4f50555657595a5c5d5e5f6061626465687172747577787a7b7d818283858687888b8c8d8e8f9094999c9d9ea3a6a7a9aaadaeafb0b2b3b4b6b7b8babec0c1#c3cbcfd1d5dddee0e1e4eaebf0f2f5f8f9fafb,63:00030405060a0b0c0d0f10121314151718191c2627292c2d2e30313334353637383b3c3e3f40414447484a51525354565758595a5b5c5d60646566686a6b6c6f707273747578797c7d7e7f81838485868b8d9193949597999a9b9c9d9e9fa1a4a6abafb1b2b5b6b9bbbdbfc0c1c2c3c5c7c8cacbccd1d3d4d5d7d8d9dadbdcdddfe2e4e5e6e7e8ebeceeeff0f1f3f5f7f9fafbfcfe,64:0304060708090a0d0e111215161718191a1d1f222324#252728292b2e2f3031323335363738393b3c3e404243494b4c4d4e4f505153555657595a5b5c5d5f60616263646566686a6b6c6e6f70717273747576777b7c7d7e7f8081838688898a8b8c8d8e8f90939497989a9b9c9d9fa0a1a2a3a5a6a7a8aaabafb1b2b3b4b6b9bbbdbebfc1c3c4c6c7c8c9cacbcccfd1d3d4d5d6d9dadbdcdddfe0e1e3e5e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,65:01020304050607080a0b0c0d0e0f10111314151617191a1b1c1d1e1f2021#222324262728292a2c2d30313233373a3c3d404142434446474a4b4d4e5052535457585a5c5f606164656768696a6d6e6f7173757678797a7b7c7d7e7f8081828384858688898a8d8e8f92949596989a9d9ea0a2a3a6a8aaacaeb1b2b3b4b5b6b7b8babbbebfc0c2c7c8c9cacdd0d1d3d4d5d8d9dadbdcdddedfe1e3e4eaebf2f3f4f5f8f9fbfcfdfeff,66:0104050708090b0d1011121617181a1b1c1e2122232426292a2b2c2e3032333738393a3b3d3f40424445464748494a4d4e505158#595b5c5d5e6062636567696a6b6c6d7172737578797b7c7d7f808183858688898a8b8d8e8f909293949598999a9b9c9e9fa0a1a2a3a4a5a6a9aaabacadafb0b1b2b3b5b6b7b8babbbcbdbfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8dadedfe0e1e2e3e4e5e7e8eaebecedeeeff1f5f6f8fafbfd,67:010203040506070c0e0f1112131618191a1c1e20212223242527292e303233363738393b3c3e3f414445474a4b4d5254555758595a5b5d62636466676b6c6e717476#78797a7b7d8082838586888a8c8d8e8f9192939496999b9fa0a1a4a6a9acaeb1b2b4b9babbbcbdbebfc0c2c5c6c7c8c9cacbcccdced5d6d7dbdfe1e3e4e6e7e8eaebedeef2f5f6f7f8f9fafbfcfe,68:01020304060d1012141518191a1b1c1e1f20222324252627282b2c2d2e2f30313435363a3b3f474b4d4f52565758595a5b5c5d5e5f6a6c6d6e6f707172737578797a7b7c7d7e7f8082848788898a8b8c8d8e90919294959698999a9b9c9d9e9fa0a1a3a4a5a9aaabacaeb1b2b4b6b7b8#b9babbbcbdbebfc1c3c4c5c6c7c8cacccecfd0d1d3d4d6d7d9dbdcdddedfe1e2e4e5e6e7e8e9eaebecedeff2f3f4f6f7f8fbfdfeff,69:00020304060708090a0c0f11131415161718191a1b1c1d1e21222325262728292a2b2c2e2f313233353637383a3b3c3e4041434445464748494a4b4c4d4e4f50515253555658595b5c5f616264656768696a6c6d6f7072737475767a7b7d7e7f8183858a8b8c8e8f909192939697999a9d9e9fa0a1a2a3a4a5a6a9aaacaeafb0b2b3b5b6b8b9babcbd#bebfc0c2c3c4c5c6c7c8c9cbcdcfd1d2d3d5d6d7d8d9dadcdddee1e2e3e4e5e6e7e8e9eaebeceeeff0f1f3f4f5f6f7f8f9fafbfcfe,6a:000102030405060708090b0c0d0e0f10111213141516191a1b1c1d1e20222324252627292b2c2d2e30323334363738393a3b3c3f40414243454648494a4b4c4d4e4f515253545556575a5c5d5e5f60626364666768696a6b6c6d6e6f70727374757677787a7b7d7e7f81828385868788898a8b8c8d8f929394959698999a9b9c9d9e9fa1a2a3a4a5a6#a7a8aaadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,6b:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f252628292a2b2c2d2e2f303133343536383b3c3d3f4041424445484a4b4d4e4f5051525354555657585a5b5c5d5e5f606168696b6c6d6e6f7071727374757677787a7d7e7f808588#8c8e8f909194959798999c9d9e9fa0a2a3a4a5a6a7a8a9abacadaeafb0b1b2b6b8b9babbbcbdbec0c3c4c6c7c8c9caccced0d1d8dadcdddedfe0e2e3e4e5e6e7e8e9ecedeef0f1f2f4f6f7f8fafbfcfeff,6c:000102030408090a0b0c0e12171c1d1e2023252b2c2d31333637393a3b3c3e3f434445484b4c4d4e4f5152535658595a62636566676b6c6d6e6f71737577787a7b7c7f8084878a8b8d8e9192959697989a9c9d9ea0a2a8acafb0b4b5b6b7bac0c1c2c3c6c7c8cbcdcecfd1d2d8#d9dadcdddfe4e6e7e9ecedf2f4f9ff,6d:000203050608090a0d0f101113141516181c1d1f20212223242628292c2d2f30343637383a3f404244494c50555657585b5d5f6162646567686b6c6d707172737576797a7b7d7e7f8081838486878a8b8d8f9092969798999a9ca2a5acadb0b1b3b4b6b7b9babbbcbdbec1c2c3c8c9cacdcecfd0d2d3d4d5d7dadbdcdfe2e3e5e7e8e9eaedeff0f2f4f5f6f8fafdfeff,6e:0001020304060708090b0f12131518191b1c1e1f222627282a2c2e30313335#3637393b3c3d3e3f40414245464748494a4b4c4f5051525557595a5c5d5e606162636465666768696a6c6d6f707172737475767778797a7b7c7d8081828487888a8b8c8d8e91929394959697999a9b9d9ea0a1a3a4a6a8a9abacadaeb0b3b5b8b9bcbebfc0c3c4c5c6c8c9cacccdced0d2d6d8d9dbdcdde3e7eaebecedeeeff0f1f2f3f5f6f7f8fafbfcfdfeff,6f:000103040507080a0b0c0d0e101112161718191a1b1c1d1e1f212223252627282c2e303234353738393a3b3c3d3f404142#43444548494a4c4e4f5051525354555657595a5b5d5f60616364656768696a6b6c6f707173757677797b7d7e7f808182838586878a8b8f909192939495969798999a9b9d9e9fa0a2a3a4a5a6a8a9aaabacadaeafb0b1b2b4b5b7b8babbbcbdbebfc1c3c4c5c6c7c8cacbcccdcecfd0d3d4d5d6d7d8d9dadbdcdddfe2e3e4e5e6e7e8e9eaebecedf0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,70:000102030405060708090a0b0c0d0e0f1012131415161718191c1d1e1f2021222425262728292a#2b2c2d2e2f30313233343637383a3b3c3d3e3f404142434445464748494a4b4d4e505152535455565758595a5b5c5d5f606162636465666768696a6e7172737477797a7b7d818283848687888b8c8d8f90919397989a9b9e9fa0a1a2a3a4a5a6a7a8a9aab0b2b4b5b6babebfc4c5c6c7c9cbcccdcecfd0d1d2d3d4d5d6d7dadcdddee0e1e2e3e5eaeef0f1f2f3f4f5f6f8fafbfcfeff,71:0001020304050607080b0c0d0e0f111214171b1c1d1e1f2021222324252728292a2b2c2d2e323334#353738393a3b3c3d3e3f4041424344464748494b4d4f505152535455565758595a5b5d5f6061626365696a6b6c6d6f707174757677797b7c7e7f8081828385868788898b8c8d8e909192939596979a9b9c9d9ea1a2a3a4a5a6a7a9aaabadaeafb0b1b2b4b6b7b8babbbcbdbebfc0c1c2c4c5c6c7c8c9cacbcccdcfd0d1d2d3d6d7d8d9dadbdcdddedfe1e2e3e4e6e8e9eaebecedeff0f1f2f3f4f5f6f7f8fafbfcfdfeff,72:0001020304050708090a0b0c0d0e0f101112131415161718191a#1b1c1e1f2021222324252627292b2d2e2f3233343a3c3e40414243444546494a4b4e4f505153545557585a5c5e60636465686a6b6c6d707173747677787b7c7d828385868788898c8e9091939495969798999a9b9c9d9ea0a1a2a3a4a5a6a7a8a9aaabaeb1b2b3b5babbbcbdbebfc0c5c6c7c9cacbcccfd1d3d4d5d6d8dadb#95$,30:000102,00b702:c9c7,00a830:0305,2014ff5e20:162618191c1d,30:141508090a0b0c0d0e0f16171011,00:b1d7f7,22:362728110f2a2908371aa52520,231222:992b2e614c483d1d606e6f64651e3534,26:4240,00b020:3233,2103ff0400a4ff:e0e1,203000a7211626:0605,25:cbcfcec7c6a1a0b3b2,203b21:92909193,30:13#95$,21:70717273747576777879#4$,24:88898a8b8c8d8e8f909192939495969798999a9b7475767778797a7b7c7d7e7f808182838485868760616263646566676869##,32:20212223242526272829##,21:606162636465666768696a6b#97$,ff:010203e505060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5de3#95$,30:4142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f90919293#106$a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6#103$,03:9192939495969798999a9b9c9d9e9fa0a1a3a4a5a6a7a8a9#6$b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c3c4c5c6c7c8c9#5$,fe:3536393a3f403d3e41424344##3b3c373831#3334#104$,04:10111213141501161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f#13$30313233343551363738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f#11$,02:cacbd9,20:13152535,21:050996979899,22:151f23526667bf,25:505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f7071727381828384858687#88898a8b8c8d8e8f939495bcbde2e3e4e5,2609229530:121d1e#9$,010100e101ce00e0011300e9011b00e8012b00ed01d000ec014d00f301d200f2016b00fa01d400f901:d6d8dadc,00:fcea,0251e7c701:4448,e7c802:61#2$,31:05060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f20212223242526272829#19$,30:212223242526272829,32a333:8e8f9c9d9ea1c4ced1d2d5,fe30ff:e2e4#,212132:31#,20:10#1$,30:fc9b9cfdfe069d9e,fe:494a4b4c4d4e4f50515254555657595a5b5c5d5e5f6061#626364656668696a6b,e7:e7e8e9eaebecedeeeff0f1f2f3,30:07#11$,25:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b#13$,72:dcdddfe2e3e4e5e6e7eaebf5f6f9fdfeff,73:00020405060708090b0c0d0f1011121418191a1f2023242627282d2f30323335363a3b3c3d404142434445464748#494a4b4c4e4f515354555658595a5b5c5d5e5f6162636465666768696a6b6e7071#92$72737475767778797a7b7c7d7f808182838586888a8c8d8f90929394959798999a9c9d9ea0a1a3a4a5a6a7a8aaacadb1b4b5b6b8b9bcbdbebfc1c3c4c5c6c7#cbccced2d3d4d5d6d7d8dadbdcdddfe1e2e3e4e6e8eaebeceeeff0f1f3f4f5f6f7#92$f8f9fafbfcfdfeff,74:0001020407080b0c0d0e1112131415161718191c1d1e1f2021232427292b2d2f31323738393a3b3d3e3f4042434445464748494a4b4c4d#4e4f505152535456585d606162636465666768696a6b6c6e6f717273747578797a#92$7b7c7d7f8284858688898a8c8d8f9192939495969798999a9b9d9fa0a1a2a3a4a5a6aaabacadaeafb0b1b2b3b4b5b6b7b8b9bbbcbdbebfc0c1c2c3c4c5c6c7#c8c9cacbcccdcecfd0d1d3d4d5d6d7d8d9dadbdddfe1e5e7e8e9eaebecedf0f1f2#92$f3f5f8f9fafbfcfdfe,75:0001020305060708090a0b0c0e1012141516171b1d1e202122232426272a2e3436393c3d3f414243444647494a4d5051525355565758#5d5e5f60616263646768696b6c6d6e6f7071737576777a7b7c7d7e808182848587#92$88898a8c8d8e909395989b9c9ea2a6a7a8a9aaadb6b7babbbfc0c1c6cbcccecfd0d1d3d7d9dadcdddfe0e1e5e9ecedeeeff2f3f5f6f7f8fafbfdfe,76:02040607#08090b0d0e0f11121314161a1c1d1e212327282c2e2f31323637393a3b3d414244#92$45464748494a4b4e4f50515253555758595a5b5d5f6061626465666768696a6c6d6e7071727374757677797a7c7f80818385898a8c8d8f9092949597989a9b#9c9d9e9fa0a1a2a3a5a6a7a8a9aaabacadafb0b3b5b6b7b8b9babbbcbdbec0c1c3,554a963f57c3632854ce550954c076:914c,853c77ee827e788d72319698978d6c285b894ffa630966975cb880fa684880ae660276ce51f9655671ac7ff1888450b2596561ca6fb382ad634c625253ed54277b06516b75a45df462d48dcb9776628a8019575d97387f627238767d67cf767e64464f708d2562dc7a17659173ed642c6273822c9881677f724862:6ecc,4f3474e3534a529e7eca90a65e2e6886699c81807ed168d278c5868c9551508d8c2482de80de53058912526576:c4c7c9cbccd3d5d9dadcdddee0e1e2e3e4e6e7e8e9eaebecedf0f3f5f6f7fafbfdff,77:00020305060a0c0e0f1011121314151617181b1c1d1e21232425272a2b#2c2e3031323334393b3d3e3f4244454648494a4b4c4d4e4f52535455565758595c,858496f94fdd582199715b9d62:b1a5,66b48c799c8d7206676f789160b253:5117,8f8880cc8d1d94a1500d72c8590760eb711988ab595482ef672c7b285d297ef7752d6cf58e668ff8903c9f3b6bd491197b145f7c78a784d6853d6b:d5d9d6,5e:0187,75f995ed655d5f:0ac5,8f9f58c181c2907f965b97ad8fb97f168d2c62414fbf53:d85e,8f:a8a9ab,904d68075f6a819888689cd6618b522b762a5f6c658c6fd26ee85bbe644851:75b0,67c44e1979c9997c70b377:5d5e5f606467696a6d6e6f7071727374757677787a7b7c818283868788898a8b8f90939495969798999a9b9c9d9ea1a3a4a6a8abadaeafb1b2b4b6b7b8b9ba#bcbec0c1c2c3c4c5c6c7c8c9cacbcccecfd0d1d2d3d4d5d6d8d9dadddedfe0e1e4,75c55e7673bb83e064ad62e894b56ce2535a52c3640f94c27b944f2f5e1b823681:168a,6e246cca9a736355535c54fa886557e04e0d5e036b657c3f90e8601664e6731c88c16750624d8d22776c8e2991c75f6983dc8521991053c286956b8b60:ede8,707f82:cd31,4ed36ca785cf64cd7cd969fd66f9834953957b564fa7518c6d4b5c428e6d63d253c983:2c36,67e578b4643d5bdf5c945dee8be762c667f48c7a640063ba8749998b8c177f2094f24ea7961098a4660c731677:e6e8eaeff0f1f2f4f5f7f9fafbfc,78:0304050607080a0b0e0f101315191b1e20212224282a2b2e2f31323335363d3f414243444648494a4b4d4f51535458595a#5b5c5e5f606162636465666768696f7071727374757678797a7b7d7e7f80818283,573a5c1d5e38957f507f80a05382655e7545553150218d856284949e671d56326f6e5de2543570928f66626f64a463a35f7b6f8890f481e38fb05c1866685ff16c8996488d81886c649179f057ce6a59621054484e587a0b60e96f848bda627f901e9a8b79e4540375f4630153196c608fdf5f1b9a70803b9f7f4f885c3a8d647fc565a570bd51:45b2,866b5d075ba062bd916c75748e0c7a2061017b794ec77ef877854e1181ed521d51fa6a7153a88e87950496cf6ec19664695a78:848586888a8b8f9092949596999d9ea0a2a4a6a8a9aaabacadaeafb5b6b7b8babbbcbdbfc0c2c3c4c6c7c8cccdcecfd1d2d3d6d7d8dadbdcdddedfe0e1e2e3#e4e5e6e7e9eaebedeeeff0f1f3f5f6f8f9fbfcfdfeff,79:00020304060708090a0b0c,784050a877d7641089e6590463e35ddd7a7f693d4f20823955984e3275ae7a975e:628a,95ef521b5439708a6376952457826625693f918755076df37eaf882262337ef075b5832878c196cc8f9e614874f78bcd6b64523a8d506b21806a847156f153064e:ce1b,51d17c97918b7c074fc38e7f7be17a9c64675d1450ac810676017cb96dec7fe067515b:58f8,78cb64:ae13,63:aa2b,9519642d8fbe7b5476296253592754466b7950a362345e266b864ee38d37888b5f85902e79:0d0e0f1011121415161718191a1b1c1d1f2021222325262728292a2b2c2d2e2f3031323335363738393d3f42434445474a4b4c4d4e4f505152545558596163#6466696a6b6c6e70717273747576797b7c7d7e7f8283868788898b8c8d8e909192,6020803d62c54e39535590f863b880c665e66c2e4f4660ee6de18bde5f3986cb5f536321515a83616863520063638e4850125c9b79775bfc52307a3b60bc905376d75f:b797,76848e6c706f767b7b4977aa51f3909358244f4e6ef48fea654c7b1b72c46da47fdf5ae162b55e95573084827b2c5e1d5f1f90127f1498a063826ec7789870b95178975b57ab75354f4375385e9760e659606dc06bbf788953fc96d551cb52016389540a94938c038dcc7239789f87768fed8c0d53e079:939495969798999b9c9d9e9fa0a1a2a3a4a5a6a8a9aaabacadaeafb0b1b2b4b5b6b7b8bcbfc2c4c5c7c8cacccecfd0d3d4d6d7d9dadbdcdddee0e1e2e5e8ea#eceef1f2f3f4f5f6f7f9fafcfeff,7a:0104050708090a0c0f10111213151618191b1c,4e0176ef53ee948998769f0e952d5b9a8ba24e:221c,51ac846361c252a8680b4f97606b51bb6d1e515c6296659796618c46901775d890fd77636bd272:8aec,8bfb583577798d4c675c9540809a5ea66e2159927aef77ed953b6bb565ad7f0e58065151961f5bf958a954288e726566987f56e4949d76fe9041638754c659:1a3a,579b8eb267358dfa8235524160f0581586fe5ce89e454fc4989d8bb95a2560765384627c904f9102997f6069800c513f80335c1499756d314e8c7a:1d1f21222425262728292a2b2c2d2e2f303132343536383a3e4041424344454748494a4b4c4d4e4f50525354555658595a5b5c5d5e5f606162636465666768#696a6b6c6d6e6f717273757b7c7d7e828587898a8b8c8e8f909394999a9b9ea1a2,8d3053d17f5a7b4f4f104e4f96006cd573d085e95e06756a7ffb6a0a77fe94927e4151e170e653cd8fd483038d2972af996d6cdb574a82b365b980aa623f963259a84eff8bbf7eba653e83f2975e556198de80a5532a8bfd542080ba5e9f6cb88d3982ac915a54296c1b52067eb7575f711a6c7e7c89594b4efd5fff61247caa4e305c0167ab87025cf0950b98ce75af70fd902251af7f1d8bbd594951e44f5b5426592b657780a45b7562:76c2,8f905e456c1f7b264f:0fd8,670d7a:a3a4a7a9aaabaeafb0b1b2b4b5b6b7b8b9babbbcbdbec0c1c2c3c4c5c6c7c8c9cacccdcecfd0d1d2d3d4d5d7d8dadbdcdde1e2e4e7e8e9eaebeceef0f1f2f3#f4f5f6f7f8fbfcfe,7b:0001020507090c0d0e1012131617181a1c1d1f21222327292d,6d:6eaa,798f88b15f17752b629a8f854fef91dc65a781:2f51,5e9c81508d74526f89868d4b590d50854ed8961c723681798d1f5bcc8ba3964459877f1a549056:760e,8be565396982949976d66e895e72751867:46d1,7aff809d8d76611f79c665628d635188521a94a27f38809b7eb25c976e2f67607bd9768b9ad8818f7f947cd5641e95507a3f54:4ae5,6b4c640162089e3d80f3759952729769845b683c86e496:0194,94ec4e2a54047ed968398ddf801566f45e9a7fb97b:2f303234353637393b3d3f404142434446484a4d4e535557595c5e5f61636465666768696a6b6c6d6f70737476787a7c7d7f81828384868788898a8b8c8e8f#9192939698999a9b9e9fa0a3a4a5aeafb0b2b3b5b6b7b9babbbcbdbebfc0c2c3c4,57c2803f68975de5653b529f606d9f9a4f9b8eac516c5bab5f135de96c5e62f18d21517194a952fe6c9f82df72d757a267848d2d591f8f9c83c754957b8d4f306cbd5b6459d19f1353e486ca9aa88c3780a16545987e56fa96c7522e74dc52505be1630289024e5662d0602a68fa51735b9851a089c27ba199867f5060ef704c8d2f51495e7f901b747089c4572d78455f529f9f95fa8f689b3c8be17678684267dc8d:ea35,523d8f8a6eda68cd950590ed56fd679c88f98fc754c87b:c5c8c9cacbcdcecfd0d2d4d5d6d7d8dbdcdedfe0e2e3e4e7e8e9ebecedeff0f2f3f4f5f6f8f9fafbfdff,7c:0001020304050608090a0d0e101112131415171819#1a1b1c1d1e20212223242528292b2c2d2e2f3031323334353637393a3b3c3d3e42,9ab85b696d776c264ea55bb39a87916361a890af97e9542b6db55bd251fd558a7f:55f0,64bc634d65f161be608d710a6c:5749,592f676d822a58d5568e8c6a6beb90dd597d801753f76d695475559d83:77cf,683879be548c4f55540876d28c8996026cb36db88d6b89109e648d3a563f9ed175d55f8872e0606854fc4ea86a2a886160528f7054c470d886799e3f6d2a5b8f5f187ea255894faf7334543c539a501954:0e7c,4e4e5ffd745a58f6846b80e1877472d07cca6e567c:434445464748494a4b4c4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f70717275767778797a7e7f8081828384858687#888a8b8c8d8e8f90939496999a9ba0a1a3a6a7a8a9abacadafb0b4b5b6b7b8babb,5f27864e552c62a44e926caa623782b154d7534e733e6ed1753b521253168bdd69d05f8a60006dee574f6b2273af68538fd87f13636260a3552475ea8c6271156da35ba65e7b8352614c9ec478fa87577c27768751f060f6714c66435e4c604d8c0e707063258f895fbd606286d456de6bc160946167534960e066668d3f79fd4f1a70e96c478b:b3f2,7ed88364660f5a5a9b426d:51f7,8c416d3b4f19706b83b7621660d1970d8d27797851fb57:3efa,673a75787a3d79ef7b957c:bfc0c2c3c4c6c9cbcecfd0d1d2d3d4d8dadbdddee1e2e3e4e5e6e7e9eaebecedeef0f1f2f3f4f5f6f7f9fafcfdfeff,7d:000102030405060708090b0c0d0e0f10#1112131415161718191a1b1c1d1e1f212324252628292a2c2d2e30313233343536,808c99658ff96fc08ba59e2159ec7ee97f095409678168d88f917c4d96c653ca602575be6c7253735ac97ea7632451e0810a5df184df628051805b634f0e796d524260b86d4e5b:c4c2,8b:a1b0,65e25fcc964559937e:e7aa,560967b759394f735bb652a0835a988a8d3e753294be50477a3c4ef767b69a7e5ac16b7c76d1575a5c167b3a95f4714e517c80a9827059787f04832768c067ec78:b177,62e363617b804fed526a51cf835069db92748d:f531,89c1952e7bad4ef67d:3738393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6f70717273747576#78797a7b7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798,506582305251996f6e:1085,6da75efa50f559dc5c066d466c5f7586848b686859568bb253209171964d854969127901712680f64ea490ca6d479a845a0756bc640594f077eb4fa5811a72e189d2997a7f347ede527f655991758f:7f83,53eb7a9663:eda5,768679f888579636622a52ab8282685467706377776b7aed6d017ed389e359d0621285c982a5754c501f4ecb75a58beb5c4a5dfe7b4b65a491d14eca6d25895f7d2795264ec58c288fdb9773664b79818fd170ec6d787d:999a9b9c9d9e9fa0a1a2a3a4a5a7a8a9aaabacadafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9#dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fa,5c3d52b283465162830e775b66769cb84eac60ca7c:beb3,7ecf4e958b66666f988897595883656c955c5f8475c997567a:dfde,51c070af7a9863ea7a767ea0739697ed4e4570784e5d915253a965:51e7,81fc8205548e5c31759a97a062d872d975bd5c459a7983ca5c40548077e94e3e6cae805a62d2636e5de851778ddd8e1e952f4ff153e560e770ac526763509e435a1f5026773753777ee26485652b628963985014723589c951b38bc07edd574783cc94a7519b541b5cfb7d:fbfcfdfeff,7e:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f30313233343536373839#3a3c3d3e3f40424344454648494a4b4c4d4e4f505152535455565758595a5b5c5d,4fca7ae36d5a90e19a8f55805496536154af5f0063e9697751ef6168520a582a52d8574e780d770b5eb761777ce062:5b97,4ea27095800362f770e49760577782db67ef68f578d5989779d158f354b353ef6e34514b523b5ba28bfe80af554357a660735751542d7a7a60505b5463a762a053e362635bc767af54ed7a9f82e691775e9388e4593857ae630e8de880ef57577b774fa95feb5bbd6b3e53217b5072c2684677:ff36,65f751b54e8f76d45cbf7aa58475594e9b4150807e:5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f8081838485868788898a8b8c8d8e8f909192939495969798999a9c9d9e#aeb4bbbcd6e4ecf9,7f:0a101e37393b3c3d3e3f404143464748494a4b4c4d4e4f5253,998861276e8357646606634656f062:ec69,5ed39614578362c955878721814a8fa3556683b167658d5684dd5a6a680f62e67bee961151706f9c8c3063fd89c861d27f0670c26ee57405699472fc5eca90ce67176d6a635e52b3726280014f6c59e5916a70d96d9d52d24e5096f7956d857e78ca7d2f5121579264c2808b7c7b6cea68f1695e51b7539868a872819ece7bf172f879bb6f137406674e91cc9ca4793c83:8954,540f68174e3d538952b1783e5386522950884f:8bd0,7f:56595b5c5d5e6063646566676b6c6d6f7073757677787a7b7c7d7f8082838485868788898b8d8f9091929395969798999b9ca0a2a3a5a6a8a9aaabacadaeb1#b3b4b5b6b7babbbec0c2c3c4c6c7c8c9cbcdcfd0d1d2d3d6d7d9dadbdcdddee2e3,75e27acb7c926ca596b6529b748354e94fe9805483b28fde95705ec9601c6d9f5e18655b813894fe604b70bc7ec37cae51c968817cb1826f4e248f8691cf667e4eae8c0564a9804a50da759771ce5be58fbd6f664e86648295635ed66599521788c270c852a3730e7433679778f797164e3490bb9cde6dcb51db8d41541d62ce73b283f196f69f8494c34f367f9a51cc707596755cad988653e64ee46e9c740969b4786b998f7559521876246d4167f3516d9f99804b54997b3c7abf7f:e4e7e8eaebecedeff2f4f5f6f7f8f9fafdfeff,80:020708090a0e0f11131a1b1d1e1f2123242b2c2d2e2f303234393a3c3e404144454748494e4f505153555657#595b5c5d5e5f6061626364656667686b6c6d6e6f7072737475767778797a7b7c7d,9686578462e29647697c5a0464027bd36f0f964b82a6536298855e90708963b35364864f9c819e93788c97328d:ef42,9e7f6f5e79845f559646622e9a74541594dd4fa365c55c:6561,7f1586516c2f5f8b73876ee47eff5ce6631b5b6a6ee653754e7163a0756562a18f6e4f264ed16ca67eb68bba841d87ba7f57903b95237ba99aa188f8843d6d1b9a867edc59889ebb739b780186829a:6c82,561b541757cb4e709ea653568fc881097792999286ee6ee1851366fc61626f2b80:7e818285888a8d8e8f909192949597999ea3a6a7a8acb0b3b5b6b8b9bbc5c7c8c9cacbcfd0d1d2d3d4d5d8dfe0e2e3e6eef5f7f9fbfeff,81:000103040507080b#0c1517191b1c1d1f202122232425262728292a2b2d2e3033343537393a3b3c3d3f,8c298292832b76f26c135fd983bd732b8305951a6bdb77db94c6536f830251925e3d8c8c8d384e4873ab679a68859176970971646ca177095a9295416bcf7f8e66275bd059b95a9a95:e8f7,4eec84:0c99,6aac76df9530731b68a65b5f772f919a97617cdc8ff78c1c5f257c7379d889c56ccc871c5bc65e4268c977207ef551:954d,52c95a297f05976282d763cf778485d079d26e3a5e9959998511706d6c1162bf76bf654f60af95fd660e879f9e2394ed54:0d7d,8c2c647881:40414243444547494d4e4f525657585b5c5d5e5f6162636466686a6b6c6f727375767778818384858687898b8c8d8e90929394959697999a9e9fa0a1a2a4a5#a7a9abacadaeafb0b1b2b4b5b6b7b8b9bcbdbebfc4c5c7c8c9cbcdcecfd0d1d2d3,647986116a21819c78e864699b5462b9672b83ab58a89ed86cab6f205bde964c8c0b725f67d062c772614ea959c66bcd589366ae5e5552df6155672876ee776672677a4662ff54:ea50,94a090a35a1c7eb36c164e435976801059485357753796be56ca63208111607c95f96dd65462998151855ae980fd59ae9713502a6ce55c3c62df4f60533f817b90066eba852b62c85e7478be64b5637b5ff55a18917f9e1f5c3f634f80425b7d556e95:4a4d,6d8560a867e072de51dd5b8181:d4d5d6d7d8d9dadbdcdddedfe0e1e2e4e5e6e8e9ebeeeff0f1f2f5f6f7f8f9fafdff,82:030708090a0b0e0f111315161718191a1d2024252627292e323a3c3d3f#404142434546484a4c4d4e5051525354555657595b5c5d5e606162636465666769,62e76cde725b626d94ae7ebd81136d53519c5f04597452aa6012597366968650759f632a61e67cef8bfa54e66b279e256bb485d5545550766ca4556a8db4722c5e156015743662cd6392724c5f986e436d3e65006f5876d878d076fc7554522453db4e535e9e65c180:2ad6,629b5486522870ae888d8dd16ce1547880da57f988f48d54966a914d4f696c9b55b776c6783062a870f96f8e5f6d84ec68da787c7bf781a8670b9e4f636778b0576f7812973962:79ab,528874356bd782:6a6b6c6d71757677787b7c808183858687898c90939495969a9b9ea0a2a3a7b2b5b6babbbcbfc0c2c3c5c6c9d0d6d9dadde2e7e8e9eaecedeef0f2f3f5f6f8#fafcfdfeff,83:000a0b0d1012131618191d1e1f20212223242526292a2e3032373b3d,5564813e75b276ae533975de50fb5c418b6c7bc7504f72479a9798d86f0274e27968648777a562fc98918d2b54c180584e52576a82f9840d5e7351ed74f68bc45c4f57616cfc98875a4678349b448feb7c955256625194fa4ec68386846183e984b257d467345703666e6d668c3166dd7011671f6b3a6816621a59bb4e0351c46f0667d26c8f517668cb59476b6775665d0e81109f5065d779:4841,9a918d775c824e5e4f01542f5951780c56686c148fc45f036c:7de3,8bab639083:3e3f41424445484a4b4c4d4e5355565758595d6270717273747576797a7e7f808182838487888a8b8c8d8f909194959697999a9d9fa1a2a3a4a5a6a7acadae#afb5bbbebfc2c3c4c6c8c9cbcdced0d1d2d3d5d7d9dadbdee2e3e4e6e7e8ebeced,60706d3d7275626694:8ec5,53438fc17b7e4edf8c264e7e9ed494:b1b3,524d6f5c90636d458c3458115d4c6b:2049,67aa545b81547f8c589985375f3a62a26a47953965726084686577a74e544fa85de7979864ac7fd85ced4fcf7a8d520783044e14602f7a8394a64fb54eb279e6743452e482b964d279bd5bdd6c8197528f7b6c22503e537f6e0564ce66746c3060c598778bf75e86743c7a7779cb4e1890b174036c4256da914b6cc58d8b533a86c666f28eaf5c489a716e2083:eeeff3f4f5f6f7fafbfcfeff,84:0002050708090a10121314151617191a1b1e1f20212223292a2b2c2d2e2f30323334353637393a3b3e3f404142434445474849#4a4b4c4d4e4f505253545556585d5e5f606264656667686a6e6f70727477797b7c,53d65a369f8b8da353bb570898a76743919b6cc9516875ca62f372ac52:389d,7f3a7094763853749e4a69b7786e96c088d97fa471:36c3,518967d374e458e4651856b78ba9997662707ed560f970ed58ec4e:c1ba,5fcd97e74efb8ba45203598a7eab62544ecd65e5620e833884c98363878d71946eb65bb97ed2519763c967d480898339881551125b7a59828fb14e736c5d516589258f6f962e854a745e95:10f0,6da682e55f3164926d128428816e9cc3585e8d5b4e0953c184:7d7e7f8081838485868a8d8f90919293949596989a9b9d9e9fa0a2a3a4a5a6a7a8a9aaabacadaeb0b1b3b5b6b7bbbcbec0c2c3c5c6c7c8cbcccecfd2d4d5d7#d8d9dadbdcdee1e2e4e7e8e9eaebedeeeff1f2f3f4f5f6f7f8f9fafbfdfe,85:000102,4f1e6563685155d34e2764149a9a626b5ac2745f82726da968ee50e7838e7802674052396c997eb150bb5565715e7b5b665273ca82eb67495c715220717d886b95ea965564c58d6181b355846c5562477f2e58924f2455468d4f664c4e0a5c1a88f368a2634e7a0d70e7828d52fa97f65c1154e890b57ecd59628d4a86c782:0c0d,8d6664445c0461516d89793e8bbe78377533547b4f388eab6df15a207ec5795e6c885ba15a76751a80be614e6e1758f075:1f25,727253477ef385:030405060708090a0b0d0e0f101214151618191b1c1d1e2022232425262728292a2d2e2f303132333435363e3f404142444546474b4c4d4e4f505152535455#57585a5b5c5d5f60616263656667696a6b6c6d6e6f707173757677787c7d7f8081,770176db526980dc57235e08593172ee65bd6e7f8bd75c388671534177f362fe65f64ec098df86805b9e8bc653f277e24f7f5c4e9a7659cb5f0f793a58eb4e1667ff4e8b62ed8a93901d52bf662f55dc566c90024ed54f8d91ca99706c0f5e0260435ba489c68bd56536624b99965b:88ff,6388552e53d77626517d852c67a268b36b8a62928f9353d482126dd1758f4e668d4e5b70719f85af66:91d9,7f7287009ecd9f205c5e672f8ff06811675f620d7ad658855eb665706f3185:82838688898a8b8c8d8e909192939495969798999a9d9e9fa0a1a2a3a5a6a7a9abacadb1b2b3b4b5b6b8babbbcbdbebfc0c2c3c4c5c6c7c8cacbcccdced1d2#d4d6d7d8d9dadbdddedfe0e1e2e3e5e6e7e8eaebecedeeeff0f1f2f3f4f5f6f7f8,60555237800d6454887075295e05681362f4971c53cc723d8c016c3477617a0e542e77ac987a821c8bf47855671470c165af64955636601d79c153f84e1d6b7b80865bfa55e356db4f:3a3c,99725df3677e80386002988290015b8b8b:bcf5,641c825864de55fd82cf91654fd77d20901f7c9f50f358516eaf5bbf8bc980839178849c7b97867d96:8b8f,7ee59ad3788e5c817a57904296a7795f5b59635f7b0b84d168ad55067f2974107d2295016240584c4ed65b835979585485:f9fafcfdfe,86:0001020304060708090a0b0c0d0e0f10121314151718191a1b1c1d1e1f20212223242526282a2b2c2d2e2f3031323334353637393a3b3d3e3f40#4142434445464748494a4b4c525355565758595b5c5d5f6061636465666768696a,736d631e8e:4b0f,80ce82d462ac53f06cf0915e592a60016c70574d644a8d2a762b6ee9575b6a8075f06f6d8c:2d08,57666bef889278b363a253f970ad6c645858642a580268e0819b55107cd650188eba6dcc8d9f70eb638f6d9b6ed47ee68404684390036dd896768ba85957727985e4817e75bc8a8a68af52548e22951163d098988e44557c4f5366ff568f60d56d9552435c4959296dfb586b75:301c,606c82148146631167618fe2773a8d:f334,94c15e165385542c70c386:6d6f7072737475767778838485868788898e8f90919294969798999a9b9e9fa0a1a2a5a6abadaeb2b3b7b8b9bbbcbdbebfc1c2c3c5c8cccdd2d3d5d6d7dadc#dde0e1e2e3e5e6e7e8eaebeceff5f6f7fafbfcfdff,87:010405060b0c0e0f10111416,6c405ef7505c4ead5ead633a8247901a6850916e77b3540c94dc5f647ae5687663457b527edf75db507762955934900f51f879c37a8156fe5f9290146d825c60571f541051546e4d56e263a89893817f8715892a9000541e5c6f81c062:d658,81319e3596409a:6e7c,692d59a562d3553e631654c786d96d3c5a0374e6889c6b6a59168c4c5f2f6e7e73a9987d4e3870f75b8c7897633d665a769660cb5b9b5a494e0781556c6a738b4ea167897f515f8065fa671b5fd859845a0187:191b1d1f20242627282a2b2c2d2f303233353638393a3c3d404142434445464a4b4d4f505152545556585a5b5c5d5e5f6162666768696a6b6c6d6f71727375#7778797a7f8081848687898a8c8e8f90919294959698999a9b9c9d9ea0a1a2a3a4,5dcd5fae537197e68fdd684556f4552f60df4e3a6f4d7ef482c7840e59d44f:1f2a,5c3e7eac672a851a5473754f80c355829b4f4f4d6e2d8c135c096170536b761f6e29868a658795fb7eb9543b7a337d0a95ee55e17fc174ee631d87176da17a9d621165a1536763e16c835deb545c94a84e4c6c618bec5c4b65e0829c68a754:3e34,6b:cb66,4e9463425348821e4f:0dae,575e620a96fe6664726952:ffa1,609f8bef661471996790897f785277fd6670563b54389521727a87:a5a6a7a9aaaeb0b1b2b4b6b7b8b9bbbcbebfc1c2c3c4c5c7c8c9cccdcecfd0d4d5d6d7d8d9dadcdddedfe1e2e3e4e6e7e8e9ebecedeff0f1f2f3f4f5f6f7f8#fafbfcfdff,88:0001020405060708090b0c0d0e0f101112141718191a1c1d1e1f2023,7a00606f5e0c6089819d591560dc718470ef6eaa6c5072806a8488ad5e2d4e605ab3559c94e36d177cfb9699620f7ec6778e867e5323971e8f9666875ce14fa072ed4e0b53a6590f54136380952851484ed99c9c7ea454b88d248854823795f26d8e5f265acc663e966973:b02e,53bf817a99857fa15baa96:7750,7ebf76f853a2957699997bb189446e584e617fd479658be660f354cd4eab98795df76a6150cf54118c618427785d9704524a54ee56a395006d885bb56dc6665388:2425262728292a2b2c2d2e2f30313334353637383a3b3d3e3f414243464748494a4b4e4f505152535556585a5b5c5d5e5f6066676a6d6f717374757678797a#7b7c80838687898a8c8e8f90919394959798999a9b9d9e9fa0a1a3a5a6a7a8a9aa,5c0f5b5d6821809655787b11654869544e9b6b47874e978b534f631f643a90aa659c80c18c10519968b0537887f961c86c:c4fb,8c225c5185aa82af950c6b238f9b65b05f:fbc3,4fe18845661f8165732960fa51745211578b5f6290a2884c91925e78674f602759d351:44f6,80f853086c7996c4718a4f:11ee,7f9e673d55c5950879c088967ee3589f620c9700865a5618987b5f908bb884c4915753d965ed5e8f755c60647d6e5a7f7e:eaed,8f6955a75ba360ac65cb738488:acaeafb0b2b3b4b5b6b8b9babbbdbebfc0c3c4c7c8cacbcccdcfd0d1d3d6d7dadbdcdddee0e1e6e7e9eaebecedeeeff2f5f6f7fafbfdff,89:0001030405060708#090b0c0d0e0f1114151617181c1d1e1f20222324262728292c2d2e2f3132333537,9009766377297eda9774859b5b667a7496ea884052cb718f5faa65ec8be25bfb9a6f5de16b896c5b8b:adaf,900a8fc5538b62bc9e:262d,54404e2b82bd7259869c5d1688596daf96c554d14e9a8bb6710954bd960970df6df976d04e25781487125ca95ef68a00989c960e708e6cbf594463a9773c884d6f148273583071d5538c781a96c155015f6671305bb48c1a9a8c6b83592e9e2f79e76768626c4f6f75a17f8a6d0b96336c274ef075d2517b68376f3e908081705996747689:38393a3b3c3d3e3f40424345464748494a4b4c4d4e4f505152535455565758595a5b5c5d6061626364656768696a6b6c6d6e6f707172737475767778797a7c#7d7e808284858788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1,64475c2790657a918c2359da54ac8200836f898180006930564e8036723791ce51b64e5f987563964e1a53f666f3814b591c6db24e0058f9533b63d694f14f:9d0a,886398905937905779fb4eea80f075916c825b9c59e85f5d69058681501a5df24e5977e34ee5827a6291661390915c794ebf5f7981c69038808475ab4ea688d4610f6bc55fc64e4976ca6ea28b:e3ae,8c0a8bd15f027f:fccc,7ece83:356b,56e06bb797f3963459fb541f94f66deb5bc5996e5c395f15969089:a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c3cdd3d4d5d7d8d9dbdddfe0e1e2e4e7e8e9eaecedeef0f1f2f4f5f6f7f8f9fa#fbfcfdfeff,8a:01020304050608090a0b0c0d0e0f101112131415161718191a1b1c1d,537082f16a315a749e705e947f2883b984:2425,836787478fce8d6276c85f719896786c662054df62e54f6381c375c85eb896cd8e0a86f9548f6cf36d8c6c38607f52c775285e7d4f1860a05fe75c24753190ae94c072b96cb96e389149670953:cbf3,4f5191c98bf153c85e7c8fc26de44e8e76c26986865e611a82064f:59de,903e9c7c61096e:1d14,96854e885a3196e84e0e5c7f79b95b878bed7fbd738957df828b90c15401904755bb5cea5fa161086b3272f180b28a:891e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3f4041424344454647494a4b4c4d4e4f505152535455565758595a5b5c5d5e#5f606162636465666768696a6b6c6d6e6f7071727374757677787a7b7c7d7e7f80,6d745bd388d598848c6b9a6d9e336e0a51:a443,57a38881539f63f48f9556ed54585706733f6e907f188fdc82d1613f6028966266f07ea68d:8ac3,94a55cb37ca4670860a6960580184e9190e75300966851418fd08574915d665597f55b55531d78386742683d54c9707e5bb08f7d518d572854b1651266828d:5e43,810f846c906d7cdf51ff85fb67a365e96fa186a48e81566a90207682707671e58d2362e952196cfd8d3c600e589e618e66fe8d60624e55b36e23672d8f678a:81828384858687888b8c8d8e8f9091929495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2#c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3,94e195f87728680569a8548b4e4d70b88bc86458658b5b857a84503a5be877bb6be18a797c986cbe76cf65a98f975d2d5c5586386808536062187ad96e5b7efd6a1f7ae05f706f335f20638c6da867564e085e108d264ed780c07634969c62db662d627e6cbc8d7571677f695146808753ec906e629854f286f08f998005951785178fd96d5973cd659f771f7504782781fb8d1e94884fa6679575b98bca9707632f9547963584b8632377415f8172f04e896014657462ef6b63653f8a:e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,8b:0001020304050608090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f20212223#24252728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445,5e2775c790d18bc1829d679d652f5431871877e580a281026c414e4b7ec7804c76f4690d6b966267503c4f84574063076b628dbe53ea65e87eb85fd763:1ab7,81:f3f4,7f6e5e1c5cd95236667a79e97a1a8d28709975d46ede6cbb7a924e2d76c55fe0949f88777ec879cd80bf91cd4ef24f17821f54685dde6d328bcc7ca58f7480985e1a549276b15b99663c9aa473e0682a86db6731732a8b:f8db,90107af970db716e62c477a956314e3b845767f152a986c08d2e94f87b518b:464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f6061626364656768696a6b6d6e6f707172737475767778797a7b7c7d7e7f80818283848586#8788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9facb1bbc7d0ea,8c:091e,4f4f6ce8795d9a7b6293722a62fd4e1378168f6c64b08d5a7bc668695e8488c55986649e58ee72b6690e95258ffd8d5857607f008c0651c6634962d95353684c74228301914c55447740707c6d4a517954a88d4459ff6ecb6dc45b5c7d2b4ed47c7d6ed35b5081ea6e0d5b579b0368d58e2a5b977efc603b7eb590b98d70594f63cd79df8db3535265cf79568bc5963b7ec494bb7e825634918967007f6a5c0a907566285de64f5067de505a4f5c57505e:a7#3$,8c:38393a3b3c3d3e3f4042434445484a4b4d4e4f5051525354565758595b5c5d5e5f60636465666768696c6d6e6f707172747576777b7c7d7e7f808183848687#888b8d8e8f90919293959697999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacad,4e:8d0c,51404e105eff53454e:15981e,9b325b6c56694e2879ba4e3f53154e47592d723b536e6c1056df80e499976bd3777e9f174e:369f,9f104e:5c6993,82885b5b556c560f4ec453:8d9da3a5ae,97658d5d53:1af5262e3e,8d5c53:6663,52:02080e2d333f404c5e615c,84af52:7d82819093,51827f544e:bbc3c9c2e8e1ebde,4f1b4ef34f:2264,4ef54f:2527092b5e67,65384f:5a5d,8c:aeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebec#edeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,8d:000102030405060708090a0b0c0d,4f:5f57323d76749189838f7e7baa7cac94e6e8eac5dae3dcd1dff8,50:294c,4ff350:2c0f2e2d,4ffe50:1c0c25287e4355484e6c7ba5a7a9bad6,510650:edece6ee,51:070b,4edd6c3d4f:5865ce,9fa06c467c74516e5dfd9ec999985181591452f9530d8a07531051eb591951554ea051564eb388:6ea4,4eb5811488d279805b3488037fb851:abb1bdbc,8d:0e0f101112131415161718191a1b1c205152575f6568696a6c6e6f717278797a7b7c7d7e7f808283868788898c8d8e8f90929395969798999a9b9c9d9ea0a1#a2a4a5a6a7a8a9aaabacadaeafb0b2b6b7b9bbbdc0c1c2c5c7c8c9cacdd0d2d3d4,51:c796a2a5,8b:a0a6a7aab4b5b7c2c3cbcfced2d3d4d6d8d9dcdfe0e4e8e9eef0f3f6f9fcff,8c:000204070c0f1112141516191b181d1f202125272a2b2e2f32333536,53:697a,96:1d2221312a3d3c4249545f676c7274888d97b0,90:979b9d99aca1b4b3b6ba,8d:d5d8d9dce0e1e2e5e6e7e9edeef0f1f2f4f6fcfeff,8e:00010203040607080b0d0e1011121315161718191a1b1c202124252627282b2d303233343637383b3c3e#3f4345464c4d4e4f505354555657585a5b5c5d5e5f60616263646567686a6b6e71,90:b8b0cfc5bed0c4c7d3e6e2dcd7dbebeffe,91:04221e23312f394346,520d594252:a2acadbe,54ff52:d0d6f0,53df71ee77cd5ef451:f5fc,9b2f53b65f01755a5def57:4ca9a1,58:7ebcc5d1,57:292c2a33392e2f5c3b4269856b867c7b686d7673ada48cb2cfa7b493a0d5d8dad9d2b8f4eff8e4dd,8e:73757778797a7b7d7e808283848688898a8b8c8d8e91929395969798999a9b9d9fa0a1a2a3a4a5a6a7a8a9aaadaeb0b1b3b4b5b6b7b8b9bbbcbdbebfc0c1c2#c3c4c5c6c7c8c9cacbcccdcfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4,58:0b0d,57:fded,58:001e194420656c81899a80,99a89f1961ff82:797d7f8f8aa8848e919799abb8beb0c8cae398b7aecbccc1a9b4a1aa9fc4cea4e1,830982:f7e4,83:0f07,82:dcf4d2d8,830c82:fbd3,83:111a061415,82:e0d5,83:1c515b5c08923c34319b5e2f4f47435f4017602d3a336665,8e:e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,8f:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f20212223#2425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f4041424344,83:681b696c6a6d6eb078b3b4a0aa939c857cb6a97db87b989ea8babcc1,840183:e5d8,580784:180b,83:ddfdd6,84:1c381106,83:d4df,84:0f03,83:f8f9eac5c0,842683:f0e1,84:5c515a597387887a89783c4669768c8e316dc1cdd0e6bdd3cabfbae0a1b9b497e5e3,850c750d853884f085:391f3a,8f:45464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f6061626364656a808c929da0a1a2a4a5a6a7aaacadaeafb2b3b4b5b7b8babbbcbfc0c3c6#c9cacbcccdcfd2d6d7dae0e1e3e7eceff1f2f4f5f6fafbfcfeff,90:07080c0e131518,85:563b,84:fffc,85:594868645e7a,77a285:43727ba4a8878f79ae9c85b9b7b0d3c1dcff,86:270529163c,5efe5f0859:3c41,803759:555a58,530f5c:22252c34,62:4c6a9fbbcadad7ee,632262f663:394b43adf6717a8eb46dac8a69aebcf2f8e0ffc4dece,645263:c6be,64:45410b1b200c26215e846d96,90:191c2324252728292a2b2c303132333437393a3d3f4043454648494a4b4c4e545556595a5c5d5e5f6061646667696a6b6c6f70717273767778797a7b7c7e81#84858687898a8c8d8e8f90929496989a9c9e9fa0a4a5a7a8a9abadb2b7bcbdbfc0,64:7ab7b899bac0d0d7e4e2,65:09252e,5f:0bd2,75195f1153:5ff1fde9e8fb,54:1216064b5253545643215759233282947771649a9b8476669dd0adc2b4d2a7a6d3d472a3d5bbbfccd9dadca9aaa4ddcfde,551b54e7552054fd551454f355:22230f11272a678fb5496d41553f503c,90:c2c3c6c8c9cbcccdd2d4d5d6d8d9dadedfe0e3e4e5e9eaeceef0f1f2f3f5f6f7f9fafbfcff,91:00010305060708090a0b0c0d0e0f1011121314151617181a1b1c#1d1f20212425262728292a2b2c2d2e30323334353637383a3b3c3d3e3f40414244,55:375675767733305c8bd283b1b988819f7ed6917bdfbdbe9499eaf7c9,561f55:d1ebecd4e6ddc4efe5f2f3cccde8f5e4,8f9456:1e080c012423,55fe56:00272d5839572c4d62595c4c548664716b7b7c8593afd4d7dde1f5ebf9ff,57:040a091c,5e:0f191411313b3c,91:454748515354555658595b5c5f606667686b6d737a7b7c808182838486888a8e8f939495969798999c9d9e9fa0a1a4a5a6a7a8a9abacb0b1b2b3b6b7b8b9bb#bcbdbebfc0c1c2c3c4c5c6c8cbd0d2d3d4d5d6d7d8d9dadbdddedfe0e1e2e3e4e5,5e:3744545b5e61,5c:8c7a8d9096889899919a9cb5a2bdacabb1a3c1b7c4d2e4cbe5,5d:020327262e241e061b583e343d6c5b6f5d6b4b4a697482999d,8c735d:b7c5,5f:73778287898c95999ca8adb5bc,88625f6172:adb0b4b7b8c3c1cecdd2e8efe9f2f4f7,730172f3730372fa91:e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,92:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f2021222324#25262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445,72fb73:1713210a1e1d152239252c3831504d57606c6f7e,821b592598e759:2402,99:636768696a6b6c74777d8084878a8d9091939495,5e:80918b96a5a0b9b5beb3,8d535e:d2d1dbe8ea,81ba5f:c4c9d6cf,60035fee60045f:e1e4fe,60:0506,5f:eaedf8,60:1935261b0f0d292b0a3f2178797b7a42,92:464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f7071727375767778797a7b7c7d7e7f808182838485#868788898a8b8c8d8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7,60:6a7d969aad9d83928c9becbbb1ddd8c6dab4,61:20261523,60f461:000e2b4a75ac94a7b7d4f5,5fdd96b395:e9ebf1f3f5f6fcfe,96:030406080a0b0c0d0f12151617191a,4e2c723f62156c:35545c4aa38590948c6869747686a9d0d4adf7f8f1d7b2e0d6faebeeb1d3effe,92:a8a9aaabacadafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8#e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,93:00010203040506070809,6d:39270c43480704190e2b4d2e351a4f525433916f9ea05e93945c607c63,6e1a6d:c7c5de,6e0e6d:bfe0,6e116d:e6ddd9,6e166dab6e0c6dae6e:2b6e4e6bb25f865354322544dfb198e0,6f2d6e:e2a5a7bdbbb7d7b4cf8fc29f,6f:6246472415,6ef96f:2f364b742a0929898d8c78727c7ad1,93:0a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3f40414243444546474849#4a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696b,6f:c9a7b9b6c2e1eedee0ef,70:1a231b39354f5e,5b:80849593a5b8,752f9a9e64345b:e4ee,89305bf08e478b078f:b6d3d5e5eee4e9e6f3e8,90:05040b26110d162135362d2f445152506858625b,66b990:747d8288838b,5f:50575658,5c3b54ab5c:5059,5b715c:6366,7fbc5f:2a292d,82745f3c9b3b5c6e59:81838da9aaa3,93:6c6d6e6f707172737475767778797a7b7c7d7e7f808182838485868788898a8b8c8d8e909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaab#acadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cbcccd,59:97caab9ea4d2b2afd7be,5a:0506,59dd5a0859:e3d8f9,5a:0c09323411231340674a553c6275,80ec5a:aa9b777abeebb2d2d4b8e0e3f1d6e6d8dc,5b:091716323740,5c:151c,5b:5a6573515362,9a:7577787a7f7d808185888a90929396989b9c9d9fa0a2a3a5a7,7e:9fa1a3a5a8a9,93:cecfd0d1d2d3d4d5d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,94:000102030405060708090a0b0c0d#0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e,7e:adb0bec0c1c2c9cbccd0d4d7dbe0e1e8ebeeeff1f2,7f0d7e:f6fafbfe,7f:01020307080b0c0f111217191c1b1f212223242526272a2b2c2d2f3031323335,5e7a757f5ddb753e909573:8e91aea29fcfc2d1b7b3c0c9c8e5d9,987c740a73:e9e7debaf2,74:0f2a5b262528302e2c,94:2f303132333435363738393a3b3c3d3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6c6d6e6f#707172737475767778797a7b7c7d7e7f8081828384919698c7cfd3d4dae6fb,95:1c20,74:1b1a415c575559776d7e9c8e8081878b9ea8a990a7d2ba,97:eaebec,67:4c535e4869a5876a7398a775a89ead8b777cf0,680967d8680a67:e9b0,680c67:d9b5dab3dd,680067:c3b8e2,680e67:c1fd,68:323360614e624464831d55664167403e4a4929b58f7477936bc2,696e68fc69:1f20,68f995:27333d43484b555a606e74757778797a7b7c7d7e808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aa#abacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacb,692468f069:0b0157,68e369:10713960425d846b80987834cc8788ce896663799ba7bbabadd4b1c1cadf95e08dff,6a2f69ed6a:171865,69f26a:443ea0505b358e793d28587c9190a997ab,73:3752,6b:8182878492938d9a9ba1aa,8f:6b6d71727375767877797a7c7e818284878b,95:cccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3e4e5e6e7ecff,96:0713181b1e20232425262728292b2c2d2f303738393a3e41434a4e4f5152535657#58595a5c5d5e606365666b6d6e6f70717378797a7b7c7d7e7f808182838487898a,8f:8d8e8f989a,8ece62:0b171b1f222125242c,81e774:eff4ff,75:0f1113,65:34eeeff0,66:0a19,677266:031500,708566:f71d34313635,800666:5f54414f56615777848ca79dbedbdce6e9,8d:3233363b3d4045464849474d5559,89:c7cacbcccecfd0d1,72:6e9f5d666f7e7f848b8d8f92,63:0832b0,96:8c8e91929395969a9b9d9e9fa0a1a2a3a4a5a6a8a9aaabacadaeafb1b2b4b5b7b8babbbfc2c3c8cacbd0d1d3d4d6d7d8d9dadbdcdddedfe1e2e3e4e5e6e7eb#ecedeef0f1f2f4f5f8fafbfcfdff,97:0203050a0b0c10111214151718191a1b1d1f20,64:3fd8,80046b:eaf3fdf5f9,6c:0507060d1518191a2129242a32,65:35556b,72:4d525630,8662521680:9f9c93bc,670a80:bdb1abadb4b7e7e8e9eadbc2c4d9cdd7,671080:ddebf1f4ed,81:0d0e,80:f2fc,671581128c5a81:361e2c1832484c5374595a7160697c7d6d67,584d5ab581:888291,6ed581:a3aacc,672681:cabb,97:2122232425262728292b2c2e2f3133343536373a3b3c3d3f404142434445464748494a4b4c4d4e4f5051545557585a5c5d5f63646667686a6b6c6d6e6f7071#72757778797a7b7d7e7f8081828384868788898a8c8e8f9093959697999a9b9c9d,81:c1a6,6b:243739434659,98:d1d2d3d5d9da,6bb35f406bc289f365909f5165:93bcc6c4c3ccced2d6,70:809c969dbbc0b7abb1e8ca,71:1013162f31735c6845724a787a98b3b5a8a0e0d4e7f9,72:1d28,706c71:1866b9,62:3e3d434849,79:3b4046495b5c535a6257606f677a858a9aa7b3,5f:d1d0,97:9e9fa1a2a4a5a6a7a8a9aaacaeb0b1b3b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1e2e3#e4e5e8eeeff0f1f2f4f7f8f9fafbfcfdfeff,98:000102030405060708090a0b0c0d0e,60:3c5d5a67415963ab,61:060d5da99dcbd1,620680:807f,6c:93f6,6dfc77:f6f8,78:0009171811,65ab78:2d1c1d393a3b1f3c252c23294e6d56572650474c6a9b939a879ca1a3b2b9a5d4d9c9ecf2,790578f479:13241e34,9f9b9e:f9fbfc,76f177:040d,76f977:07081a22192d263538505147435a68,98:0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142434445464748494a4b4c4d#4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e,77:62657f8d7d808c919fa0b0b5bd,75:3a404e4b485b727983,7f:58615f,8a487f:68747179817e,76:cde5,883294:8586878b8a8c8d8f909497959a9b9ca3a4abaaadacafb0b2b4b6b7b8b9babcbdbfc4c8c9cacbcccdced0d1d2d5d6d7d9d8dbdedfe0e2e4e5e7e8ea,98:6f70717273748b8e929599a3a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcfd0d4d6d7dbdcdde0e1e2e3e4#e5e6e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,99:0001020304050607,94:e9ebeeeff3f4f5f7f9fcfdff,95:03020607090a0d0e0f1213141516181b1d1e1f222a2b292c3132343637383c3e3f4235444546494c4e4f525354565758595b5e5f5d61626465666768696a6b6c6f7172733a,77:e7ec,96c979:d5ede3eb,7a065d477a:03021e14,99:08090a0b0c0e0f1112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2f303132333435363738393a3b3c3d3e3f40414243444546474849#4a4b4c4d4e4f50515253565758595a5b5c5d5e5f60616264667378797b7e828389,7a:393751,9ecf99a57a7076:888e9399a4,74:dee0,752c9e:202228292a2b2c3231363837393a3e414244464748494b4c4e5155575a5b5c5e63666768696a6b6c716d73,75:929496a09daca3b3b4b8c4b1b0c3c2d6cde3e8e6e4ebe7,760375:f1fcff,76:1000050c170a25181519,99:8c8e9a9b9c9d9e9fa0a1a2a3a4a6a7a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8#d9dadbdcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9,76:1b3c2220402d303f35433e334d5e545c566b6f,7fca7a:e6787980868895a6a0aca8adb3,88:6469727d7f82a2c6b7bcc9e2cee3e5f1,891a88:fce8fef0,89:2119131b0a342b3641667b,758b80e576:b2b4,77dc80:1214161c20222526272928310b3543464d526971,898398:788083,99:fafbfcfdfeff,9a:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738#393a3b3c3d3e3f404142434445464748494a4b4c4d4e4f50515253545556575859,98:898c8d8f949a9b9e9fa1a2a5a6,86:4d546c6e7f7a7c7ba88d8bac9da7a3aa93a9b6c4b5ceb0bab1afc9cfb4e9f1f2edf3d0,871386:def4dfd8d1,87:0307,86f887:080a0d09233b1e252e1a3e48343129373f82227d7e7b60704c6e8b53637c64596593afa8d2,9a:5a5b5c5d5e5f606162636465666768696a6b7283898d8e949599a6a9aaabacadaeafb2b3b4b5b9bbbdbebfc3c4c6c7c8c9cacdcecfd0d2d4d5d6d7d9dadbdc#dddee0e2e3e4e5e7e8e9eaeceef0f1f2f3f4f5f6f7f8fafcfdfeff,9b:000102040506,87:c68885ad9783abe5acb5b3cbd3bdd1c0cadbeae0ee,88:1613,87fe88:0a1b21393c,7f:36424445,82107a:fafd,7b:080304150a2b0f47382a192e31202524333e1e585a45754c5d606e7b62727190a6a7b8ac9da885aa9ca2abb4d1c1ccdddae5e6ea,7c0c7b:fefc,7c:0f160b,9b:07090a0b0c0d0e1011121415161718191a1b1c1d1e2021222425262728292a2b2c2d2e3031333435363738393a3d3e3f40464a4b4c4e50525355565758595a#5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b,7c:1f2a26384140,81fe82:010204,81ec884482:2122232d2f282b383b33343e44494b4f5a5f68,88:7e8588d8df,895e7f:9d9fa7afb0b2,7c7c65497c:919d9c9ea2b2bcbdc1c7cccdc8c5d7e8,826e66a87f:bfced5e5e1e6e9eef3,7cf87d:77a6ae,7e:479b,9e:b8b4,8d:73849491b1676d,8c:4749,91:4a504e4f64,9b:7c7d7e7f808182838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9ba#bbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadb,91:626170696f7d7e7274798c85908d91a2a3aaadaeafb5b4ba,8c559e7e8d:b8eb,8e:055969,8d:b5bfbcbac4d6d7dadececfdbc6ecf7f8e3f9fbe4,8e098dfd8e:141d1f2c2e232f3a4039353d3149414251524a70767c6f74858f94909c9e,8c:78828a859894,659b89:d6dedadc,9b:dcdddedfe0e1e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,9c:000102030405060708090a0b0c0d0e0f101112131415161718191a#1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b,89:e5ebef,8a3e8b26975396:e9f3ef,97:0601080f0e2a2d303e,9f:808385868788898a8c,9efe9f:0b0d,96:b9bcbdced2,77bf96e092:8eaec8,93:3e6aca8f,94:3e6b,9c:7f8285868788,7a239c:8b8e90919294959a9b9e9fa0a1a2a3a5a6a7a8a9abadaeb0b1b2b3b4b5b6b7babbbcbdc4c5c6c7cacb3c3d3e3f404142434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a#7b7d7e808384898a8c8f93969798999daaacafb9bebfc0c1c2c8c9d1d2dadbe0e1cccdcecfd0d3d4d5d7d8d9dcdddfe2,97:7c85919294afaba3b2b4,9a:b1b0b7,9e589a:b6babcc1c0c5c2cbccd1,9b:45434749484d51,98e899:0d2e5554,9a:dfe1e6efebfbedf9,9b:080f131f23,9e:bdbe,7e3b9e:8287888b92,93d69e:9d9fdbdcdde0dfe2e9e7e5eaef,9f:222c2f39373d3e44,9c:e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,9d:000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f2021#22232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f404142#92$434445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778797a7b7c7d7e7f8081#82838485868788898a8b8c8d8e8f909192939495969798999a9b9c9d9e9fa0a1a2#92$a3a4a5a6a7a8a9aaabacadaeafb0b1b2b3b4b5b6b7b8b9babbbcbdbebfc0c1c2c3c4c5c6c7c8c9cacbcccdcecfd0d1d2d3d4d5d6d7d8d9dadbdcdddedfe0e1#e2e3e4e5e6e7e8e9eaebecedeeeff0f1f2f3f4f5f6f7f8f9fafbfcfdfeff,9e:000102#92$030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e24272e30343b3c404d5052535456595d5f606162656e6f727475767778797a7b7c7d80#8183848586898a8c8d8e8f90919495969798999a9b9c9ea0a1a2a3a4a5a7a8a9aa#92$abacadaeafb0b1b2b3b5b6b7b9babcbfc0c1c2c3c5c6c7c8cacbccd0d2d3d5d6d7d9dadee1e3e4e6e8ebecedeef0f1f2f3f4f5f6f7f8fafdff,9f:000102030405#060708090a0c0f1112141516181a1b1c1d1e1f21232425262728292a2b2d2e3031#92$3233343536383a3c3f4041424345464748494a4b4c4d4e4f52535455565758595a5b5c5d5e5f606162636465666768696a6b6c6d6e6f707172737475767778#797a7b7c7d7e81828d8e8f9091929394959697989c9d9ea1a2a3a4a5,f9:2c7995e7f1#92$,fa:0c0d0e0f111314181f20212324272829,e8:15161718191a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132333435363738393a3b3c3d3e3f40414243#4445464748494a4b4c4d4e4f505152535455565758595a5b5c5d5e5f6061626364".replace(/#(\d+)\$/g,function(e,t){return Array(+t+3).join("#")}).replace(/#/g,"####").replace(/(\w\w):([\w#]+)(?:,|$)/g,function(e,t,a){return a.replace(/../g,function(e){return"##"!=e?t+e:e})})),e.exports=function(e,t){return[{reg:/\(\w*:\d*\)/,method:"space"},{reg:"农村淘宝",method:"delete"},{reg:"菜鸟",method:"space"}].forEach(t=>{e.search(t.reg)>-1&&("delete"===t.method?e=e.replace(t.reg,""):"space"===t.method&&e.match(t.reg).forEach(t=>{let a=t.length,r=1;if(a>3){r=Math.round(Math.random()*(a-2),0);let n=t.substr(0,r)+" "+t.substr(r);e=e.replace(t,n)}else e=e.replace(t,t.substr(0,1)+" "+t.substr(1))}))}),"utf8"===(t=t||"utf8")?encodeURIComponent(e):"gbk"===t||"gb2312"===t?e.replace(/./g,function(e){var t=e.charCodeAt(0);if(8364==(a=t)||a<=127&&a>=0)return encodeURIComponent(e);var a,n=t.toString(16);return 4!=n.length&&(n=("000"+n).match(/....$/)[0]),r[n]||e}):void 0}},"4G/M":function(e,t){},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"7Ogj":function(e,t,a){e.exports=a.p+"static/img/logo.png"},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},BLY9:function(e,t,a){var r,n,s,i;i=function(e,t){var a;if(!t)return a="ECharts is not Loaded",void("undefined"!=typeof console&&console&&console.error&&console.error(a));var r=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],n={color:r,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:r[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:r},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};n.categoryAxis.splitLine.show=!1,t.registerTheme("dark",n)},n=[t,a("XLwt")],void 0===(s="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=s)},Cuxj:function(e,t){},D6vd:function(e,t){},F7Bi:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"shops",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"trades",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"店铺ID",key:"id",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.id)}},{title:"店铺名称",key:"name",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"授权状态",key:"authority",render:function(t,a){return t("Tag",{props:{type:"border",color:e.getAuthorityStatusTagColor(a.row.trade_authorized)}},e.getAuthorityStatusTagText(a.row.trade_authorized))}},{title:"转链模式",key:"transMode",sortable:!0,render:function(e,t){return e("span",{},"yitao"===t.row.transMode?"一淘":"normal"===t.row.transMode?"第三方":"未设置")}},{title:"转链AppKey",key:"appkey",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.appkey)}},{title:"转链阿里妈妈",key:"pid",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.pid)}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.editModal=!0,e.editModel={id:a.row.id,name:a.row.name,appkey:a.row.appkey,pid:a.row.pid,nickname:a.row.nickname,group:e.$store.getters.user.group,assignMode:a.row.assign_mode||"auto",tags:a.row.tags};case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r,n}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},newModal:!1,newModel:{name:"",transMode:"normal",appkey:"",pid:"",nickname:"",group:this.$store.getters.user.group,tags:[]},editModal:!1,editModel:{id:null,name:"",transMode:"normal",appkey:"",pid:"",nickname:"",group:this.$store.getters.user.group,tags:[]},translinkModal:!1,translinkModel:{transMode:"normal",appkey:"",pid:"",nickname:"",group:this.$store.getters.user.group},ruleValidate:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],appkey:[{validator:function(t,a,r){""===a&&""!==e.newModel.pid?(e.$refs.newForm.validateField("pid"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}],pid:[{validator:function(t,a,r){""===a&&""!==e.newModel.appkey?(e.$refs.newForm.validateField("appkey"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}]},ruleValidateEdit:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],appkey:[{validator:function(t,a,r){""===a&&""!==e.editModel.pid?(e.$refs.editForm.validateField("pid"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}],pid:[{validator:function(t,a,r){""===a&&""!==e.editModel.appkey?(e.$refs.editForm.validateField("appkey"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}]},ruleValidateTransLink:{appkey:[{validator:function(t,a,r){""===a&&""!==e.translinkModel.pid?(e.$refs.newForm.validateField("pid"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}],pid:[{validator:function(t,a,r){""===a&&""!==e.translinkModel.appkey?(e.$refs.newForm.validateField("appkey"),r(new Error("转链信息请填写完整"))):r()},trigger:"blur"}]},deleteModal:!1,deleteModel:{id:null,name:""},shopTagDic:["男装","女装","男鞋","女鞋","内衣","童装","童鞋","收纳整理","宠物","餐饮具","家居饰品","流行饰品","家具","园艺","成人","车品","3C"],shopTagInOp:""}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;"god"===this.$store.getters.user.role&&(this.getShopSpecTagsDic().then(function(e){t.shopTagDic=e.map(function(e){return e.tag})}),this.columns.splice(3,0,{title:"店群ID",key:"group",sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.group)}}),this.columns.splice(4,0,{title:"分类标签",key:"tags",sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){var a=[];return t.row.tags&&t.row.tags instanceof Array&&t.row.tags.forEach(function(t){a.push(e("Tag",{props:{type:"border",color:"primary"}},t))}),e("div",{},a)}}),this.columns.splice(6,2)),this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),dataViewPage:function(e){"god"!==this.$store.getters.user.role&&this.updateShopAuthority()},pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"shops",apiAction:"listall",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}},t,e)}))()},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},updateShopAuthority:function(){},getAuthorityStatus:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function a(){var r;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"tao11",apiAction:"getshopauthority",apiQuery:{}},t.apiData={tb_nick:e},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(r){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?n(new Error("授权信息获取失败！("+s.message+")")):(t.$store.dispatch("setAPILastResponse",s),a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()},getAuthorityStatusTagText:function(e){if(e&&"number"==typeof e){var t=new Date(1e3*e).Format("yyyy-MM-dd hh:mm:ss");return new Date(1e3*e)>(new Date).getTime()?"授权正常 "+t:"授权过期"}return"未授权"},getAuthorityStatusTagColor:function(e){return e&&"number"==typeof e?new Date(1e3*e)>(new Date).getTime()?"green":"red":"default"},syncShopModal:function(){var e=this;this.$Modal.confirm({title:"同步店铺列表",content:"<p>确定同步店铺列表么？此操作可能会导致不可预估的错误。</p>",onOk:function(){e.syncShop()}})},syncShop:function(){var e=this;this.apiItem={apiHost:"",apiService:"shops",apiAction:"update",apiQuery:{}},this.apiData={},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺列表同步失败！("+s.message+")"),n(new Error("店铺列表同步失败！("+s.message+")"))):(e.$Message.success("店铺列表同步成功!"),e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"shops",apiAction:"add",apiQuery:{}},e.apiData={name:e.newModel.name,group:e.newModel.group,transMode:e.newModel.transMode,appkey:e.newModel.appkey,pid:e.newModel.pid,nickname:e.newModel.nickname,assign_mode:e.newModel.assignMode},"god"===e.$store.getters.user.role&&(e.apiData.tags=e.editModel.tags),e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺新增失败！("+s.message+")"),n(new Error("店铺新增失败！("+s.message+")"))):(e.$Message.success("店铺新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"shops",apiAction:"edit",apiQuery:{}},e.apiData={id:e.editModel.id,name:e.editModel.name,group:e.editModel.group,transMode:e.editModel.transMode,appkey:e.editModel.appkey,pid:e.editModel.pid,nickname:e.editModel.nickname,assign_mode:e.editModel.assignMode},"god"===e.$store.getters.user.role&&(e.apiData.tags=e.editModel.tags),e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("修改失败！("+s.message+")"),n(new Error("修改失败！("+s.message+")"))):(e.$Message.success("店铺修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.editModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitTransLink:function(){var e=this;this.$refs.translinkForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"shops",apiAction:"setallshoptranslink",apiQuery:{}},e.apiData={group:e.translinkModel.group,transMode:e.translinkModel.transMode,appkey:e.translinkModel.appkey,pid:e.translinkModel.pid,nickname:e.translinkModel.nickname},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("转链设置失败！("+s.message+")"),n(new Error("转链设置失败！("+s.message+")"))):(e.$Message.success("转链设置成功!"),e.$store.dispatch("setAPILastResponse",s),e.translinkModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"shops",apiAction:"delete",apiQuery:{}},this.apiData={id:this.deleteModel.id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("店铺删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))},addNewTagSpec:function(){var e=this;this.$Modal.confirm({title:"新增标签",render:function(t){return t("Input",{props:{value:e.shopTagInOp,autofocus:!0,placeholder:"分类标签名称"},on:{input:function(t){e.shopTagInOp=t}}})},onOk:function(){e.shopTagInOp?e.addShopSpecTagsDic(e.shopTagInOp).then(function(){e.shopTagDic.push(e.shopTagInOp),e.shopTagInOp=""}).catch(function(t){e.$Message.error(t.message)}):e.$Message.error("分类标签不能为空")},onCancel:function(){e.shopTagInOp=""}})},editTagSpec:function(e){var t=this;this.shopTagInOp=e,this.$Modal.confirm({title:"修改标签",render:function(e){return e("Input",{props:{value:t.shopTagInOp,autofocus:!0,placeholder:"分类标签名称"},on:{input:function(e){t.shopTagInOp=e}}})},onOk:function(){t.shopTagInOp?t.editShopSpecTagsDic(e,t.shopTagInOp).then(function(){t.shopTagDic.splice(t.shopTagDic.indexOf(e),1),t.shopTagDic.push(t.shopTagInOp),t.shopTagInOp=""}).catch(function(e){t.$Message.error(e.message)}):t.$Message.error("分类标签不能为空")},onCancel:function(){t.shopTagInOp=""}})},deleteTagSpec:function(e){var t=this;this.shopTagInOp=e,this.$Modal.confirm({title:"删除标签",content:"确认删除标签'"+e+"'么?",onOk:function(){t.shopTagInOp?t.deleteShopSpecTagsDic(e).then(function(){t.shopTagDic.splice(t.shopTagDic.indexOf(e),1),t.shopTagInOp=""}).catch(function(e){t.$Message.error(e.message)}):t.$Message.error("分类标签不能为空")},onCancel:function(){t.shopTagInOp=""}})},getShopSpecTagsDic:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"groups",apiAction:"listshoptagdic",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("失败！("+s.message+")")):(e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},addShopSpecTagsDic:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function a(){var r;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"groups",apiAction:"addshoptagdic",apiQuery:{}},t.apiData={tag:e},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(r){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?n(new Error("失败！("+s.message+")")):(t.$store.dispatch("setAPILastResponse",s),a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()},editShopSpecTagsDic:function(e,t){var a=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function r(){var n;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.apiItem={apiHost:"",apiService:"groups",apiAction:"editshoptagdic",apiQuery:{}},a.apiData={tag:e,tag_new:t},a.$store.dispatch("setAPIStore",a.apiItem),n=a.$store.getters.apiUrl,r.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t,r){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$http.post(n,a.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(n){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=n.data).status?r(new Error("失败！("+s.message+")")):(a.$store.dispatch("setAPILastResponse",s),t(s.data));case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){a.$store.dispatch("setAPILastResponse",e),r(e)});case 2:case"end":return e.stop()}},e,a)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return r.stop()}},r,a)}))()},deleteShopSpecTagsDic:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function a(){var r;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"groups",apiAction:"deleteshoptagdic",apiQuery:{}},t.apiData={tag:e},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(r){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?n(new Error("失败！("+s.message+")")):(t.$store.dispatch("setAPILastResponse",s),a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()}}}},Ga99:function(e,t){},IFPM:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from__=__webpack_require__("c/Tr"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={props:["shopList"],name:"buyers",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"trades",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"名称",key:"name",width:160,fixed:"left",ellipsis:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.name)}},{title:"店铺id",key:"shopid",width:120,ellipsis:!0,filterMultiple:!0,filterRemote:function(t,a){e.filterShop=t},sortable:"custom",render:function(t,a){return t("span",{},e.getShopName(a.row.shopid))}},{title:"权重",key:"weight",width:120,ellipsis:!0,sortable:"custom"},{title:"状态",key:"is_enable",width:120,ellipsis:!0,sortable:"custom",render:function(e,t){return e("span",{style:{color:!1===t.row.is_enable?"red":"blue"}},!1===t.row.is_enable?"休息中":"接单中")}},{title:"本日派单",key:"today_assigned",width:100,ellipsis:!0,sortable:"custom"},{title:"本日完成",key:"today_finished",width:100,ellipsis:!0,sortable:"custom"},{title:"本日下单",key:"today_ordered",width:100,ellipsis:!0,sortable:!0},{title:"本日退回",key:"today_failed",width:100,ellipsis:!0,sortable:"custom"},{title:"本日撤销",key:"today_dismissed",width:100,ellipsis:!0,sortable:"custom"},{title:"本月派单",key:"monthly_assigned",width:100,ellipsis:!0,sortable:"custom"},{title:"本月完成",key:"monthly_finished",width:100,ellipsis:!0,sortable:"custom"},{title:"本月下单",key:"monthly_ordered",width:100,ellipsis:!0,sortable:"custom"},{title:"本月退回",key:"monthly_failed",width:100,ellipsis:!0,sortable:"custom"},{title:"本月撤销",key:"monthly_dismissed",width:100,ellipsis:!0,sortable:"custom"},{title:"历史派单",key:"total_assigned",width:100,ellipsis:!0,sortable:"custom"},{title:"历史完成",key:"total_finished",width:100,ellipsis:!0,sortable:"custom"},{title:"历史下单",key:"total_ordered",width:100,ellipsis:!0,sortable:"custom"},{title:"历史退回",key:"total_failed",width:100,ellipsis:!0,sortable:"custom"},{title:"历史撤销",key:"total_dismissed",width:100,ellipsis:!0,sortable:"custom"},{title:"操作",key:"action",fixed:"right",width:180,render:function(t,a){if(["god","boss"].indexOf(e.$store.getters.user.role)>-1)return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(s=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncUserList().then(function(e){});case 2:return t.next=4,e.syncShopList().then(function(e){});case 4:e.editModal=!0,e.editModel=a.row;case 6:case"end":return t.stop()}},t,e)})),function(){return s.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.renameModal=!0,e.renameModel={id:a.row.id,name:a.row.name};case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"改名"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r,n,s}}],userColumns:[{title:"user_id",key:"user_id",sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.user_id)}},{title:"姓名",key:"name",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.name)}},{title:"用户id",key:"id",ellipsis:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(t,a){return t("span",{},e.getShopName(a.row.id))}},{title:"操作",key:"action",fixed:"right",width:180,render:function(t,a){if(["god","boss"].indexOf(e.$store.getters.user.role)>-1)return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(s=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.detailModal=!0,e.detailByUserid=a.row.id;case 2:case"end":return t.stop()}},t,e)})),function(){return s.apply(this,arguments)})}},"详细"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.buyerShopModal=!0,e.detailByUserid=a.row.id;case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"接单"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.renameModal=!0,e.renameModel={id:a.row.id,name:a.row.name};case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"改名")]);var r,n,s}}],loading:!1,dataRaw:[],data:[],dataBuyer:[],dataBuyerRaw:[],dataViewPage:[],dataBuyerViewPage:[],pageCurrent:1,pageSize:10,pageUserCurrent:1,pageUserSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,filterShop:null,tableHeight:500,detailed:!1,detailedItem:{},detailModal:!1,detailByUserid:null,detailByShopid:null,buyerShopModal:!1,newModal:!1,newModel:{group:this.$store.getters.user.group||1,name:"",userid:"",shopid:"",weight:0,is_enable:!0},editModal:!1,editModel:{id:"",group:this.$store.getters.user.group||1,name:"",userid:"",shopid:"",weight:0,is_enable:!0},deleteModal:!1,deleteModel:{id:"",group:this.$store.getters.user.group||1,name:"",userid:"",shopid:"",weight:0,is_enable:!0},ruleValidate:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],userid:[{required:!0,message:"请选择用户",trigger:"blur"}],shopid:[{required:!0,message:"请选择店铺",trigger:"blur"}],weight:[{type:"number",message:"请输入0~1之间的数字",min:0,max:1,trigger:"blur"}]},renameModal:!1,renameModel:{id:"",name:""},ruleValidateRename:{name:[{required:!0,message:"请填写名称",trigger:"blur"}]},userSelectList:[],shopSelectList:null}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.dataBuyer=a,t.dataBuyerRaw=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight(),e.next=8,t.syncUserList().then(function(e){t.data=e});case 8:return e.next=10,t.syncShopList().then(function(e){});case 10:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{detailByUserid:function(e){var t=this;this.dataBuyer=this.dataBuyerRaw.filter(function(t){return t.userid===e}),this.dataBuyerViewPage=this.dataBuyer.filter(function(e,a,r){return a<t.pageSize*t.pageCurrent&&a>=t.pageSize*(t.pageCurrent-1)})},data:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataBuyerViewPage=this.dataBuyer.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a,r=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataBuyerViewPage=this.dataBuyer.filter(function(e){return r.detailByUserid?e.userid===r.detailByUserid:r.detailByShopid?e.shopid===r.detailByShopid:e}).filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageUserCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.userSelectList.filter(function(e,t,r){return t<a.pageUserSize*a.pageUserCurrent&&t>=a.pageUserSize*(a.pageUserCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageUserSize:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.userSelectList.filter(function(e,t,r){return t<a.pageUserSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){var t=this;this.refreshList(function(e){t.dataBuyer=t.dataBuyerRaw.filter(function(e){return e.userid===t.detailByUserid})})},filterShop:function(e){var t=this;this.refreshList(function(e){t.dataBuyer=t.dataBuyerRaw.filter(function(e){return e.userid===t.detailByUserid})})},newModal:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.syncUserList().then(function(e){});case 3:return e.next=5,this.syncShopList().then(function(e){});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),shopSelectList:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.columns[1].filters=t.map(function(e){return{label:e.name,value:e.id}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},methods:{refreshBuyerList:function(){var e=this;this.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid}),e.syncUserList().then(function(t){e.data=t})})},refreshList:function(e){var t,a=this;this.initDataTable().then((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.dataBuyerRaw=r,a.pageSize=10,a.pageCurrent=1,a.loading=!1,a.tableSearchOn=!1,e&&"function"==typeof e&&e(r);case 6:case"end":return t.stop()}},t,a)})),function(e){return t.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"buyers",apiAction:"listall",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.filterShop&&(e.apiData.filterShop=e.filterShop),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 9:case"end":return t.stop()}},t,e)}))()},prepareBuyerData:function(e){var t=[],a=[];return e.map(function(e){t.push(e.userid)}),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default.a(t)).forEach(function(t){var r=e.filter(function(e){return e.userid===t})[0];a.push({name:r.name,userid:t})}),a},getShopName:function(e){if(this.shopSelectList){var t=this.shopSelectList.filter(function(t){return t.id===e})[0];return t?t.name:e}return e},sortTable:function(e){this.sort=e},sortBuyerTable:function(e){var t=this;this.dataBuyer.sort(function(a,r){switch(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(a[e.key])){case"string":return"asc"===e.order?"shopid"===e.key?t.getShopName(a[e.key]).localeCompare(t.getShopName(r[e.key]),"zh-CN"):a[e.key].localeCompare(r[e.key],"zh-CN"):"desc"===e.order?"shopid"===e.key?t.getShopName(r[e.key]).localeCompare(t.getShopName(a[e.key]),"zh-CN"):r[e.key].localeCompare(a[e.key],"zh-CN"):a-r;default:return"asc"===e.order?a[e.key]-r[e.key]:"desc"===e.order?r[e.key]-a[e.key]:a-r}}),this.dataBuyerViewPage=this.dataBuyer.filter(function(e,a,r){return a<t.pageSize*t.pageCurrent&&a>=t.pageSize*(t.pageCurrent-1)})},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},changeUserPage:function(e){this.pageUserCurrent=e},changeUserPageSize:function(e){this.pageUserSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this11=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this11.searchBy){if(_this11.searchBy.indexOf(".")){var thing=eval("item."+_this11.searchBy);return thing.indexOf(_this11.keyword)>=0}return item[_this11.searchBy].indexOf(_this11.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this11.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this11.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid})})},syncUserList:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"users",apiAction:"selectlist",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("用户列表获取失败！("+s.message+")"),n(new Error("用户列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.userSelectList=s.data.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN")}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},syncShopList:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"shops",apiAction:"selectlist",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺列表获取失败！("+s.message+")"),n(new Error("店铺列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.shopSelectList=s.data.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN")}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},changeUser:function(e){var t=this.userSelectList.filter(function(t){return t.id===e})[0];this.newModel.name=t?t.name:""},changeUserEdit:function(e){var t=this.userSelectList.filter(function(t){return t.id===e})[0];this.editModel.name=t?t.name:""},processBuyerShop:function(e,t){var a,r,n,s=this,i=this.userSelectList.filter(function(t){return t.id===e})[0],o=this.shopSelectList.filter(function(e){return e.id===t})[0],c=this.dataBuyer.filter(function(e){return e.shopid===t});switch(c.length?c[0].is_enable?"listening":"holding":"unlinked"){case"listening":this.editModel={id:c[0].id,group:this.$store.getters.user.group||c[0].group,name:c[0].name,userid:e,shopid:t,weight:0,is_enable:!1},this.$Modal.confirm({render:function(e){return e("div",{},"确认设置"+c[0].name+"对店铺"+o.name+"为“休息中”么？设置后该买手将无法取到这个店铺的订单")},onOk:(n=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.submitEdit();case 2:s.refreshList(function(e){s.dataBuyer=s.dataBuyerRaw.filter(function(e){return e.userid===s.detailByUserid})});case 3:case"end":return e.stop()}},e,s)})),function(){return n.apply(this,arguments)})});break;case"holding":this.editModel={id:c[0].id,group:this.$store.getters.user.group||c[0].group,name:c[0].name,userid:e,shopid:t,weight:0,is_enable:!0},this.$Modal.confirm({render:function(e){return e("div",{},"确认设置"+c[0].name+"对店铺"+o.name+"为“接单中”么？")},onOk:(r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.submitEdit();case 2:s.refreshList(function(e){s.dataBuyer=s.dataBuyerRaw.filter(function(e){return e.userid===s.detailByUserid})});case 3:case"end":return e.stop()}},e,s)})),function(){return r.apply(this,arguments)})});break;case"unlinked":this.newModel={group:this.$store.getters.user.group||1,name:i.name,userid:e,shopid:t,weight:0,is_enable:!0},this.$Modal.confirm({render:function(e){return e("div",{},"确认设置"+i.name+"对店铺"+o.name+"为“接单中”么？")},onOk:(a=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.submitNew();case 2:s.refreshList(function(e){s.dataBuyer=s.dataBuyerRaw.filter(function(e){return e.userid===s.detailByUserid})});case 3:case"end":return e.stop()}},e,s)})),function(){return a.apply(this,arguments)})})}},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"buyers",apiAction:"edit",apiQuery:{}},e.apiData={id:e.editModel.id,group:e.editModel.group,name:e.editModel.name,userid:e.editModel.userid,shopid:e.editModel.shopid,weight:e.editModel.weight,is_enable:e.editModel.is_enable},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("买手修改失败！("+s.message+")"),n(new Error("买手修改失败！("+s.message+")"))):(e.$Message.success("买手修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.editModal=!1,e.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid})}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"buyers",apiAction:"add",apiQuery:{}},e.apiData={group:e.newModel.group,name:e.newModel.name,userid:e.newModel.userid,shopid:e.newModel.shopid,weight:e.newModel.weight,is_enable:e.newModel.is_enable},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("买手新增失败！("+s.message+")"),n(new Error("买手新增失败！("+s.message+")"))):(e.$Message.success("买手新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,e.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid})}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitRename:function(){var e=this;this.$refs.renameForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"buyers",apiAction:"rename",apiQuery:{}},e.apiData={id:e.renameModel.id,name:e.renameModel.name},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("名称修改失败！("+s.message+")"),n(new Error("名称修改失败！("+s.message+")"))):(e.$Message.success("名称修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.renameModal=!1,e.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid}),e.syncUserList().then(function(t){e.data=t})}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitUserRename:function(){var e=this;this.$refs.renameForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"users",apiAction:"rename",apiQuery:{}},e.apiData={id:e.renameModel.id,name:e.renameModel.name},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("名称修改失败！("+s.message+")"),n(new Error("名称修改失败！("+s.message+")"))):(e.$Message.success("名称修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.renameModal=!1,e.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid})}),e.syncUserList().then(function(t){e.data=t}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"buyers",apiAction:"delete",apiQuery:{}},this.apiData={id:this.deleteModel.id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除买手失败！("+s.message+")"),n(new Error("删除买手失败！("+s.message+")"))):(e.$Message.success("删除买手成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,e.refreshList(function(t){e.dataBuyer=e.dataBuyerRaw.filter(function(t){return t.userid===e.detailByUserid})}),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))}}}},J58e:function(e,t){},KYqO:function(e,t){e.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"C:\\KKK\\tao11.trade.buyer.client\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},N8lE:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"loss-analysis",props:["shopList"],data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"trades",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"订单编号",key:"tid_str",width:180,ellipsis:!0,sortable:!0,searchable:!0,render:function(t,a){return t("a",{on:{click:function(){e.$emit("on-searchbytid",a.row.tid_str),e.$router.push({path:"/trades"})}}},a.row.tid_str)}},{title:"店铺",key:"shop",width:160,subKey:"name",ellipsis:!0,filters:this.shopList.map(function(e){return{label:e.name,value:e.id}}),filterMultiple:!0,filterRemote:function(t,a){e.filterShop=t},render:function(e,t){return e("span",{},t.row.shop.name)}},{title:"商品ID",key:"orders",ellipsis:!1,render:function(t,a){return t("span",{},e.getOrdersNumiidLink(t,a.row.orders))}},{title:"买家号",key:"ordered_temp",ellipsis:!1,render:function(e,t){return e("span",{},t.row.ordered_temp.buyer_nick)}},{title:"下单地址",key:"ordered_temp",ellipsis:!1,render:function(t,a){return t("span",{},[t("a",{on:{click:function(){window.open(e.getOrderedUrl(a.row.ordered_temp.buy_url),"_blank")}}},a.row.ordered_temp.buy_url)])}},{title:"收入",width:120,key:"payment",ellipsis:!0,render:function(e,t){return e("span",{},t.row.payment.toLocaleString())}},{title:"支出",key:"ordered_sum",width:120,ellipsis:!0,render:function(e,t){return e("span",{},(t.row.ordered_sum/100).toLocaleString())}},{title:"利润",key:"profit",width:120,ellipsis:!0,sortable:"custom",render:function(e,t){return e("span",{style:{color:t.row.profit>0?"forestgreen":"red"}},(Math.round(t.row.profit)/100).toLocaleString())}},{title:"利润率",key:"profit_ratio",width:120,ellipsis:!0,sortable:"custom",render:function(e,t){return e("span",{style:{color:t.row.profit>0?"forestgreen":"red"}},Math.round(1e4*t.row.profit_ratio)/100+"%")}},{title:"下单时间",key:"lastorder_time",width:180,ellipsis:!0,sortable:"custom",sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},new Date(t.row.lastorder_time).toLocaleString())}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,filterShop:null,tableHeight:500,detailed:!1,detailedItem:{},timespan:"today",daterange:null,profitStart:null,profitEnd:0}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()},filterShop:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(a=this.data.slice(0),this.data=a.filter(function(e){return t.indexOf(e.shopid)>-1}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),timespan:function(e){"daterange"!==e?this.refreshList():"daterange"===e&&this.daterange&&this.refreshList()},profitStart:function(e){"daterange"!==this.timespan?this.refreshList():"daterange"===this.timespan&&this.daterange&&this.refreshList()},profitEnd:function(e){"daterange"!==this.timespan?this.refreshList():"daterange"===this.timespan&&this.daterange&&this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a,r,n,s,i;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"losscheck",apiQuery:{}},e.apiData={timespan:e.timespan},"daterange"===e.timespan&&(a=e.daterange[0],r=e.daterange[1],n=new Date(a).toISOString(),s=new Date(r).toISOString(),e.apiData={timespan:"daterange",startdate:n,enddate:s}),null!==e.profitStart&&(e.apiData.profitstart=e.profitStart),null!==e.profitEnd&&(e.apiData.profitend=e.profitEnd),e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),i=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a,r){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(i,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(n){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=n.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),r(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,a(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),r(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}},t,e)}))()},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},sortTable:function(e){var t=e.key,a=e.order,r=this.dataRaw.slice(0);"asc"===a?r.sort(function(e,a){return e[t]-a[t]}):r.sort(function(e,a){return a[t]-e[t]}),this.data=r},getOrderedUrl:function(e){return/^[0-9]+$/.test(e)&&(e="https://item.taobao.com/item.htm?id="+e),e},getOrdersNumiid:function(e){var t=[];return e.order.forEach(function(e){t.push(e.num_iid)}),t},getOrdersNumiidLink:function(e,t){var a=[];return this.getOrdersNumiid(t).forEach(function(t){var r="https://item.taobao.com/item.htm?id="+t;a.push(e("a",{attrs:{href:r,target:"_blank"}},t))}),a},getOrdersNumiidExcel:function(e){var t=[];return e.order.forEach(function(e){t.push(e.num_iid)}),"\t"+t.join(" ")+"\t"},exportData:function(){var e=this;this.$refs.table.exportCsv({filename:"lossanalysis",columns:this.columns,data:this.data.map(function(t,a,r){return{tid_str:"\t"+t.tid_str+"\t",shop:t.shop.name,orders:e.getOrdersNumiidExcel(t.orders),payment:t.payment,ordered_sum:t.ordered_sum/100,profit:t.profit/100,profit_ratio:t.profit_ratio,lastorder_time:t.lastorder_time}})})},search:function search(){var _this6=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this6.searchBy){if(_this6.searchBy.indexOf(".")){var thing=eval("item."+_this6.searchBy);return thing.indexOf(_this6.keyword)>=0}return item[_this6.searchBy].indexOf(_this6.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this6.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this6.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()}}}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("//Fk"),n=a.n(r),s=a("7+uW"),i=a("NYxO"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=a("VU/8")({name:"App",data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null}}},o,!1,function(e){a("J58e")},null,null).exports,_=a("/ocq"),d=a("mvHQ"),l=a.n(d),u=a("woOf"),f=a.n(u),p=a("pFYg"),b=a.n(p),h=a("Xxa5"),m=a.n(h),g=a("exGp"),v=a.n(g),y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Menu",{staticClass:"menu-left",attrs:{"active-name":"1-1",accordion:"",theme:"light",width:"auto","open-names":["1"]},on:{"on-select":e.selectMenu}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-analytics"}}),e._v("\n      数据统计\n    ")],1),e._v(" "),a("MenuItem",{attrs:{name:"1-1"}},[e._v("我的数据")]),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"1-2"}},[e._v("监控中心")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"1-3"}},[e._v("利润报表")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"1-4"}},[e._v("盈亏分析")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"1-5"}},[e._v("买手报表")]):e._e()],2),e._v(" "),a("Submenu",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-keypad"}}),e._v("\n      我的订单\n    ")],1),e._v(" "),a("MenuItem",{attrs:{name:"2-1"}},[e._v("全部订单")]),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0&&["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"2-6"}},[e._v("未分配")]):e._e(),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0?a("MenuItem",{attrs:{name:"2-2"}},[e._v("已分配")]):e._e(),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0?a("MenuItem",{attrs:{name:"2-3"}},[e._v("已下单")]):e._e(),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0?a("MenuItem",{attrs:{name:"2-4"}},[e._v("已完成")]):e._e(),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0?a("MenuItem",{attrs:{name:"2-5"}},[e._v("已退单")]):e._e(),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"2-7"}},[e._v("离线发货")]):e._e()],2),e._v(" "),a("Submenu",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-navigate"}}),e._v("\n      系统设置\n    ")],1),e._v(" "),a("MenuItem",{attrs:{name:"3-1"}},[e._v("个人设置")]),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-3"}},[e._v("买手设置")]):e._e(),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-5"}},[e._v("店铺设置")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-6"}},[e._v("店铺黑名单")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-7"}},[e._v("历史下单管理")]):e._e(),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-8"}},[e._v("代发商品")]):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-9"}},[e._v("店群管理")]):e._e(),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("MenuItem",{attrs:{name:"3-4"}},[e._v("导入订单")]):e._e(),e._v(" "),a("MenuItem",{attrs:{name:"3-2"}},[e._v("退出登陆")])],2)],1)},staticRenderFns:[]};var E=a("VU/8")({name:"menu-left",data:function(){return{}},methods:{selectMenu:function(e){var t="/";switch(e){case"1-1":t="/today";break;case"1-2":t="/monitor";break;case"1-3":t="/reports/profit";break;case"1-4":t="/reports/lossanalysis";break;case"1-5":t="/reports/buyerreport";break;case"2-1":t="/trades";break;case"2-2":t="/trades/query/ASSIGNED";break;case"2-3":t="/trades/query/ORDEREDALL";break;case"2-4":t="/trades/query/FINISHEDALL";break;case"2-5":t="/trades/query/RESIGNED";break;case"2-6":t="/trades/query/UNASSIGNED";break;case"2-7":t="/delivery";break;case"3-1":t="/buyer-settings";break;case"3-2":t="/logout";break;case"3-3":t="/buyers";break;case"3-4":t="/trades/import";break;case"3-5":t="/shops";break;case"3-6":t="/blacklistshops";break;case"3-7":t="/boughthistory";break;case"3-8":t="/daifa";break;case"3-9":t="/groups"}this.$router.push({path:t})}}},y,!1,function(e){a("wWdf")},"data-v-0ef91e93",null).exports,M=a("3/QO"),D=a.n(M),O=a("3khN"),w=a.n(O),T=a("mw3O"),P=a.n(T),C=a("7t+N"),I=a.n(C),k={name:"layout",components:{menuLeft:E},data:function(){var e=this;return{currentVersion:"",apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null,cookiesArr:[],buyerNick:"",orderFinished:null,orderFailed:null,logisticHisTab:"succeed",logisticHisTabLabelSucceed:function(t){var a=e.logisticHistory.filter(function(e){return"success"===e.result}).length;return t("div",[t("span","成功"+(a?"("+a+")":""))])},logisticHisTabLabelFailed:function(t){var a=e.logisticHistory.filter(function(e){return"fail"===e.result}).length;return t("div",[t("span","失败"+(a?"("+a+")":""))])},logisUpdateItem:null,logisticHistory:[],logisDetailModal:!1,logisDetail:null,autoTracerTask:null,autoTracerInterval:10,autoTracerSwitch:!1,logisticsCompanies:[{code:"HOAU",id:1191,name:"天地华宇",reg_mail_no:"^[A-Za-z0-9]{8,9}$"},{code:"DTW",id:512,name:"大田"},{code:"HTKY",id:502,name:"百世快递",reg_mail_no:"^((A|B|D|E)[0-9]{12})$|^(BXA[0-9]{10})$|^(K8[0-9]{11})$|^(02[0-9]{11})$|^(000[0-9]{10})$|^(C0000[0-9]{8})$|^((21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|61|63)[0-9]{10})$|^((50|51)[0-9]{12})$|^7[0-9]{13}$|^6[0-9]{13}$|^58[0-9]{14}$"},{code:"YTO",id:101,name:"圆通速递",reg_mail_no:"^[A-Za-z0-9]{2}[0-9]{10}$|^[A-Za-z0-9]{2}[0-9]{8}$|^(8)[0-9]{17}|^(9)[0-9]{17}$"},{code:"STO",id:100,name:"申通快递",reg_mail_no:"^(268|888|588|688|368|468|568|668|768|868|968)[0-9]{9}$|^(11|22|40|268|888|588|688|368|468|568|668|768|868|968)[0-9]{10}$|^(STO)[0-9]{10}$|^(33)[0-9]{11}$|^(4)[0-9]{12}$|^(55)[0-9]{11}$|^(66)[0-9]{11}$|^(77)[0-9]{11}$|^(88)[0-9]{11}$|^(99)[0-9]{11}$"},{code:"SF",id:505,name:"顺丰速运",reg_mail_no:"^[A-Za-z0-9-]{4,35}$"},{code:"EMS",id:2,name:"EMS",reg_mail_no:"^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$"},{code:"ZJS",id:103,name:"宅急送",reg_mail_no:"^[a-zA-Z0-9]{10}$|^(42|16)[0-9]{8}$|^A[0-9]{12}"},{code:"YUNDA",id:102,name:"韵达快递",reg_mail_no:"^(10|11|12|13|14|15|16|17|19|18|50|55|58|80|88|66|31|77|39)[0-9]{11}$|^[0-9]{13}$"},{code:"ZTO",id:500,name:"中通快递",reg_mail_no:"^((765|852|779|359|528|751|358|618|680|778|780|768|688|689|618|828|988|118|128|888|571|518|010|628|205|880|882|717|718|728|738|761|762|763|701|757|719|881|120)[0-9]{9})$|^((2008|2010|8050|7518)[0-9]{8})$|^((66|63|64|36|37|53|54|55|56|72)[0-9]{10})$|^((4)[0-9]{11})$"},{code:"POST",id:1,name:"中国邮政"},{code:"OTHER",id:-1,name:"其他",reg_mail_no:"^[A-Za-z0-9-]{4,35}$"},{code:"AIR",id:507,name:"亚风",reg_mail_no:"^[0-9]{11}$"},{code:"DISTRIBUTOR_1710055",id:5000000178661,name:"邮政标准快递",reg_mail_no:"^(10)[0-9]{11}$|^(11)[0-9]{11}$"},{code:"MGSD",id:21000007003,name:"美国速递"},{code:"BHWL",id:21000053037,name:"保宏物流"},{code:"DISTRIBUTOR_13211725",id:0x451f2100de56c,name:"跨越速运"},{code:"UNIPS",id:1237,name:"发网"},{code:"YUD",id:513,name:"长发"},{code:"DISTRIBUTOR_13159132",id:6000100034186,name:"菜鸟大件-日日顺配"},{code:"YC",id:1139,name:"远长",reg_mail_no:"^96[0-9]{12}$"},{code:"DISTRIBUTOR_13148625",id:6000100034229,name:"菜鸟大件-中铁配",reg_mail_no:"^\\d{15,}[-\\d]+$|^[0-9]{10}|[0-9]{12}$"},{code:"DISTRIBUTOR_13222803",id:0x451f2100de9ae,name:"中通快运"},{code:"DFH",id:1137,name:"东方汇",reg_mail_no:"^[0-9]{10}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}"},{code:"CYEXP",id:511,name:"长宇"},{code:"WND",id:21000127009,name:"WnDirect"},{code:"GZLT",id:200427,name:"飞远配送 "},{code:"PKGJWL",id:21000038002,name:"派易国际物流77"},{code:"BESTQJT",id:105031,name:"百世快运"},{code:"NEDA",id:1192,name:"能达速递",reg_mail_no:"^((88|)[0-9]{10})$|^((1|2|3|5|)[0-9]{9})$|^(90000[0-9]{7})$"},{code:"YCT",id:1185,name:"黑猫宅急便",reg_mail_no:"^[0-9]{12}$"},{code:"SURE",id:201174,name:"速尔",reg_mail_no:"^[0-9]{11}[0-9]{1}$"},{code:"DBL",id:107,name:"德邦物流",reg_mail_no:"^[0-9]{8,10}$|^\\d{15,}[-\\d]+$"},{code:"UC",id:1207,name:"优速快递",reg_mail_no:"^VIP[0-9]{9}|V[0-9]{11}|[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^(9001)[0-9]{8}$"},{code:"LTS",id:1214,name:"联昊通",reg_mail_no:"^[0-9]{9,12}$"},{code:"ESB",id:200740,name:"E速宝",reg_mail_no:"[0-9a-zA-Z-]{5,20}"},{code:"GTO",id:200143,name:"国通快递",reg_mail_no:"^(3(([0-6]|[8-9])\\d{8})|((2|4|5|6|7|8|9)\\d{9})|(1|2|3|4|5|6|7|8|9)\\d{11})$"},{code:"LB",id:1195,name:"龙邦速递",reg_mail_no:"^[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^[0-9]{15}$|^[0-9]{15}-[1-9A-Z]{1}-[1-9A-Z]{1}$"},{code:"POSTB",id:200734,name:"邮政快递包裹",reg_mail_no:"^([GA]|[KQ]|[PH]){2}[0-9]{9}([2-5][0-9]|[1][1-9]|[6][0-5])$|^[99]{2}[0-9]{11}$|^[96]{2}[0-9]{11}$|^[98]{2}[0-9]{11}$"},{code:"TTKDEX",id:504,name:"天天快递",reg_mail_no:"^[0-9]{12}$"},{code:"HZABC",id:1121,name:"飞远(爱彼西)配送",reg_mail_no:"^[0-9]{10,11}$|^T[0-9]{10}$|^FYPS[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$"},{code:"EYB",id:3,name:"EMS经济快递",reg_mail_no:"^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$"},{code:"DBKD",id:5000000110730,name:"德邦快递",reg_mail_no:"^[0-9]{8,10}$|^\\d{15,}[-\\d]+$"},{code:"CNEX",id:1056,name:"佳吉快递",reg_mail_no:"^[7,1,9][0-9]{9}$"},{code:"QFKD",id:1216,name:"全峰快递",reg_mail_no:"^[0-6|9][0-9]{11}$|^[7][0-8][0-9]{10}$|^[0-9]{15}$|^[S][0-9]{9,11}(-|)P[0-9]{1,2}$|^[0-9]{13}$|^[8][0,2-9][0,2-9][0-9]{9}$|^[8][1][0,2-9][0-9]{9}$|^[8][0,2-9][0-9]{10}$|^[8][1][1][0][8][9][0-9]{6}$"},{code:"GDEMS",id:1269,name:"广东EMS",reg_mail_no:"^[a-zA-Z]{2}[0-9]{9}[a-zA-Z]{2}$"},{code:"FEDEX",id:106,name:"联邦快递",reg_mail_no:"^[0-9]{12}$"},{code:"QRT",id:1208,name:"增益速递",reg_mail_no:"^[0-9]{12,13}$"},{code:"UAPEX",id:1259,name:"全一快递",reg_mail_no:"^\\d{12}|\\d{11}$"},{code:"XB",id:1186,name:"新邦物流",reg_mail_no:"[0-9]{8}"},{code:"BJRFD-001",id:100034107,name:"如风达配送",reg_mail_no:"^[\\x21-\\x7e]{1,100}$"},{code:"XFWL",id:202855,name:"信丰物流",reg_mail_no:"^130[0-9]{9}|13[7-9]{1}[0-9]{9}|18[8-9]{1}[0-9]{9}$"},{code:"FAST",id:1204,name:"快捷快递",reg_mail_no:"^(?!440)(?!510)(?!520)(?!5231)([0-9]{9,13})$|^(P330[0-9]{8})$|^(D[0-9]{11})$|^(319)[0-9]{11}$|^(56)[0-9]{10}$|^(536)[0-9]{9}$"},{code:"SHQ",id:108,name:"华强物流",reg_mail_no:"^[A-Za-z0-9]*[0|2|4|6|8]$"},{code:"BEST",id:105,name:"百世物流",reg_mail_no:"^[0-9]{11,12}$"}],securityBlocked:!1,unPostTrades:[],notificationId:null,shopList:[],buyerMessage:"",disputeData:null,disputes:[],disputePagination:null,disputeCommon:null,disputeSignature:null,disputeHierarchy:null,addressList:[],searchByTid:"",currentTBNick:"",checkTBConnectionTask:null,godGroup:0}},watch:{autoTracerSwitch:function(e){if(e){var t=this;this.autoTracerTask=setInterval(function(){t.traceOrderOnce()},60*this.autoTracerInterval*1e3),this.traceOrderOnce()}else clearInterval(this.autoTracerTask);this.$store.dispatch("setTraceLogisticsEnable",e)},autoTracerInterval:function(e){if(isNaN(e)){var t=this;clearInterval(this.autoTracerTask),this.autoTracerTask=setInterval(function(){t.traceOrderOnce()},60*e*1e3),this.traceOrderOnce()}},"$store.getters.orderInfo.buyerMessage":function(e){this.buyerMessage=e}},created:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkAuth().then(function(){e.godGroup=e.$store.getters.user.group,e.getLocalUrl(),e.$store.getters.sysIsExtension&&(e.getTBCookies(function(){e.checkTaobaoConnection(),e.checkTBConnectionTask=setInterval(function(){e.checkTaobaoConnection()},3e5)}),window.chrome.runtime.onMessage.addListener(function(t,a,r){e.listenGetCookies(t,a,r),e.listenGetOrderInfo(t,a,r),e.listenSetAddressAdded(t,a,r),e.listenSetOrderBoughtTemp(t,a,r),e.listenOrderedTest(t,a,r),e.listenUCLogistic(t,a,r),e.listenOneKeyOrderSuccess(t,a,r),e.listenTransLink(t,a,r),e.listenCheckBlackListShop(t,a,r)}),e.listenOrderSubmitted(),e.listenModifyTaobaoBoughtItemsRequestHeaders(),e.listenAddressAPIRequestHeaders(),e.listenTransLinkDetailedHistoryRequestHeaders(),e.autoTracerSwitch=e.$store.getters.user.tracelogisticsEnable),e.getLogisticCompanies(),e.initShopList()}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentVersion().then(function(){e.checkLatestVersion()});case 2:case"end":return t.stop()}},t,e)}))()},computed:{},methods:{switchMenu:function(e){var t="/";switch(e){case"1":t="/trades";break;case"2":case"3":t=null}t&&this.$router.push({path:t})},searchTradeByTid:function(e){this.searchByTid=e},getLocalUrl:function(){var e=window.chrome.extension?window.chrome.extension.getURL("/")+"controls.html":"http://localhost:8080/";return this.$store.dispatch("setSysLocalUrl",e),this.$store.dispatch("setSysIsExtension",window.chrome.extension||!1),e},checkTaobaoConnection:function(){var e=this;this.$http.post("https://buyertrade.taobao.com/trade/itemlist/asyncBought.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&_input_charset=utf8",D.a.setQueryConfig({pageNum:1,pageSize:10,auctionStatus:"SEND",prePageNo:1})).then(function(t){try{var a=t.data;"object"!==(void 0===a?"undefined":b()(a))?e.currentTBNick="未登录":(e.getTBCookies(function(e){console.log(e)}),e.currentTBNick=e.$store.getters.tbNick)}catch(t){e.currentTBNick="未登录"}}).catch(function(e){console.log(e)})},listenTBSendListRequest:function(){window.chrome.webRequest.onBeforeSendHeaders.addListener(function(e){var t=e.requestHeaders;return t.push({name:"Referer",value:"https://buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitConfirm"}),{requestHeaders:t}},{urls:["*://buyertrade.taobao.com/trade/itemlist/asyncBought.htm*"]},["blocking","requestHeaders"])},getTaobaoCookies:function(e){var t=[];return window.chrome.cookies.getAll({},function(e){e.forEach(function(e,a){".taobao.com"===e.domain&&t.push(e)})}),e&&e(t),console.log(t),t},uploadTBCookies:function(e){var t=this;return new n.a(function(a,r){t.apiItem={apiHost:"",apiService:"tao11",apiAction:"writecookies",apiQuery:{}},t.apiData={nick:t.$store.getters.tbNick,domain:".taobao.com",cookies:e,session:t.$store.getters.session},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl;t.$http.post(n,t.apiData).then(function(e){var n=e.data;"fail"===n.status?(t.$Message.error(n.message),r(new Error(n.message))):a(n)}).catch(function(e){t.$Message.error("上传Cookies失败！("+e+")"),r(new Error(e.message))})})},downloadTBCookies:function(e){var t=this;return new n.a(function(a,r){t.apiItem={apiHost:"",apiService:"tao11",apiAction:"readcookies",apiQuery:{}},t.apiData={nick:e,domain:"www.taobao.com",session:t.$store.getters.session},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl;t.$http.post(n,t.apiData).then(function(e){var n=e.data;"fail"===n.status?(t.$Message.error(n.message),r(new Error(n.message))):(console.log(n),a(n))}).catch(function(e){t.$Message.error("下载Cookies失败！("+e+")"),r(new Error(e.message))})})},listenLoggedIn:function(){var e=this;window.chrome.webRequest.onBeforeRequest.addListener(function(t){var a=D.a.getQueryString("code",t.url);console.log(a),e.auth(a)},{urls:[this.getLocalUrl()+"#/loggedin*"]},[])},checkAuth:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.renewToken().then(function(){t.$router.push({path:e||"/today"})}).catch(function(e){console.log(e)});case 2:case"end":return a.stop()}},a,t)}))()},renewToken:function(){var e=this;return new n.a(function(t,a){if(e.$store.getters.session)e.$Message.error("身份验证失败，请重试。"),a(new Error("身份验证失败，请重试。"));else{e.apiItem={apiHost:"",apiService:"users",apiAction:"renew",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem);var r=e.$store.getters.apiUrl;e.$http.post(r,e.apiData).then(function(r){"ok"===r.data.status?(e.$store.dispatch("setUserStore",r.data.data),t()):(e.$Message.error("身份验证失败！("+r.data.message+")"),a(new Error("身份验证失败！("+r.data.message+")")))}).catch(function(t){console.log(t),e.$Message.error("身份验证失败，请重试。"),a(new Error("身份验证失败，请重试。"))})}})},switchGroup:function(){var e=this;this.apiItem={apiHost:"",apiService:"users",apiAction:"switchgroup",apiQuery:{}},this.apiData={group:parseInt(this.godGroup)},this.$store.dispatch("setAPIStore",this.apiItem);var t=this.$store.getters.apiUrl;this.$http.post(t,this.apiData).then(function(t){var a=t.data;"fail"===a.status?e.$Message.error(a.message):(e.$Message.error("修改成功!"),window.location.reload())}).catch(function(t){e.$Message.error("获取商品转链失败！("+t+")")})},md5Encode:function(e){var t=a("VI/i").createHash("md5");return t.update(e),t.digest("hex").toLowerCase()},getTBCookies:function(e){var t=this;window.chrome.cookies.getAll({},function(a){t.cookiesArr=[],a.forEach(function(e,a){".taobao.com"===e.domain&&("tracknick"===e.name&&(t.buyerNick=D.a.decodeUnicode(decodeURI(e.value))),t.cookiesArr.push(e))}),t.$store.dispatch("setTBCookies",t.cookiesArr),e&&e(t.cookiesArr)})},listenGetCookies:function(e,t,a){var r=this;"get_cookies"===e.cmd&&(this.getTBCookies(function(){D.a.sendMessageToCurrentContentScript({cmd:"get_cookies_response",value:r.cookiesArr},function(e){"ok"!==e&&window.setTimeout(function(){D.a.sendMessageToCurrentContentScript({cmd:"get_cookies_response",value:this.cookiesArr})},2e3),console.log("返回Cookies："+e)})}),a("ok"))},listenGetOrderInfo:function(e,t,a){"get_orderinfo"===e.cmd&&(a("ok"),this.$store.getters.orderInfo.tradeid&&D.a.sendMessageToCurrentContentScript({cmd:"get_orderinfo_response",value:this.$store.getters.orderInfo},function(e){"ok"!==e&&window.setTimeout(function(){D.a.sendMessageToCurrentContentScript({cmd:"get_orderinfo_response",value:this.$store.getters.orderInfo})},2e3),console.log("返回orderinfo："+e)}),a("ok"))},listenSetAddressAdded:function(e,t,a){"set_addressadded"===e.cmd&&(e.value?(this.$store.dispatch("setOrderInfoAddressAdded",e.value),a("ok")):(this.$Modal.error({title:"地址添加错误!",desc:""}),a("fail")))},listenTransLink:function(e,t,a){var r=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("get_translink"!==e.cmd){t.next=4;break}return a("ok"),t.next=4,r.getShopTransLinkByURL(e.value,e.shopid).then(function(e){D.a.sendMessageToCurrentContentScript({cmd:"get_translink_response",value:e})}).catch(function(e){console.log(e),D.a.sendMessageToCurrentContentScript({cmd:"get_translink_response",message:e.message})});case 4:case"end":return t.stop()}},t,r)}))()},getTransLinkByURL:function(e){var t=this,a=D.a.getQueryString("id",e);return new n.a(function(e,r){t.apiItem={apiHost:"",apiService:"trades",apiAction:"gettranslink",apiQuery:{}},t.apiData={numiid:a},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl+"/?numiid="+a;t.$http.get(n).then(function(a){var n=a.data;"fail"===n.status?(t.$Message.error(n.message),r(new Error(n.message))):(console.log(a),e(n.data.data.url))}).catch(function(e){t.$Message.error("获取商品转链失败！("+e+")"),r(new Error(e.message))})})},getShopTransLinkByURL:function(e,t){var a=this,r=D.a.getQueryString("id",e);return new n.a(function(e,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getshoptranslink",apiQuery:{}},a.apiData={numiid:r,shopid:t},a.$store.dispatch("setAPIStore",a.apiItem);var s=a.$store.getters.apiUrl+"/?numiid="+r+"&shopid="+t;a.$http.get(s).then(function(t){var r=t.data;"fail"===r.status?(a.$Message.error(r.message),n(new Error(r.message))):(console.log(r.data.data.url),e(r.data.data.url))}).catch(function(e){a.$Message.error("获取商品转链失败！("+e+")"),n(new Error(e.message))})})},listenCheckBlackListShop:function(e,t,a){var r=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("check_blacklistshop"!==e.cmd){t.next=4;break}return a("ok"),t.next=4,r.checkBlackListShop(e.value).then(function(e){D.a.sendMessageToCurrentContentScript({cmd:"check_blacklistshop_response",value:e})}).catch(function(e){console.log(e),D.a.sendMessageToCurrentContentScript({cmd:"check_blacklistshop_response",message:e.message})});case 4:case"end":return t.stop()}},t,r)}))()},checkBlackListShop:function(e){var t=this;return new n.a(function(a,r){t.apiItem={apiHost:"",apiService:"shops",apiAction:"checkblacklist",apiQuery:{}},t.apiData={name:e},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl+"/?name="+e;t.$http.get(n).then(function(e){var n=e.data;"fail"===n.status?(t.$Message.error(n.message),r(new Error(n.message))):a(n.data)}).catch(function(e){t.$Message.error("查询店铺黑名单失败！("+e+")"),r(new Error(e.message))})})},listenOrderedTest:function(e,t,a){if("test_ordered"===e.cmd){this.orderFailed=null,this.orderFinished=null;var r=this.$store.getters.orderBought;r.tradeid&&r.tid&&r.oid&&r.buyer?(r.buyerTid=e.value,r.buyerOid=e.value,this.$store.dispatch("setOrderBought",r),this.orderFinished=r,a("ok")):(this.$Message.error("订单错误，请重新下单！"),this.$store.dispatch("clearOrderInfo"),this.$store.dispatch("clearOrderBought"),this.orderFailed=r,a("fail"))}},getUnpostTrades:function(){var e=this;return new n.a(function(t,a){e.apiItem={apiHost:"",apiService:"trades",apiAction:"listunpost",apiQuery:{}},e.apiData={limit$:1e4},e.$store.dispatch("setAPIStore",e.apiItem);var r=e.$store.getters.apiUrl;e.$http.post(r,e.apiData).then(function(e){"ok"===e.data.status?t(e.data.data):a(new Error(e.data.message))}).catch(function(e){console.log(e),a(new Error(e.message))})})},listenAddOrderMemo:function(e,t){var a=this;t&&e?this.addOrderMemo(e,t).then(function(){a.$Message.success("更新订单备注成功！")}).catch(function(e){a.$Modal.error({title:"更新订单备注失败",content:e.message})}):this.$Message.error("传入参数错误")},addOrderMemo:function(e,t){var a=this;return new n.a(function(r,n){try{window.chrome.cookies.getAll({},function(s){var i=[];s.forEach(function(e,t){".taobao.com"===e.domain&&i.push(e)});var o=i.filter(function(e){return".taobao.com"===e.domain&&"_tb_token_"===e.name})[0],c=i.filter(function(e){return".taobao.com"===e.domain&&"unb"===e.name})[0];if(o&&c){var _=Math.ceil(Math.random()*t.length);t=t.substr(0,_)+" "+t.substr(_);var d={_tb_token_:o.value,event_submit_do_query:"1",action:"memo/UpdateBuyMemoAction",biz_order_id:e,buyer_id:decodeURI(c.value),memo:w()(t,"gbk"),flag:a.$store.getters.defaultMemoFlag||3};a.$http.post("https://trade.taobao.com/trade/memo/update_buy_memo.htm",D.a.setQueryConfig(d)).then(function(e){e.request.responseURL.indexOf("login.taobao.com")>-1?(n(new Error("淘宝账户登录失效，请先登录淘宝账户")),D.a.focusOrCreateTab(e.request.responseURL)):r()}).catch(function(e){n(e)})}else n(new Error("淘宝账户登录失效，请先登录淘宝账户")),D.a.focusOrCreateTab("https://login.taobao.com/")})}catch(e){n(e)}})},listenAddOrderBuyerMessage:function(e){var t=this;e?this.addOrderBuyerMessage(e).then(function(){t.$Message.success("更新订单留言成功！")}).catch(function(e){t.$Modal.error({title:"更新订单留言失败",content:e.message})}):this.$Message.error("传入参数错误")},addOrderBuyerMessage:function(e){var t=this;return new n.a(function(a,r){try{window.chrome.cookies.getAll({},function(n){var s=[];n.forEach(function(e,t){".taobao.com"===e.domain&&s.push(e)});var i=s.filter(function(e){return".taobao.com"===e.domain&&"_tb_token_"===e.name})[0],o=s.filter(function(e){return".taobao.com"===e.domain&&"unb"===e.name})[0];if(i&&o){var c=t.$store.getters.defaultBuyerMessage||"",_=t.buyerMessage?t.buyerMessage+" ":"",d={msg:encodeURIComponent(encodeURIComponent(_+=c))};t.$http.post("https://trade.taobao.com/trade/detail/add_message.do?bizOrderId="+e+"&_tb_token_="+i.value,D.a.setQueryConfig(d)).then(function(e){if(e.request.responseURL.indexOf("login.taobao.com")>-1)r(new Error("淘宝账户登录失效，请先登录淘宝账户")),D.a.focusOrCreateTab(e.request.responseURL);else try{var t=JSON.parse(e.data.trim().replace(/'/g,'"'));if("success"!==t.status)throw new Error(t.desc);a()}catch(e){r(e)}}).catch(function(e){r(e)})}else r(new Error("淘宝账户登录失效，请先登录淘宝账户")),D.a.focusOrCreateTab("https://login.taobao.com/")})}catch(e){r(e)}})},listenSetOrderBoughtTemp:function(e,t,a){var r=this;if("set_orderbought_temp"===e.cmd)if(e.value)if(this.$store.getters.orderInfo.tradeid===e.value.tradeid&&this.$store.getters.orderInfo.tid===e.value.tid&&this.$store.getters.orderInfo.oid===e.value.oid&&this.$store.getters.orderInfo.numiid){var n=f()(this.$store.getters.orderBought,e.value);n.buyer=this.buyerNick,n.buyerTid=e.value,n.buyerOid=e.value;var s=n.buyUrl,i=s.indexOf("?")>-1?s.split("?")[1]:"",o=P.a.parse(i).id;window.chrome.storage.local.get("transLinkDetailedHistory",function(e){var t=(e.transLinkDetailedHistory||[]).filter(function(e){return e.indexOf(o)>-1});t.length&&(n.buyUrl=t[t.length-1]),r.$store.dispatch("setOrderBought",n),D.a.sendMessageToCurrentContentScript({cmd:"orderbought_temp_succeed",value:!0}),a("ok")})}else this.$Message.error("订单不一致，请重新下单！"),this.$store.dispatch("clearOrderInfo"),this.$store.dispatch("clearOrderBought"),D.a.sendMessageToCurrentContentScript({cmd:"orderbought_temp_succeed",value:!1,text:"订单不一致，请重新下单！"}),a("fail");else a("fail"),D.a.sendMessageToCurrentContentScript({cmd:"orderbought_temp_succeed",value:!1,text:"回传信息为空，请刷新页面，再试一次！"})},listenUCLogistic:function(e,t,a){"uc_logistic_captured"===e.cmd&&(e.value?a("ok"):a("fail"))},listenOrderSubmitted:function(){var e=this;window.chrome.webRequest.onCompleted.addListener(function(t){e.orderFinished=null,e.orderFailed=null;for(var a="",r=0;r<t.responseHeaders.length;++r)if("at_ctbid"===t.responseHeaders[r].name){a=t.responseHeaders[r].value.split(",")[0];break}if(a){console.log("order number:"+a);var n=e.$store.getters.orderBought;n.buyerTid=a,n.buyerOid=a,e.$store.dispatch("setOrderBought",n),e.orderFinished=n}else console.log("订单号获取失败！可能是遇到风控！")},{urls:["*://buy.tmall.com/auction/confirm_order.htm*","*://buy.taobao.com/auction/confirm_order.htm*","*://buy.taobao.com/auction/confirmOrder.htm*"]},["responseHeaders"])},listenOneKeyOrderSuccess:function(e,t,a){"get_onekey_order_success"===e.cmd&&(a("ok"),this.orderFinished&&!this.orderFailed?D.a.sendMessageToCurrentContentScript({cmd:"get_onekey_order_success_response",value:!0}):!this.orderFinished&&this.orderFailed&&D.a.sendMessageToCurrentContentScript({cmd:"get_onekey_order_success_response",value:!1}))},getLogisticCompanies:function(){var e=this;this.apiItem={apiHost:"",apiService:"tao11",apiAction:"logiscompanies",apiQuery:{}},this.apiData={session:this.$store.getters.session},this.$store.dispatch("setAPIStore",this.apiItem);var t=this.$store.getters.apiUrl;this.$http.post(t,this.apiData).then(function(t){"ok"===t.data.status?(e.logisticsCompanies=t.data.data,e.$Message.success("更新物流公司列表成功！")):e.$Message.error("获取物流公司列表失败！")}).catch(function(t){console.log(t),e.$Message.error("获取物流公司列表失败！")})},getLogisticCompanyCode:function(e){try{return this.logisticsCompanies.filter(function(t){return t.name.trim()===e.trim()})[0].code}catch(e){return console.log(e),"未知"}},getLogisticDetail:function(e){var t,a=this;return new n.a((t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.$http.get(e).then(function(t){if(t.data.indexOf("发现您的网络环境有异常，为保证正常使用，请验证")>=0)a.securityBlocked||(window.open(e,"_blank"),a.securityBlocked=!0,n(new Error("SECURITY_BLOCKED")));else{var s=I()(t.data).find(".detail-panel .panel-order .info .order-row:first").children("span"),i={logisNumber:I()(s[0]).text().trim(),companyCode:a.getLogisticCompanyCode(I()(s[1]).text().trim())};r(i)}}).catch(function(e){console.log(e),n(e)});case 1:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))},logisticCaptured:function(e){var t=this;this.apiItem={apiHost:"",apiService:"trades",apiAction:"finish",apiQuery:{}},this.apiData={session:this.$store.getters.session,tradeid:e.tradeid,tid:e.tid,oid:e.oid,logisNumber:e.logisNumber,companyCode:e.companyCode},this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(a){"ok"===a.data.status?(t.$Message.success("发货成功！"),t.$Notice.success({title:"发货成功！",desc:"订单["+e.tid+"]发货成功！"}),e.result="success",t.logisUpdateItem=e):(t.$Message.error("发货失败！"+a.data.message),e.result="fail",e.reason=a.data.message),t.logisticHistory.push(e)}).catch(function(a){console.log(a),t.$Message.error("发货失败！"+a.message),e.result="fail",e.reason=a.message,t.logisticHistory.push(e)})},searchTBSendOrders:function(e,t){var a=this;return new n.a(function(r,n){var s={lastStartRow:null,options:0,queryBizType:null,queryOrder:"desc",tabCode:"waitConfirm",pageNum:t,pageSize:e,orderStatus:"SEND",prePageNo:1===t?1:t-1};a.$http.post("https://buyertrade.taobao.com/trade/itemlist/asyncBought.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&_input_charset=utf8",D.a.setQueryConfig(s)).then(function(e){try{var t=e.data;if("object"!==(void 0===t?"undefined":b()(t)))throw new Error("TAOBAO_REDIRECT");r(t)}catch(e){a.$Modal.error({title:"Taobao发生错误",content:"检测到淘宝接口调用失败，可能需要重新登陆淘宝。"}),n(e)}}).catch(function(e){console.log(e),n(e)})})},listenModifyTaobaoBoughtItemsRequestHeaders:function(){window.chrome.webRequest.onBeforeSendHeaders.addListener(function(e){var t=e.requestHeaders;return t.push({name:"Origin",value:"http://buyertrade.taobao.com"}),t.push({name:"Referer",value:"https://buyertrade.taobao.com/trade/itemlist/list_bought_items.htm"}),{requestHeaders:t}},{urls:["*://buyertrade.taobao.com/trade/itemlist/asyncBought.htm*"]},["blocking","requestHeaders"])},onAutoTracerInterval:function(e){this.autoTracerInterval=e},onAutoTracerSwitch:function(e){this.autoTracerSwitch=e},traceOrderOnce:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUnpostTrades().then(function(){var t=v()(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.unPostTrades=a.datalist;case 1:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$Notice.error({title:"跟踪发货出错啦！",desc:t})});case 2:return t.next=4,e.searchTBSendOrders(100,1).then(function(){var t=v()(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.autoTracer(a,e.unPostTrades).then(function(){e.$Notice.success({title:"跟踪发货执行完毕！",desc:""})}).catch(function(t){e.$Notice.error({title:"跟踪发货出错啦！(淘宝端)",desc:t})});case 1:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$Notice.error({title:"跟踪发货出错啦！(淘宝端)",desc:t})});case 4:case"end":return t.stop()}},t,e)}))()},autoTracer:function(e,t){var a,r=this,s=this;return new n.a((a=v()(m.a.mark(function a(n,i){var o,c,_,d,l,u,f,p,b,h,g,y,E;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=e.page.totalNumber,c=e.page.pageSize,_=e.page.totalPage,d=3e4,l=(new Date).getTime(),r.autoTracerProcessor(e,t).then(function(e){console.log((e.endTime-l)/1e3+"ms")}).catch(function(e){i(e)}),console.log("totalOrderNum:"+o+",pageSize:"+c+",pageTotal:"+_),o<=c?n():o>c&&o<=5*c?(d=3e4,u=2,f=setInterval(v()(m.a.mark(function e(){var a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.searchTBSendOrders(c,u).then(function(){var e=v()(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++u>_&&(clearInterval(f),n()),e.next=4,s.autoTracerProcessor(r,t).catch(function(e){clearInterval(f),i(e)});case 4:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),d)):o>5*c&&o<=10*c?(d=9e4,p=2,b=setInterval(v()(m.a.mark(function e(){var a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.searchTBSendOrders(c,p).then(function(){var e=v()(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++p>_&&(clearInterval(b),n()),e.next=4,s.autoTracerProcessor(r,t).catch(function(e){clearInterval(b),i(e)});case 4:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),d)):o>10*c&&o<=20*c?(d=6e4,h=2,g=setInterval(v()(m.a.mark(function e(){var a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.searchTBSendOrders(c,h).then(function(){var e=v()(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:++h>_&&(clearInterval(g),n()),s.autoTracerProcessor(r,t).catch(function(e){clearInterval(g),i(e)});case 3:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),d)):(d=Math.floor(114e4/_),y=2,E=setInterval(v()(m.a.mark(function e(){var a=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.searchTBSendOrders(c,y).then(function(){var e=v()(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++y>_&&(clearInterval(E),n()),e.next=4,s.autoTracerProcessor(r,t).catch(function(e){clearInterval(E),i(e)});case 4:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),d));case 8:case"end":return a.stop()}},a,r)})),function(e,t){return a.apply(this,arguments)}))},autoTracerProcessor:function(e,t){var a=this;return v()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new n.a(function(){var r=v()(m.a.mark(function r(n,s){var i,o;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.mainOrders){r.next=16;break}r.prev=1,i=m.a.mark(function r(s){var i,o,c;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=e.mainOrders[s].id,o=m.a.mark(function r(o){var _,d,l,u,f,p,b,h,g,y,E;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(_=t[o].ordered.filter(function(e){return!e.dismiss}),d=t[o].id,l=t[o].tid_str,!_.length){r.next=17;break}if(!(u=_.filter(function(e){return e.order_number===i})).length){r.next=17;break}return f=u[0].oid_str,p=u[0].buyer_fee,b=u[0].post_fee,h=e.mainOrders[s].payInfo.actualFee,e.mainOrders[s].payInfo.oldActualFee&&(h=100*parseFloat(h),g=100*parseFloat(e.mainOrders[s].payInfo.postFees[0].value.replace(/￥/g,"")),a.$Notice.info({title:"发现订单改价",desc:"订单"+l+" 原价:"+p/100+"(邮费:"+b+") 改为:"+h/100+"(邮费: "+g+")"}),a.changePrice(d,i,h,g)),a.$Notice.info({title:"发现订单已发货",desc:"匹配订单！"+l+":"+i}),y=e.mainOrders[s].seller.id,E="https://detail.i56.taobao.com/trace/trace_detail.htm?tId="+i+"&userId="+y,r.next=17,a.getLogisticDetail(E).then(function(){var e=v()(m.a.mark(function e(t){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={tradeid:d,tid:l,oid:f,logisNumber:t.logisNumber,companyCode:t.companyCode,captureTime:(new Date).getTime()},!t.logisNumber){e.next=4;break}return e.next=4,a.logisticCaptured(r);case 4:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){throw e});case 17:o++,s===e.mainOrders.length-1&&n({endTime:(new Date).getTime()}),c=o;case 20:case"end":return r.stop()}},r,a)}),c=0;case 3:if(!(c<t.length)){r.next=7;break}return r.delegateYield(o(c),"t0",5);case 5:r.next=3;break;case 7:case"end":return r.stop()}},r,a)}),o=0;case 4:if(!(o<e.mainOrders.length)){r.next=9;break}return r.delegateYield(i(o),"t0",6);case 6:o++,r.next=4;break;case 9:r.next=14;break;case 11:r.prev=11,r.t1=r.catch(1),s(r.t1);case 14:r.next=17;break;case 16:n();case 17:case"end":return r.stop()}},r,a,[[1,11]])}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r,a)}))()},changePrice:function(e,t,a,r){var s=this;return new n.a(function(n,i){s.apiItem={apiHost:"",apiService:"trades",apiAction:"updateprice",apiQuery:{}},s.apiData={tradeid:e,ordernumber:t,actualfee:a,actualpostfee:r},s.$store.dispatch("setAPIStore",s.apiItem);var o=s.$store.getters.apiUrl;s.$http.post(o,s.apiData).then(function(e){var t=e.data;"fail"===t.status?(s.$Message.error(t.message),i(new Error(t.message))):(console.log(e),n())}).catch(function(e){s.$Message.error("更新下单价格失败！("+e+")"),i(new Error(e.message))})})},initShopList:function(){var e=this;this.apiItem={apiHost:"",apiService:"shops",apiAction:"selectlist",apiQuery:{}},this.apiData={},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new n.a((t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺列表获取失败！("+s.message+")"),n(new Error("店铺列表获取失败！("+s.message+")"))):(e.$Message.success("店铺列表载入成功!"),e.$store.dispatch("setAPILastResponse",s),e.shopList=s.data,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))},getRefundList:function(){var e=this;this.$http.get("https://refund2.tmall.com/dispute/buyerDisputeList.htm?type=1&disputeType=1").then(function(t){var a=1,r=t.data.match(/var disputeData.*/);if(r){var s=JSON.parse(r[0].substring(18,r[0].length-1));e.disputeHierarchy=s.hierarchy,e.procDisputeData(s,a).then(v()(m.a.mark(function t(){var r,s,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=parseInt(e.disputePagination.defaultCurrent),r=parseInt(e.disputePagination.defaultPageSize),s=parseInt(e.disputePagination.total),i=Math.ceil(s/r);case 5:if(!(a<i)){t.next=10;break}return t.next=8,v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRefundPages(a+1).then(function(){var t=v()(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.procDisputeData(n,a+1).then(function(){r()});case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){console.log(e),n(e)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,e)}))(a).then(function(){a++}).catch(function(e){console.log(e),a++});case 8:t.next=5;break;case 10:case"end":return t.stop()}},t,e)}))),console.log(s)}}).catch(function(e){console.log(e)})},getRefundPages:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new n.a(function(a,r){t.disputeData.data.listPagination_1.fields.defaultCurrent=e.toString();var n={operator:"listPagination_1",data:t.disputeData.data,linkage:{common:{compress:t.disputeCommon.compress,queryParams:t.disputeCommon.queryParams,validateParams:t.disputeCommon.validateParams},signature:t.disputeSignature},hierarchy:t.disputeHierarchy};t.$http.post("https://refund2.tmall.com/dispute/adjust/adjustBuyerList.json",P.a.stringify({data:l()(n)}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.data.success){var t=e.data.resultData;a(t)}else r(new Error("NETWORK_ERROR"))}).catch(function(e){console.log(e),r(e)})}));case 1:case"end":return a.stop()}},a,t)}))()},procDisputeData:function(e,t){var a=this;return new n.a(function(r,n){a.disputeData=e;var s=e.data.listPagination_1.fields;a.disputePagination=s,e.linkage.input.forEach(function(r){if(r.indexOf("ListGrid")>-1){var n=e.data[r],s=n.id.split("@")[0],i=a.disputes.filter(function(e){return e.id==="page"+t+"_"+s})[0];"disputeHeader"===n.bizName?i&&!i.orderNumber?(i.orderNumber=n.fields.numbers[0].value,i.disputeNumber=n.fields.numbers[1].value):i||a.disputes.push({id:"page"+t+"_"+s,orderNumber:n.fields.numbers[0].value,disputeNumber:n.fields.numbers[1].value}):"disputeBody"===n.bizName&&(i&&!i.type?(i.amount=n.fields.options[0].title.name,i.time=n.fields.options[1].title.name,i.type=n.fields.options[2].title.name,i.status=n.fields.options[3].title.name.indexOf("<br/>")>-1?n.fields.options[3].title.name.split("<br/>")[0]:"",i.detailUrl=n.fields.options[4].title.linkUrl):i||a.disputes.push({id:"page"+t+"_"+s,amount:n.fields.options[0].title.name,time:n.fields.options[1].title.name,type:n.fields.options[2].title.name,status:n.fields.options[3].title.name.indexOf("<br/>")>-1?n.fields.options[3].title.name.split("<br/>")[0]:"",detailUrl:n.fields.options[4].title.linkUrl}))}}),a.disputeCommon=e.linkage.common,a.disputeSignature=e.linkage.signature,r()})},listenAddressAPIRequestHeaders:function(){window.chrome.webRequest.onBeforeSendHeaders.addListener(function(e){var t=e.requestHeaders;return t.push({name:"Referer",value:"https://member1.taobao.com/member/fresh/deliver_address.htm"}),{requestHeaders:t}},{urls:["*://h5api.m.taobao.com/*"]},["blocking","requestHeaders"])},getAddressList201807:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(t,a){e.cookiesArr&&e.cookiesArr.length||e.getTBCookies();var r=e.cookiesArr.filter(function(e){return"_m_h5_tk"===e.name})[0].value.split("_")[0],n=(new Date).getTime(),s="https://h5api.m.taobao.com/h5/mtop.taobao.mbis.getdeliveraddrlist/1.0/?jsv=2.4.2&appKey=12574478&t="+n+"&sign="+e.md5Encode(r+"&"+n+"&12574478&{}")+"&api=mtop.taobao.mbis.getDeliverAddrList&v=1.0&ecode=1&needLogin=true&dataType=jsonp&type=jsonp&callback=mtopjsonp3&data=%7B%7D";e.$http.get(s).then(function(r){var n=r.data.trim(),s=JSON.parse(n.substring(11,n.length-1));if(s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&"SUCCESS"===s.ret[0].split("::")[0]){var i=s.data;if("true"===i.success)try{e.addressList=JSON.parse(i.returnValue),console.log(e.addressList),t(e.addressList)}catch(e){a(e)}else a(new Error("API_RESPONSE_ERROR"))}else s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&s.ret[0].split("::")[0].indexOf("SESSION_EXPIRED")>-1?a(new Error("TAOBAO_SESSION_EXPIRED")):s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&s.ret[0].split("::")[0].indexOf("TOKEN_EXOIRED")>-1?a(new Error("TAOBAO_TOKEN_EXOIRED")):a(s.ret&&s.ret[0]?new Error(s.ret[0]):new Error("API_ERROR"))}).catch(function(e){console.log(e),a(e)})}));case 1:case"end":return t.stop()}},t,e)}))()},validateNewAddress201807:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new n.a(function(a,r){var n=t.cookiesArr.filter(function(e){return"_m_h5_tk"===e.name})[0].value.split("_")[0],s=(new Date).getTime(),i={sn:"suibianchuan",prov:e.provName,provId:e.prov,city:e.cityName,cityId:e.city,district:e.areaName,districtId:e.area||e.areaName,town:e.townName,townId:e.town||e.townName,addressDetail:e.addressDetail},o=l()(i),c="https://h5api.m.taobao.com/h5/mtop.cainiao.address.ua.china.address.validate/1.0/?jsv=2.4.2&appKey=12574478&t="+s+"&sign="+t.md5Encode(n+"&"+s+"&12574478&"+o)+"&api=mtop.cainiao.address.ua.china.address.validate&v=1.0&dataType=jsonp&type=jsonp&callback=mtopjsonp17&data="+encodeURIComponent(o);t.$http.get(c).then(function(t){var n=t.data.trim(),s=JSON.parse(n.substring(12,n.length-1));if(s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&"SUCCESS"===s.ret[0].split("::")[0]){s.data.divisionParse.townId||r(new Error("买家地址不完整"));var i={divisionCode:s.data.divisionParse.townId,townDivisionCode:s.data.divisionParse.townId,addressDetail:e.addressDetail,postCode:"000000"===e.post?"":e.post,overseaAddress:!1,fullName:e.fullName,mobileCode:86,mobile:e.mobile,phoneInternationalCode:86,phoneAreaCode:e.phoneSection,phoneNumber:e.phoneCode,phoneExtension:e.phoneExt,defaultDeliverAddress:!0};a(i)}else s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&s.ret[0].split("::")[0].indexOf("SESSION_EXPIRED")>-1?r(new Error("TAOBAO_SESSION_EXPIRED")):s.ret&&s.ret[0]&&s.ret[0].indexOf("::")>-1&&s.ret[0].split("::")[0].indexOf("TOKEN_EXOIRED")>-1?r(new Error("TAOBAO_TOKEN_EXOIRED")):r(s.ret&&s.ret[0]?new Error(s.ret[0]):new Error("API_ERROR"))}).catch(function(e){console.log(e),r(e)})}));case 1:case"end":return a.stop()}},a,t)}))()},insertNewAddress201807:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new n.a(function(){var a=v()(m.a.mark(function a(r,n){var s,i,o,c,_,d,u;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s={},a.next=3,t.validateNewAddress201807(e).then(function(e){s=e}).catch(function(e){console.log(e),n(e)});case 3:i=null;try{i=t.cookiesArr.filter(function(e){return"_m_h5_tk"===e.name})[0].value.split("_")[0]}catch(e){n(new Error("TAOBAO_TOKEN_EXOIRED"))}o=(new Date).getTime(),c="12574478",_=l()({divisionCode:s.divisionCode||e.town||"",townDivisionCode:s.townDivisionCode||e.town||"",addressDetail:e.addressDetail,postCode:e.post?e.post:"000000",overseaAddress:!1,fullName:e.fullName,mobileCode:86,mobile:e.mobile,phoneInternationalCode:86,phoneAreaCode:e.phoneSection,phoneNumber:e.phoneCode,phoneExtension:e.phoneExt,defaultDeliverAddress:!0}),d=t.md5Encode(i+"&"+o+"&"+c+"&"+_),u="https://h5api.m.taobao.com/h5/mtop.taobao.mbis.insertdeliveraddress/1.0/?jsv=2.4.2&appKey=12574478&t="+o+"&sign="+d+"&api=mtop.taobao.mbis.insertDeliverAddress&v=1.0&ecode=1&needLogin=true&timeout=20000&dataType=jsonp&type=jsonp&callback=mtopjsonp11&data="+encodeURIComponent(_),t.$http.get(u).then(function(e){var t=e.data.trim(),a=JSON.parse(t.substring(12,t.length-1));if(a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&"SUCCESS"===a.ret[0].split("::")[0]){var s=a.data;if("true"===s.success)try{var i=JSON.parse(s.returnValue);i.deliverId?r(i.deliverId):n(new Error("UNKNOWN"))}catch(e){n(e)}else n(new Error("API_RESPONSE_ERROR"))}else a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&a.ret[0].split("::")[0].indexOf("SESSION_EXPIRED")>-1?n(new Error("TAOBAO_SESSION_EXPIRED")):a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&a.ret[0].split("::")[0].indexOf("TOKEN_EXOIRED")>-1?n(new Error("TAOBAO_TOKEN_EXOIRED")):a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&a.ret[0].split("::")[0].indexOf("518")>-1?n(new Error("TAOBAO_ADDRESSLIST_FULL")):n(a.ret&&a.ret[0]?new Error(a.ret[0]):new Error("API_ERROR"))}).catch(function(e){console.log(e),n(e)});case 11:case"end":return a.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,t)}))()},deleteAddress201807:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new n.a(function(){var a=v()(m.a.mark(function a(r,n){var s,i,o,c,_,d,u;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e&&e.deliverId||n(new Error("PARAMETER_ERROR")),s={deliverId:e.deliverId},i=null;try{i=t.cookiesArr.filter(function(e){return"_m_h5_tk"===e.name})[0].value.split("_")[0]}catch(e){n(new Error("TAOBAO_TOKEN_EXOIRED"))}o=(new Date).getTime(),c="12574478",_=l()(s),d=t.md5Encode(i+"&"+o+"&"+c+"&"+_),u="https://h5api.m.taobao.com/h5/mtop.taobao.mbis.deletedeliveraddressbyid/1.0/?jsv=2.4.2&appKey=12574478&t="+o+"&sign="+d+"&api=mtop.taobao.mbis.deleteDeliverAddressById&v=1.0&ecode=1&needLogin=true&dataType=jsonp&type=jsonp&callback=mtopjsonp4&data="+encodeURIComponent(_),t.$http.get(u).then(function(e){console.log(e);var t=e.data.trim(),a=JSON.parse(t.substring(11,t.length-1));a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&"SUCCESS"===a.ret[0].split("::")[0]?r():a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&a.ret[0].split("::")[0].indexOf("SESSION_EXPIRED")>-1?n(new Error("TAOBAO_SESSION_EXPIRED")):a.ret&&a.ret[0]&&a.ret[0].indexOf("::")>-1&&a.ret[0].split("::")[0].indexOf("TOKEN_EXOIRED")>-1?n(new Error("TAOBAO_TOKEN_EXOIRED")):n(a.ret&&a.ret[0]?new Error(a.ret[0]):new Error("API_ERROR"))}).catch(function(e){console.log(e),n(e)});case 10:case"end":return a.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,t)}))()},insertNewAddress:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e&&e.addressDetail&&(e.addressDetail=D.a.addressDetailFilter(e.addressDetail)),a.next=3,t.insertNewAddress201807(e).then(function(e){t.$Notice.success({title:"新增地址成功！",desc:""})}).catch(function(){var a=v()(m.a.mark(function a(r){var n;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.message,"TAOBAO_SESSION_EXPIRED"!==r.message){a.next=6;break}n="淘宝账号登陆过期！请先登陆淘宝",window.open("https://login.taobao.com/member/login.jhtml"),a.next=16;break;case 6:if("TAOBAO_TOKEN_EXOIRED"!==r.message){a.next=11;break}n="淘宝TOKEN过期！请重新登陆淘宝，然后再试一次",t.getTBCookies(),a.next=16;break;case 11:if("TAOBAO_ADDRESSLIST_FULL"!==r.message){a.next=16;break}return a.next=14,t.getAddressList201807().then(function(e){e instanceof Array&&e.forEach(function(e){t.deleteAddress201807(e).catch(function(e){console.log(e),t.$Message.error("删除地址失败!"+e.message)})})});case 14:return t.insertNewAddress(e),a.abrupt("return",!1);case 16:alert("新增地址失败！请手工添加地址。\r\n"+n);case 17:case"end":return a.stop()}},a,t)}));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return a.stop()}},a,t)}))()},listenTransLinkDetailedHistoryRequestHeaders:function(){window.chrome.webRequest.onCompleted.addListener(function(e){var t=e.url;t.indexOf("ali_trackid")>-1&&window.chrome.storage.local.get("transLinkDetailedHistory",function(e){var a=e.transLinkDetailedHistory||[];a.push(t),window.chrome.storage.local.set({transLinkDetailedHistory:a})})},{urls:["*://item.taobao.com/item.htm*","*://detail.tmall.com/item.htm*"]},["responseHeaders"])},getCurrentVersion:function(){var e=this;return new n.a(function(t,a){e.$http.get(window.chrome.extension.getURL("manifest.json")).then(function(a){e.currentVersion={version:a.data.version,versionName:a.data.version_name},t(a.data)}).catch(function(e){a(e)})})},checkLatestVersion:function(){var e=this;this.$http.get("http://dingdan.tao11.la/version.json?_t="+(new Date).getTime()).then(function(t){var a=t.data.stable,r=a?a.version_name.split(" build ")[1]:"",n=e.currentVersion?e.currentVersion.versionName.split(" build ")[1]:"";a&&(a.version>e.currentVersion.version||r>n)?e.$Modal.confirm({title:"发现新版本插件",content:"<p>发现新版本："+a.version_name+"</p><p>当前版本："+e.currentVersion.versionName+"</p><p>是否更新？</p>",onOk:function(){window.open(a.file_url,"_blank")}}):e.$Message.success("您的版本已是最新")})},showChangeLogs:function(){var e=this;this.$http.get(window.chrome.extension.getURL("changelog.txt")).then(function(t){e.$Modal.info({title:"版本更新日志",content:"<pre>"+t.data+"</pre>",width:600})})}}},R={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",{staticClass:"layout"},[r("Header",[r("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"},on:{"on-select":e.switchMenu}},[r("div",{staticClass:"layout-logo"},[r("img",{attrs:{src:a("7Ogj")}}),e._v(" "),r("div",{staticClass:"site-title"},[e._v("\n          淘易易\n          "),r("span",{staticClass:"small"},[e._v("订单管理")])])]),e._v(" "),r("div",{staticClass:"layout-nav"},[r("MenuItem",{attrs:{name:"1"}},[r("Icon",{attrs:{type:"ios-list-outline"}}),e._v("\n          订单中心\n        ")],1),e._v(" "),r("MenuItem",{attrs:{name:"2",id:"logisHistoryTrigger"}},[r("Icon",{attrs:{type:"ios-navigate"}}),e._v("\n          发货情况\n          "),r("div",{staticClass:"hover-box"},[r("Form",{attrs:{"label-width":120,inline:""}},[r("FormItem",{attrs:{label:"发货跟踪状态"}},[r("span",{style:{color:e.autoTracerSwitch?"forestgreen":"grey",fontWeight:800}},[e._v(e._s(e.autoTracerSwitch?"进行中":"关闭"))])]),e._v(" "),r("FormItem",{attrs:{label:"成功/总数"}},[r("span",{staticStyle:{color:"forestgreen","font-weight":"800"}},[e._v(e._s(e.logisticHistory.filter(function(e){return"success"===e.result}).length))]),e._v("\n                /\n                "),r("span",[e._v(e._s(e.logisticHistory.length))]),e._v(" "),r("Button",{attrs:{type:"text",icon:"ios-trash-outline"},on:{click:function(t){e.logisticHistory=[]}}})],1)],1),e._v(" "),r("Tabs",{attrs:{value:"logisticHisTab"}},[r("TabPane",{attrs:{label:e.logisticHisTabLabelSucceed,name:"succeed"}},[r("div",{staticClass:"logis-history-console-box"},e._l(e.logisticHistory.filter(function(e){return"success"===e.result}),function(t,a){return r("p",{key:a,on:{click:function(a){a.stopPropagation(),a.preventDefault(),e.logisDetailModal=!0,e.logisDetail=t}}},[e._v(e._s(t.tid+"\t"+t.logisNumber+"\t"+t.companyCode+"\t"+t.result+"\t"+new Date(t.captureTime).Format("hh:mm:ss")))])}))]),e._v(" "),r("TabPane",{attrs:{label:e.logisticHisTabLabelFailed,name:"failed"}},[r("div",{staticClass:"logis-history-console-box"},e._l(e.logisticHistory.filter(function(e){return"fail"===e.result}),function(t,a){return r("p",{key:a,on:{click:function(a){a.stopPropagation(),a.preventDefault(),e.logisDetailModal=!0,e.logisDetail=t}}},[e._v(e._s(t.tid+"\t"+t.logisNumber+"\t"+t.companyCode+"\t"+t.result+"\t"+new Date(t.captureTime).Format("hh:mm:ss")))])}))])],1),e._v(" "),e.logisDetail?r("Modal",{attrs:{title:e.logisDetail.oid+"订单物流信息"},model:{value:e.logisDetailModal,callback:function(t){e.logisDetailModal=t},expression:"logisDetailModal"}},[r("dl",{staticClass:"logis-detail-dl"},[r("dt",[e._v("序号")]),e._v(" "),r("dd",[e._v(e._s(e.logisDetail.id))]),e._v(" "),r("dt",[e._v("状态")]),e._v(" "),r("dd",[e._v(e._s(e.logisDetail.result))]),e._v(" "),r("dt",[e._v("主订单编号")]),e._v(" "),r("dd",[e._v(e._s(e.logisDetail.tid))]),e._v(" "),e.logisDetail.tid!==e.logisDetail.oid?r("dt",[e._v("子订单编号")]):e._e(),e._v(" "),e.logisDetail.tid!==e.logisDetail.oid?r("dd",[e._v(e._s(e.logisDetail.oid))]):e._e(),e._v(" "),r("dt",[e._v("运单号")]),e._v(" "),r("dd",[e._v(e._s(e.logisDetail.logisNumber))]),e._v(" "),r("dt",[e._v("快递公司")]),e._v(" "),r("dd",[e._v(e._s(e.logisDetail.companyCode))]),e._v(" "),r("dt",[e._v("时间")]),e._v(" "),r("dd",[e._v(e._s(new Date(e.logisDetail.captureTime).Format("yyyy-MM-dd hh:mm:ss")))]),e._v(" "),"fail"===e.logisDetail.result?r("dt",[e._v("失败原因")]):e._e(),e._v(" "),"fail"===e.logisDetail.result?r("dd",[e._v(e._s(e.logisDetail.reason))]):e._e()])]):e._e()],1)],1),e._v(" "),r("MenuItem",{attrs:{name:"3",id:"myinfoTrigger"}},[r("Icon",{attrs:{type:"person"}}),e._v("\n          我\n          "),r("div",{staticClass:"hover-box"},[r("div",{staticClass:"hover-box-content-flex"},[r("div",{staticClass:"hover-box-content-flex-1"},[r("dl",[r("dt",[r("Icon",{attrs:{type:"ios-barcode-outline"}}),e._v(" 用户")],1),e._v(" "),r("dd",[e._v(e._s(e.$store.getters.user.tao11id))]),e._v(" "),r("dt",[r("Icon",{attrs:{type:"ios-person-outline"}}),e._v(" 姓名")],1),e._v(" "),r("dd",[e._v(e._s(e.$store.getters.user.name))]),e._v(" "),r("dt",[r("Icon",{attrs:{type:"ios-unlocked-outline"}}),e._v(" 角色")],1),e._v(" "),r("dd",[e._v(e._s(e.$store.getters.user.role))]),e._v(" "),r("dt",[r("Icon",{attrs:{type:"ios-color-filter-outline"}}),e._v(" 店群")],1),e._v(" "),"god"===e.$store.getters.user.role?r("dd",[r("Input",{staticStyle:{width:"50px"},attrs:{size:"small"},model:{value:e.godGroup,callback:function(t){e.godGroup=t},expression:"godGroup"}}),e._v(" "),r("Button",{attrs:{type:"ghost",size:"small"},on:{click:e.switchGroup}},[e._v("更改")])],1):r("dd",[e._v("\n                    "+e._s(e.$store.getters.user.group)+"\n                  ")]),e._v(" "),r("dt",[r("Icon",{attrs:{type:"social-tumblr-outline"}}),e._v(" 淘宝账号")],1),e._v(" "),r("dd",[e._v(e._s(e.currentTBNick))])])]),e._v(" "),r("Button",{attrs:{type:"error",long:"",size:"large",icon:"power"},on:{click:function(t){e.$router.push({path:"/logout"})}}},[e._v("登出")])],1)])],1)],1)])],1),e._v(" "),r("Layout",{style:{padding:"0 50px"}},[r("div",{staticClass:"padding-top-20"}),e._v(" "),r("Content",{style:{padding:"24px 0",minHeight:"280px",display:"flex",background:"#fff"},attrs:{id:"main"}},[r("Layout",{style:{position:"relative",overflowY:"auto"}},[r("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[r("menu-left")],1),e._v(" "),r("Content",{style:{padding:"0 24px",minHeight:"280px",background:"#fff"},attrs:{id:"mainContent"}},[r("router-view",{attrs:{shopList:e.shopList,orderFinished:e.orderFinished,orderFailed:e.orderFailed,addressList:e.addressList,searchByTid:e.searchByTid,logisUpdateItem:e.logisUpdateItem},on:{"on-addordermemo":e.listenAddOrderMemo,"on-addorderbuyermessage":e.listenAddOrderBuyerMessage,"on-checkauth":e.checkAuth,"on-autotracerswitch":e.onAutoTracerSwitch,"on-autotracerinterval":e.onAutoTracerInterval,"on-get-addresslist":e.getAddressList201807,"on-insertnewaddress":e.insertNewAddress,"on-searchbytid":e.searchTradeByTid}})],1)],1)],1)],1),e._v(" "),r("Footer",{staticClass:"layout-footer-center"},[e._v("\n    2011-2019 © YSPN Studio   当前版本："+e._s(e.currentVersion?e.currentVersion.versionName:"未知")+"\n    "),r("Button",{attrs:{type:"ghost",size:"small"},on:{click:e.checkLatestVersion}},[e._v("检查更新")]),e._v(" "),r("Button",{attrs:{type:"text",size:"small"},on:{click:e.showChangeLogs}},[e._v("更新日志")])],1)],1)},staticRenderFns:[]};var S=a("VU/8")(k,R,!1,function(e){a("t9nb")},null,null).exports,A=a("XLwt"),B=a.n(A),L=a("VJQI"),U=a.n(L);a("BLY9");var x={name:"monitor",components:{},data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null,screenWidth:document.body.clientWidth,timer:!1,time:Date.now(),fullscreenMode:!0,buyersStat:[],buyersToday:{buyers:[],today:[]},syncTask:null,syncSysStatsTask:null,synchronizing:!1,lastUpdatedAt:null,newTrades:[],newOrdereds:[],sysStats:[],sysStatsData:{categories:[],yesterday:[],today:[]},buyerYesterdayData:[],recentDailyData:[]}},watch:{screenWidth:function(e){if(!this.timer){this.screenWidth=e,this.timer=!0;var t=this;setTimeout(function(){console.log(t.screenWidth),t.redraw(),t.timer=!1},400)}}},created:function(){var e=this;this.$store.getters.session||this.$emit("on-checkauth",this.$route.path),setInterval(function(){e.refreshTime()},1e3)},computed:{todayNewTradesCount:function(){for(var e=0,t=this.sysStatsData.today.length;t>0;t--)if(this.sysStatsData.today[t-1]&&this.sysStatsData.today[t-1].newTradeCount){e=this.sysStatsData.today[t-1].newTradeCount;break}return e},todayNewTradesRatio:function(){var e=U()((new Date).getHours(),2,"0"),t=(new Date).getMinutes()>=30?"30":"00",a=this.sysStatsData.categories.indexOf(e+":"+t),r=this.sysStatsData.yesterday[a],n=this.sysStatsData.today[a];return r&&n?((n.newTradeCount-r.newTradeCount)/r.newTradeCount*100).toFixed(2):0},todayFinishTradeCount:function(){for(var e=0,t=this.sysStatsData.today.length;t>0;t--)if(this.sysStatsData.today[t-1]&&this.sysStatsData.today[t-1].finishTradeCount){e=this.sysStatsData.today[t-1].finishTradeCount;break}return e},todayFinishTradesRatio:function(){var e=U()((new Date).getHours(),2,"0"),t=(new Date).getMinutes()>=30?"30":"00",a=this.sysStatsData.categories.indexOf(e+":"+t),r=this.sysStatsData.yesterday[a],n=this.sysStatsData.today[a];return r&&n?((n.finishTradeCount-r.finishTradeCount)/r.finishTradeCount*100).toFixed(2):0},todayOrderedTradesCount:function(){for(var e=0,t=this.sysStatsData.today.length;t>0;t--)if(this.sysStatsData.today[t-1]&&this.sysStatsData.today[t-1].orderedTradeCount){e=this.sysStatsData.today[t-1].orderedTradeCount;break}return e},todayResignedTradesCount:function(){for(var e=0,t=this.sysStatsData.today.length;t>0;t--)if(this.sysStatsData.today[t-1]&&this.sysStatsData.today[t-1].resignedTradeCount){e=this.sysStatsData.today[t-1].resignedTradeCount;break}return e}},mounted:function(){var e=this;this.renewTodayBuyerRank().then(function(t){e.drawTodayBuyerRankChart(),(e.syncTask||e.syncSysStatsTask)&&(clearInterval(e.syncTask),clearInterval(e.syncSysStatsTask)),e.syncData(),e.syncTask=setInterval(function(){e.syncData()},1e4),e.syncSysStats().then(function(t){e.drawTodayNewTradesChart(),e.drawRecentDailyTrendChart(),e.drawFulfilmentChart(),e.drawResignmentChart()}),e.syncSysStatsTask=setInterval(function(){e.syncSysStats().then(function(t){e.drawTodayNewTradesChart(),e.drawRecentDailyTrendChart(),e.drawFulfilmentChart(),e.drawResignmentChart()})},18e5),e.syncRecentDailyStats().then(function(t){e.drawRecentDailyTrendChart()}),window.onresize=function(){return window.screenWidth=document.body.clientWidth,void(e.screenWidth=window.screenWidth)}}).catch(function(t){console.log(t),e.$Message.error(t.message)})},methods:{refreshTime:function(){this.time=Date.now(),0===(new Date).getHours()&&0===(new Date).getMinutes()&&0===(new Date).getSeconds()&&window.location.reload()},redraw:function(){this.drawTodayNewTradesChart(),this.drawRecentDailyTrendChart(),this.drawFulfilmentChart(),this.drawResignmentChart()},renewTodayBuyerRank:function(){var e=this;return new n.a(function(t,a){e.apiItem={apiHost:"",apiService:"buyers",apiAction:"listall",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem);var r=e.$store.getters.apiUrl;e.$http.post(r,e.apiData).then(function(r){"ok"===r.data.status?(r.data.data.forEach(function(t){var a=e.buyersStat.filter(function(e){return e.userid===t.userid});a.length?(a[0].todayAssigned+=t.today_assigned||0,a[0].todayFinished+=t.today_finished||0,a[0].todayOrdered+=t.today_ordered||0,a[0].todayFailed+=t.today_failed||0,a[0].todayDismissed+=t.today_dismissed||0,a[0].monthlyAssigned+=t.monthly_assigned||0,a[0].monthlyFinished+=t.monthly_finished||0,a[0].monthlyOrdered+=t.monthly_ordered||0,a[0].monthlyFailed+=t.monthly_failed||0,a[0].monthlyDismissed+=t.monthly_dismissed||0,a[0].totalAssigned+=t.total_assigned||0,a[0].totalFinished+=t.total_finished||0,a[0].totalOrdered+=t.total_ordered||0,a[0].totalFailed+=t.total_failed||0,a[0].totalDismissed+=t.total_dismissed||0):e.buyersStat.push({name:t.name,userid:t.userid,group:t.group,todayAssigned:t.today_assigned||0,todayFinished:t.today_finished||0,todayOrdered:t.today_ordered||0,todayFailed:t.today_failed||0,todayDismissed:t.today_dismissed||0,monthlyAssigned:t.monthly_assigned||0,monthlyFinished:t.monthly_finished||0,monthlyOrdered:t.monthly_ordered||0,monthlyFailed:t.monthly_failed||0,monthlyDismissed:t.monthly_dismissed||0,totalAssigned:t.total_assigned||0,totalFinished:t.total_finished||0,totalOrdered:t.total_ordered||0,totalFailed:t.total_failed||0,totalDismissed:t.total_dismissed||0})}),t(e.buyersStat)):a(new Error("获取今日下单排行失败！"))}).catch(function(e){a(e)})})},drawTodayBuyerRankChart:function(){if(this.buyersStat.length){var e=[],t=[];this.buyersStat.filter(function(e){return e.todayOrdered}).sort(function(e,t){return t.todayOrdered-e.todayOrdered}).forEach(function(a,r){e.push(a.name),t.push(a.todayOrdered)}),this.buyersToday={buyers:e,today:t}}var a=B.a.getInstanceByDom(document.getElementById("todayBuyerRankChart"));a||(a=B.a.init(document.getElementById("todayBuyerRankChart"))),a.setOption({color:"#66ffff",textStyle:{color:"#74bdff"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.buyersToday.buyers.filter(function(e,t){return t<10}),axisLabel:{interval:0,rotate:40}},yAxis:{type:"value",min:0,minInterval:1,splitLine:{lineStyle:{color:"#444",type:"dotted"}}},series:[{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:["60%","5%"],symbolMargin:"20%",data:this.buyersToday.today.filter(function(e,t){return t<10}),label:{show:!0,position:"top",color:"#66ffff"},animationEasing:"elasticOut",animationDelay:function(e,t){return 30*t.index}}]})},drawTodayNewTradesChart:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sysStats.length){t.next=2;break}return t.delegateYield(m.a.mark(function t(){var a,r,s,i,o,c,_,d;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=["00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","24:00"],r=[],s=[],i=480,(o=new Date).setUTCMinutes(i),o.setUTCHours(-48),o.setUTCHours(16),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),console.log("[init]yesterday:"+o.toISOString()),(c=new Date).setUTCMinutes(i),c.setUTCHours(-24),c.setUTCHours(16),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),console.log("[init]today"+c.toISOString()),_=m.a.mark(function t(i){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new n.a(function(t,n){try{var _=a[i].split(":")[0],d=a[i].split(":")[1];o.setHours(_),o.setMinutes(d),c.setHours(_),c.setMinutes(d);var l=e.sysStats.filter(function(e){return e.time.indexOf(o.toISOString().substr(0,16))>-1}),u=void 0;u=l.length?{newTradeCount:l[0].newTradeCount,finishTradeCount:l[0].finishTradeCount,orderedTradeCount:l[0].orderedTradeCount,resignedTradeCount:l[0].resignedTradeCount}:0===i?{newTradeCount:0,finishTradeCount:0,orderedTradeCount:0,resignedTradeCount:0}:{newTradeCount:r[r.length-1].newTradeCount,finishTradeCount:r[r.length-1].finishTradeCount,orderedTradeCount:r[r.length-1].orderedTradeCount,resignedTradeCount:r[r.length-1].resignedTradeCount},r.push(u);var f=e.sysStats.filter(function(e){return e.time.indexOf(c.toISOString().substr(0,16))>-1}),p=void 0;p=f.length?{newTradeCount:f[0].newTradeCount,finishTradeCount:f[0].finishTradeCount,orderedTradeCount:f[0].orderedTradeCount,resignedTradeCount:f[0].resignedTradeCount}:0===i?{newTradeCount:0,finishTradeCount:0,orderedTradeCount:0,resignedTradeCount:0}:{newTradeCount:null,finishTradeCount:null,orderedTradeCount:null,resignedTradeCount:null},s.push(p),t()}catch(e){n(e)}});case 2:case"end":return t.stop()}},t,e)}),d=0;case 22:if(!(d<a.length)){t.next=27;break}return t.delegateYield(_(d),"t0",24);case 24:d++,t.next=22;break;case 27:e.sysStatsData={categories:a,yesterday:r,today:s};case 28:case"end":return t.stop()}},t,e)})(),"t0",2);case 2:(a=B.a.getInstanceByDom(document.getElementById("todayNewTradesChart")))||(a=B.a.init(document.getElementById("todayNewTradesChart"))),a.setOption({color:["#66ffff","#286189"],textStyle:{color:"#74bdff"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},title:{show:!1},legend:{show:!1},grid:{top:20,right:10,bottom:30},xAxis:[{type:"category",boundaryGap:!1,data:e.sysStatsData.categories}],yAxis:[{type:"value",min:0,minInterval:1,splitLine:{lineStyle:{color:"#444",type:"dotted"}}}],series:[{name:"今天",type:"line",areaStyle:{color:"rgba(102, 255, 255, 0.1)"},smooth:!0,showSymbol:!1,data:e.sysStatsData.today.map(function(e){return e.newTradeCount})},{name:"昨天",type:"line",areaStyle:{color:"rgba(40, 97, 137, 0.1)"},smooth:!0,showSymbol:!1,data:e.sysStatsData.yesterday.map(function(e){return e.newTradeCount})}]});case 5:case"end":return t.stop()}},t,e)}))()},drawBuyerYesterdayRankChart:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.buyerYesterdayData.length&&((a=B.a.getInstanceByDom(document.getElementById("buyerYesterdayRankChart")))||(a=B.a.init(document.getElementById("buyerYesterdayRankChart"))),a.setOption({color:["#66ffff","#286189"],textStyle:{color:"#74bdff"},title:{show:!1},grid:{top:20,right:10},legend:{show:!0,left:5,top:5,orient:"vertical",textStyle:{color:"#74bdff"}},tooltip:{show:!0,trigger:"item"},radar:{shape:"circle",indicator:e.buyerYesterdayData.map(function(e){return{name:e.name,max:300}}),axisLine:{lineStyle:{color:"#444",type:"dotted"}},splitLine:{lineStyle:{color:"#444",type:"dotted"}},splitArea:{show:!1}},series:[{name:"昨日最佳",type:"radar",areaStyle:{normal:{opacity:.2}},label:{show:!0},data:[{value:e.buyerYesterdayData.map(function(e){return e.ordered}),name:"下单"},{value:e.buyerYesterdayData.map(function(e){return e.assigned}),name:"分配"}]}]}));case 1:case"end":return t.stop()}},t,e)}))()},drawRecentDailyTrendChart:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.recentDailyData.length){t.next=2;break}return t.delegateYield(m.a.mark(function t(){var r,s,i,o,c,_;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],(s=new Date).setUTCSeconds(0),s.setUTCMilliseconds(0),i=0;i<7;i++)((new Date).getUTCHours()<16||i>0)&&s.setUTCHours(-24),s.setUTCHours(16),s.setUTCMinutes(0),r.push(U()(s.getUTCMonth()+1,2,"0")+"/"+U()(s.getUTCDate(),2,"0"));r=r.reverse(),o=[],c=m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new n.a(function(t,n){try{var s=r[a].split("/")[0],i=r[a].split("/")[1],c=e.recentDailyData.filter(function(e){var t=new Date(e.time);return t.getUTCMonth()===parseInt(s)-1&&t.getUTCDate()===parseInt(i)});c.length?o.push({newTradeCount:c[0].newTradeCount,finishTradeCount:c[0].finishTradeCount,orderedTradeCount:c[0].orderedTradeCount,resignedTradeCount:c[0].resignedTradeCount}):o.push({newTradeCount:0,finishTradeCount:0,orderedTradeCount:0,resignedTradeCount:0}),t()}catch(e){n(e)}});case 2:case"end":return t.stop()}},t,e)}),_=0;case 9:if(!(_<r.length)){t.next=14;break}return t.delegateYield(c(_),"t0",11);case 11:_++,t.next=9;break;case 14:(a=B.a.getInstanceByDom(document.getElementById("recentDailyTrendChart")))||(a=B.a.init(document.getElementById("recentDailyTrendChart"))),a.setOption({color:["#66ffff","#286189","#c23531","#d48265"],textStyle:{color:"#74bdff"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},title:{show:!1},legend:{show:!0,textStyle:{color:"#74bdff"}},grid:{right:20,bottom:30},xAxis:[{type:"category",boundaryGap:!1,data:r}],yAxis:[{type:"value",min:0,minInterval:1,splitLine:{lineStyle:{color:"#444",type:"dotted"}}}],series:[{name:"下单数量",type:"line",areaStyle:{color:"rgba(102, 255, 255, 0.1)"},showSymbol:!1,data:o.map(function(e){return e.orderedTradeCount})},{name:"订单数量",type:"line",areaStyle:{color:"rgba(40, 97, 137, 0.1)"},showSymbol:!1,data:o.map(function(e){return e.newTradeCount})},{name:"发货数量",type:"line",areaStyle:{color:"rgba(40, 97, 137, 0.1)"},showSymbol:!1,data:o.map(function(e){return e.finishTradeCount})},{name:"退单数量",type:"line",areaStyle:{color:"rgba(40, 97, 137, 0.1)"},showSymbol:!1,data:o.map(function(e){return e.resignedTradeCount})}]});case 17:case"end":return t.stop()}},t,e)})(),"t0",2);case 2:case"end":return t.stop()}},t,e)}))()},drawFulfilmentChart:function(){var e=B.a.getInstanceByDom(document.getElementById("fulfilmentChart"));e||(e=B.a.init(document.getElementById("fulfilmentChart")));var t=0,a=0,r=this.sysStats.filter(function(e){return new Date(e.time).getUTCMonth()===(new Date).getUTCMonth()&&new Date(e.time).getUTCDate()===(new Date).getUTCDate()});r.length&&(t=r[r.length-1].orderedTradeCount,a=r[r.length-1].newTradeCount-r[r.length-1].finishedTradeCount),e.setOption({color:["#70ff70","#666"],legend:{show:!1,textStyle:{color:"#74bdff"}},series:[{name:"完成度",type:"pie",radius:["40%","70%"],roseType:"radius",avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"14",fontWeight:"bold"},formatter:"{d}%"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:t,name:"已完成"},{value:a,name:"未完成",label:{show:!1}}]}]})},drawResignmentChart:function(){var e=B.a.getInstanceByDom(document.getElementById("resignmentChart"));e||(e=B.a.init(document.getElementById("resignmentChart")));var t=0,a=0,r=this.sysStats.filter(function(e){return new Date(e.time).getMonth()===(new Date).getMonth()&&new Date(e.time).getDate()===(new Date).getDate()});r.length&&(t=r[r.length-1].resignedTradeCount,a=r[r.length-1].newTradeCount-r[r.length-1].resignedTradeCount),e.setOption({color:["#c23531","#666"],legend:{show:!1,textStyle:{color:"#74bdff"}},grid:{top:0,bottom:0},series:[{name:"退单比",type:"pie",radius:["40%","70%"],roseType:"radius",avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"14",fontWeight:"bold"},formatter:"{d}%"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:t,name:"退单"},{value:a,name:"正常",label:{show:!1}}]}]})},syncData:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.synchronizing=!0,t.next=3,e.syncQueue().then(function(){var t=v()(m.a.mark(function t(a){var r,s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.synchronizing=!1,r=m.a.mark(function t(r){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=a[r],console.log("new msg accquired"),console.log(s),t.next=5,new n.a(function(t,a){if(s&&"trade-new"===s.action){e.newTrades.length>=20&&(e.newTrades=e.newTrades.slice(e.newTrades.length-19,19)),e.newTrades.push(s.value),e.newTrades.sort(function(e,t){return new Date(t.pushtime)-new Date(e.pushtime)});var r=new Date;if(r.setUTCHours(-24),r.setUTCHours(16),r.setUTCMinutes(0),r.setUTCSeconds(0),r.setUTCMilliseconds(0),e.sysStats.length){var n=e.sysStats.filter(function(e){return e.time>=r.toISOString()});n.length?n[n.length-1].newTradeCount=n[n.length-1].newTradeCount?n[n.length-1].newTradeCount+1:1:e.sysStats.push({finishTradeCount:0,group:e.$store.getters.user.group,newTradeCount:1,orderedTradeCount:0,resignedTradeCount:0,time:(new Date).toISOString()})}else e.sysStats=[{finishTradeCount:0,group:e.$store.getters.user.group,newTradeCount:1,orderedTradeCount:0,resignedTradeCount:0,time:(new Date).toISOString()}];e.$nextTick(),e.drawTodayNewTradesChart(),e.drawRecentDailyTrendChart(),e.drawFulfilmentChart(),e.drawResignmentChart()}else if(s&&"ordered-new"===s.action){e.newOrdereds.length>=20&&(e.newOrdereds=e.newOrdereds.slice(e.newOrdereds.length-19,19)),e.newOrdereds.push(s.value),e.newOrdereds.sort(function(e,t){return new Date(t.pushtime)-new Date(e.pushtime)});var i=e.buyersStat.filter(function(e){return e.userid===s.value.userid});i&&(i[0].todayOrdered+=1,i[0].monthlyOrdered+=1,i[0].totalOrdered+=1);var o=new Date;if(o.setUTCHours(-24),o.setUTCHours(16),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),e.sysStats.length){var c=e.sysStats.filter(function(e){return e.time>=o.toISOString()});c.length?c[c.length-1].orderedTradeCount=c[c.length-1].orderedTradeCount?c[c.length-1].orderedTradeCount+1:1:e.sysStats.push({finishTradeCount:0,group:e.$store.getters.user.group,newTradeCount:0,orderedTradeCount:1,resignedTradeCount:0,time:(new Date).toISOString()})}else e.sysStats=[{finishTradeCount:0,group:e.$store.getters.user.group,newTradeCount:0,orderedTradeCount:1,resignedTradeCount:0,time:(new Date).toISOString()}];e.$nextTick(),e.drawTodayBuyerRankChart(),e.drawRecentDailyTrendChart(),e.drawFulfilmentChart(),e.drawResignmentChart()}else if(s&&"shipped-new"===s.action){var _=e.buyersStat.filter(function(e){return e.userid===s.value.userid});_&&(_[0].todayFinished+=1,_[0].monthlyFinished+=1,_[0].totalFinished+=1);var d=new Date;if(d.setUTCHours(-24),d.setUTCHours(16),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),e.sysStats.length){var l=e.sysStats.filter(function(e){return e.time>=d.toISOString()});l.length?l[l.length-1].orderedTradeCount=l[l.length-1].finishTradeCount?l[l.length-1].finishTradeCount+1:1:e.sysStats.push({finishTradeCount:1,group:e.$store.getters.user.group,newTradeCount:0,orderedTradeCount:0,resignedTradeCount:0,time:(new Date).toISOString()})}else e.sysStats=[{finishTradeCount:1,group:e.$store.getters.user.group,newTradeCount:0,orderedTradeCount:0,resignedTradeCount:0,time:(new Date).toISOString()}];e.$nextTick(),e.drawRecentDailyTrendChart(),e.drawFulfilmentChart()}t()});case 5:case"end":return t.stop()}},t,e)}),s=0;case 3:if(!(s<a.length)){t.next=8;break}return t.delegateYield(r(s),"t0",5);case 5:s++,t.next=3;break;case 8:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(){e.synchronizing=!1});case 3:case"end":return t.stop()}},t,e)}))()},syncQueue:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"readfromqueue",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("队列获取失败！("+s.message+")")):(e.lastUpdatedAt=Date.now(),e.$store.dispatch("setAPILastResponse",s),s.data.length?r(s.data):r());case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),r()});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},syncSysStats:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"sys",apiAction:"getDetailedStats",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("系统统计同步失败！("+s.message+")")):(e.sysStats=s.data,e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},syncYesterdayBuyerStats:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"buyerStats",apiAction:"getYesterdayRank",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("买手昨日排行同步失败！("+s.message+")")):(e.buyerYesterdayData=s.data,e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},syncRecentDailyStats:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"sys",apiAction:"getRecentDailyStats",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("七日统计同步失败！("+s.message+")")):(e.recentDailyData=s.data,e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()}},beforeDestroy:function(){clearInterval(this.syncTask),clearInterval(this.syncSysStatsTask)}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitor",class:{fullscreen:e.fullscreenMode}},[a("div",{staticClass:"header"},[a("div",{staticClass:"col left"}),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"col right"},[a("div",{staticClass:"time"},[a("Icon",{attrs:{type:"ios-clock-outline"}}),e._v("\n        "+e._s(new Date(e.time).toLocaleString())+"\n      ")],1)])]),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"col left"},[a("div",{staticClass:"module-normal today-new-trades"},[a("div",{staticClass:"title"},[a("div",{staticClass:"pull-left"},[e._v("\n            今日订单："),a("b",[e._v(e._s(e.todayNewTradesCount.toLocaleString()))])]),e._v(" "),a("div",{staticClass:"pull-right"},[a("span",{style:{color:e.todayNewTradesRatio?"#70ff70":"#ff4f4f"}},[a("b",[e._v(e._s(e.todayNewTradesRatio>=0?"+"+e.todayNewTradesRatio:e.todayNewTradesRatio)+" %")])])])]),e._v(" "),e._m(1)]),e._v(" "),a("div",{staticClass:"module-normal narrow today-shipped-trades"},[a("div",{staticClass:"title"},[e._v("\n          今日发货\n        ")]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"emphasis"},[a("div",{staticClass:"big pull-left"},[e._v("\n              "+e._s(e.todayFinishTradeCount.toLocaleString())+"\n            ")]),e._v(" "),a("div",{staticClass:"pull-right"},[e._v("\n              同比："),a("span",{style:{color:e.todayFinishTradesRatio?"#70ff70":"#ff4f4f"}},[a("b",[e._v(e._s(e.todayFinishTradesRatio>=0?"+"+e.todayFinishTradesRatio:e.todayFinishTradesRatio)+" %")])])])])])]),e._v(" "),a("div",{staticClass:"module-normal col-2"},[a("div",{staticClass:"half"},[a("div",{staticClass:"title"},[e._v("\n            已下单\n          ")]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"big"},[e._v(e._s(e.todayOrderedTradesCount))]),e._v(" "),a("div",{attrs:{id:"fulfilmentChart"}})])]),e._v(" "),a("div",{staticClass:"half"},[a("div",{staticClass:"title"},[e._v("\n            退单量\n          ")]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"big"},[e._v(e._s(e.todayResignedTradesCount))]),e._v(" "),a("div",{attrs:{id:"resignmentChart"}})])])])]),e._v(" "),a("div",{staticClass:"col middle"},[e._m(2),e._v(" "),a("div",{staticClass:"new-list-area"},[a("div",{staticClass:"new-trade"},[a("div",{staticClass:"title"},[e._v("最新订单")]),e._v(" "),a("div",{staticClass:"content"},[a("table",{staticClass:"table-noborder unit-table"},[e._m(3),e._v(" "),a("tbody",e._l(e.newTrades,function(t,r){return a("tr",{key:r,staticClass:"blink-in"},[a("td",{staticClass:"no"},[a("div",[e._v(e._s(r+1))])]),e._v(" "),a("td",{staticClass:"area"},[a("div",[e._v(e._s(t.buyer_area))])]),e._v(" "),a("td",{staticClass:"amount"},[a("div",[e._v(e._s(t.payment))])]),e._v(" "),a("td",{staticClass:"trade-title"},[a("div",[e._v(e._s(t.title))])])])}))])])]),e._v(" "),a("div",{staticClass:"new-ordered"},[a("div",{staticClass:"title"},[e._v("最新下单")]),e._v(" "),a("div",{staticClass:"content"},[a("table",{staticClass:"table-noborder unit-table"},[e._m(4),e._v(" "),a("tbody",e._l(e.newOrdereds,function(t,r){return a("tr",{key:r,staticClass:"blink-in"},[a("td",{staticClass:"no"},[a("div",[e._v(e._s(r+1))])]),e._v(" "),a("td",{staticClass:"area"},[a("div",[e._v(e._s(t.name))])]),e._v(" "),a("td",{staticClass:"amount"},[a("div",[e._v(e._s(t.buyer_fee/100))])]),e._v(" "),a("td",{staticClass:"trade-title"},[a("div",[e._v(e._s(t.title))])])])}))])])])])]),e._v(" "),a("div",{staticClass:"col right"},[e._m(5),e._v(" "),a("div",{staticClass:"module-normal half buyer-yesterday-rank"},[a("div",{staticClass:"title"},[e._v("\n          榜单排名\n        ")]),e._v(" "),a("div",{staticClass:"content"},[a("div",{attrs:{id:"buyerRankList"}},[a("marquee",{attrs:{behavior:"scroll",direction:"up",height:"100%"}},[a("ul",e._l(e.buyersToday.buyers,function(t,r){return a("li",{key:"buyer-rank-"+r},[a("div",{staticClass:"buyer-rank"},[e._v(e._s(r+1)+".")]),e._v(" "),a("div",{staticClass:"buyer-name"},[e._v(e._s(t))]),e._v(" "),a("div",{staticClass:"buyer-figure"},[e._v(e._s(e.buyersToday.today[r]))])])}))])],1)])])])]),e._v(" "),a("div",{staticClass:"footer"},[e._v("\n    Copyright © 2018 tao11.la | Last update at: "+e._s(e.lastUpdatedAt?new Date(e.lastUpdatedAt).toISOString():"")+"\n    "),e.fullscreenMode?a("Button",{attrs:{size:"small",title:"退出全屏",icon:"arrow-shrink"},on:{click:function(t){e.fullscreenMode=!1}}}):a("Button",{attrs:{size:"small",title:"全屏",icon:"arrow-expand"},on:{click:function(t){e.fullscreenMode=!0}}}),e._v(" "),a("Button",{attrs:{size:"small",icon:"refresh",title:"刷新",loading:e.synchronizing},on:{click:e.syncData}})],1),e._v(" "),a("div",{staticClass:"bg-mask"})])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col middle"},[t("div",{staticClass:"title"},[t("div",{staticClass:"main-title"},[this._v("运维统计中心")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("div",{attrs:{id:"todayNewTradesChart"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"buyer-rank-today"},[t("div",{staticClass:"title"},[this._v("本日下单排行榜")]),this._v(" "),t("div",{staticClass:"content"},[t("div",{attrs:{id:"todayBuyerRankChart"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{staticClass:"no"}),this._v(" "),t("th",{staticClass:"area"},[this._v("地区")]),this._v(" "),t("th",{staticClass:"amount"},[this._v("金额")]),this._v(" "),t("th",{staticClass:"trade-title"},[this._v("标题")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{staticClass:"no"}),this._v(" "),t("th",{staticClass:"area"},[this._v("员工")]),this._v(" "),t("th",{staticClass:"amount"},[this._v("金额")]),this._v(" "),t("th",{staticClass:"trade-title"},[this._v("标题")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"module-normal half recent-daily-trend"},[t("div",{staticClass:"title"},[this._v("\n          业务走势\n        ")]),this._v(" "),t("div",{staticClass:"content"},[t("div",{attrs:{id:"recentDailyTrendChart"}})])])}]};var K=a("VU/8")(x,$,!1,function(e){a("4G/M")},"data-v-2c46113c",null).exports,W={name:"login-main",data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null,loginInCode:""}},watch:{loginInCode:function(e){e&&this.auth(e)}},mounted:function(){this.loginInCode=Object(M.getQueryString)("code")},methods:{auth:function(e){var t=this;if(e){this.apiItem={apiHost:"",apiService:"users",apiAction:"auth",apiQuery:{}},this.apiData={code:e},this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(e){console.log(e),"ok"===e.data.status?(t.$Message.success("登陆成功！"),t.$store.dispatch("setUserStore",e.data.data),t.$store.getters.sysIsExtension?(window.location.href="/controls.html",window.chrome.cookies.set({url:"http://192.168.99.1:3000/",name:"tao11_buyer_token",value:e.data.data.token})):window.location.href="/"):t.$Message.error("登陆失败！("+e.data.message+")")}).catch(function(e){console.log(e),t.$Message.error("登陆失败，请重试。")})}else this.$Message.error("登陆失败，请重试。")}}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Layout",{staticClass:"login-main"},[t("Content",[t("Spin",{attrs:{size:"large"}})],1)],1)},staticRenderFns:[]};var H=a("VU/8")(W,F,!1,function(e){a("YFf5")},"data-v-4d4cb876",null).exports,N={name:"login-main",data:function(){return{appKey:"17"}},watch:{},mounted:function(){},methods:{LoginSubmit:function(){var e=window.chrome.extension?window.chrome.extension.getURL("/")+"controls.html":"http://localhost:8080/",t=window.encodeURIComponent(e+"#/loggedin");window.location.href="http://login.tao11.la/login.html?redirect_uri="+t+"&appkey="+this.appKey}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",{staticClass:"login-main",staticStyle:{height:"100%"}},[a("Content",{staticClass:"login-content"},[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-title"},[a("h2",[e._v("欢迎使用淘易易订单管理系统")]),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("h1",[e._v("系统检测到你还没有登录")])]),e._v(" "),a("div",{staticClass:"login-form"},[a("div",{staticClass:"padding-top-10"}),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("p",{staticClass:"font-grey"},[e._v("点击下方按钮并使用微信登录")]),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("div",{staticClass:"padding-top-10"}),e._v(" "),a("Button",{attrs:{type:"success",long:""},on:{click:e.LoginSubmit}},[e._v("点击登陆系统")])],1)])])],1)},staticRenderFns:[]};var G=a("VU/8")(N,z,!1,function(e){a("kruO")},"data-v-131cda4a",null).exports,j={name:"logout-main",data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null}},mounted:function(){this.logout()},methods:{logout:function(e){var t=this;this.apiItem={apiHost:"",apiService:"users",apiAction:"logout",apiQuery:{}},this.apiData={},this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(e){"ok"===e.data.status?(t.$Modal.success({title:"您已成功登出!",content:null}),t.$store.dispatch("setUserStore",e.data.data),t.$store.getters.sysIsExtension?window.location.href="/controls.html":window.location.href="/"):(t.$Modal.error({title:"登出失败!",content:e.data.message}),t.$router.back(-1))}).catch(function(e){console.log(e),t.$Modal.error({title:"登出失败!",content:e.message}),t.$router.back(-1)})}}},q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Layout",{staticClass:"logout-main"},[t("Content",[t("Spin",{attrs:{size:"large"}})],1)],1)},staticRenderFns:[]};var Q=a("VU/8")(j,q,!1,function(e){a("1RML")},"data-v-2e8dd33b",null).exports,V=a("qcz/"),Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"trade-list"},[a("div",{staticClass:"box-tools pull-left"},["ASSIGNED"===e.$route.params.status?[["god","boss"].indexOf(e.$store.getters.user.role)<0?a("Button",{attrs:{type:"warning",disabled:e.checkAssignBatchDisabled},on:{click:e.assignBatch}},[e._v("取单")]):e._e(),e._v(" "),a("span",{staticClass:"assignable-total"},[e._v("("+e._s(e.assignableTradesTotal)+"个订单待取)")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:e.getAssignableTrades}},[e._v("刷新")])]:e._e()],2),e._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"}},[a("Select",{staticClass:"table-search on",model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search on",attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.searchRemote}})],1),e._v(" "),a("Button-group",["bidder"===e.$store.getters.role?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.$router.push("/guarantee/new/step1")}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage},on:{"on-sort-change":e.sortTable,"on-row-click":e.toggleDetail}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalCount,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),e.detailedItem.tid_str?a("Modal",{attrs:{transfer:!1,"mask-closable":!0,width:"1200"},model:{value:e.detailed,callback:function(t){e.detailed=t},expression:"detailed"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("订单详情["+e._s(e.detailedItem.tid_str)+"]")])],1),e._v(" "),a("div",[a("Tabs",{attrs:{value:"order-info",type:"card"}},[a("TabPane",{attrs:{label:"订单详情",name:"order-info"}},[a("div",{staticStyle:{"text-align":"center"}},[a("table",{staticClass:"info-table"},[a("tr",[a("th",[e._v("店铺")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.seller_nick))]),e._v(" "),a("th",[e._v("订单时间")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.created))]),e._v(" "),a("th",[e._v("原始订单状态")]),e._v(" "),a("td",[a("Tag",{attrs:{type:"border",color:e.getTradeStatusColor(e.detailedItem.status)}},[e._v(e._s(this.getTradeStatus(e.detailedItem.status)))])],1)]),e._v(" "),a("tr",[a("th",[e._v("订单状态")]),e._v(" "),a("td",[a("Tag",{attrs:{color:e.getOrderStatusColor(e.detailedItem.order_status)}},[e._v(e._s(this.getOrderStatus(e.detailedItem.order_status)))])],1),e._v(" "),a("th",[e._v("操作员")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.last_assignbuyer?e.detailedItem.last_assignbuyer.name:""))]),e._v(" "),a("th",[e._v("配单时间")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.last_assignbuyer?new Date(e.detailedItem.last_assignbuyer.time).Format("yyyy-MM-dd hh:mm:ss"):""))])]),e._v(" "),"RESIGNED"===e.detailedItem.order_status?a("tr",[a("th",[e._v("退回原因")]),e._v(" "),a("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"5"}},[e._v("\n                  "+e._s(e.getResignReason(e.detailedItem))+"\n                ")])]):e._e(),e._v(" "),a("tr",[a("th",[e._v("商品数量")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.num))]),e._v(" "),a("th",[e._v("订单金额")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.total_fee))]),e._v(" "),a("th",[e._v("支付金额")]),e._v(" "),a("td",[e._v("\n                  "+e._s(e.detailedItem.payment)+"\n                  "),e.detailedItem.total_fee-e.detailedItem.payment||e.detailedItem.post_fee?a("span",{staticClass:"grey small"},[e._v("\n                    (邮费:"+e._s(e.detailedItem.post_fee)+",优惠:"+e._s((e.detailedItem.payment-e.detailedItem.total_fee-e.detailedItem.post_fee).toFixed(2))+")\n                  ")]):e._e()])]),e._v(" "),["ORDERED","PARTLY_ORDERED","PARTLY_FINISHED","FINISHED"].indexOf(e.detailedItem.order_status)>-1?a("tr",[a("th",[e._v("最后下单时间")]),e._v(" "),a("td",[e._v(e._s(new Date(e.detailedItem.ordered[e.detailedItem.ordered.length-1].time).Format("yyyy-MM-dd hh:mm:ss")))]),e._v(" "),a("th",[e._v("最后下单操作员")]),e._v(" "),a("td",[e._v(e._s(e.detailedItem.ordered[e.detailedItem.ordered.length-1].name)+"("+e._s(e.detailedItem.ordered[e.detailedItem.ordered.length-1].buyer_nick)+")")]),e._v(" "),a("th",[e._v("下单价格")]),e._v(" "),a("td",[e._v("\n                  "+e._s(e.getTradeOrderFeesTotal(e.detailedItem).fee/100)+"\n                  "),a("span",{staticClass:"grey small"},[e._v("\n                    (邮费:"+e._s(e.getTradeOrderFeesTotal(e.detailedItem).post/100)+",\n                    "),a("b",[a("span",{style:{color:e.detailedItem.payment-e.getTradeOrderFeesTotal(e.detailedItem).fee/100-e.getTradeOrderFeesTotal(e.detailedItem).post/100?"forestgreen":"red"}},[e._v("\n                        利润:"+e._s((e.detailedItem.payment-e.getTradeOrderFeesTotal(e.detailedItem).fee/100).toFixed(2))+"\n                      ")])]),e._v(")\n                  ")]),e._v(" "),a("a",{attrs:{href:e.detailedItem.ordered[e.detailedItem.ordered.length-1].buy_url,target:"_blank"}},[e._v("下单链接")])])]):e._e(),e._v(" "),a("tr",[a("th",[e._v("买家昵称")]),e._v(" "),a("td",{attrs:{colspan:"1"}},[e._v("\n                  "+e._s(e.detailedItem.buyer_nick_decrypted)+"\n                  "),a("a",{attrs:{target:"_blank",href:"http://amos.alicdn.com/getcid.aw?v=2&uid="+e.detailedItem.buyer_nick_decrypted+"&site=cntaobao&s=2&groupid=0&charset=utf-8"}},[a("img",{attrs:{border:"0",src:"http://amos.alicdn.com/online.aw?v=2&uid="+e.detailedItem.buyer_nick_decrypted+"&site=cntaobao&s=2&charset=utf-8",alt:"点击这里给我买家消息"}})])]),e._v(" "),a("th",[e._v("收货信息")]),e._v(" "),a("td",{attrs:{colspan:"4"}},[a("p",[a("b",[e._v("\n                    "+e._s(e.detailedItem.receiver_name)+"\n                    ("+e._s(e.detailedItem.receiver_mobile)),e.detailedItem.receiver_phone?a("span",[e._v(" "+e._s(e.detailedItem.receiver_phone))]):e._e(),e._v(")\n                    "),a("Button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.editReceiverMobile=!0,e.editReceiverMobileModel.receiverMobile=e.detailedItem.receiver_mobile,e.editReceiverMobileModel.receiverPhone=e.detailedItem.receiver_phone}}},[e._v("改电话")])],1)]),e._v(" "),a("p",{staticStyle:{"max-width":"480px",margin:"0 auto"}},[e._v("\n                    "+e._s(e.detailedItem.receiver_state)+"/\n                    "+e._s(e.detailedItem.receiver_city)+"/\n                    "+e._s(e.detailedItem.receiver_district)+"/\n                    "+e._s(e.detailedItem.receiver_town||"none")+" \n                    "+e._s(e.detailedItem.receiver_address)+"\n                    "),a("Button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.detailedItem.receiver_address_sync=!1}}},[e._v("更新")])],1),e._v(" "),a("Modal",{attrs:{title:"修改收货人电话","mask-closable":!0,transfer:!0},model:{value:e.editReceiverMobile,callback:function(t){e.editReceiverMobile=t},expression:"editReceiverMobile"}},[a("Form",{ref:"editReceiverMobileForm",attrs:{model:e.editReceiverMobileModel,"label-width":80}},[a("FormItem",{attrs:{label:"手机号码",prop:"receiverMobile",rules:[{validator:e.editReceiverMobileValidator,trigger:"blur"}]}},[a("Input",{attrs:{placeholder:"手机号码"},model:{value:e.editReceiverMobileModel.receiverMobile,callback:function(t){e.$set(e.editReceiverMobileModel,"receiverMobile",t)},expression:"editReceiverMobileModel.receiverMobile"}})],1),e._v(" "),a("FormItem",{attrs:{label:"固话号码",prop:"receiverPhone",rules:[{validator:e.editReceiverMobileValidator,trigger:"blur"}]}},[a("Input",{attrs:{placeholder:"固话号码"},model:{value:e.editReceiverMobileModel.receiverPhone,callback:function(t){e.$set(e.editReceiverMobileModel,"receiverPhone",t)},expression:"editReceiverMobileModel.receiverPhone"}})],1)],1),e._v(" "),a("div",{},[e._v("手机或固话二者必填其中之一")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large"},on:{click:function(t){e.editReceiverMobile=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEditReceiverMobile}},[e._v("提交")])],1)],1)],1)]),e._v(" "),a("tr",[a("th",[e._v("买家留言")]),e._v(" "),a("td",{staticStyle:{"font-weight":"bold",color:"blue"},attrs:{colspan:"5"}},[e._v("\n                  "+e._s(e.detailedItem.buyer_message)+"\n                  "),a("Button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.editBuyerMessage=!0,e.editBuyerMessageModel=e.detailedItem.buyer_message}}},[e._v("改留言")]),e._v(" "),a("Modal",{attrs:{title:"修改买家留言","mask-closable":!0,transfer:!0},model:{value:e.editBuyerMessage,callback:function(t){e.editBuyerMessage=t},expression:"editBuyerMessage"}},[a("Form",{ref:"editBuyerMessageForm"},[a("Input",{attrs:{type:"textarea",placeholder:"请填写买家留言。内容将自动填入订单留言"},model:{value:e.editBuyerMessageModel,callback:function(t){e.editBuyerMessageModel=t},expression:"editBuyerMessageModel"}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large"},on:{click:function(t){e.editBuyerMessage=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEditBuyerMessage}},[e._v("提交")])],1)],1)],1)]),e._v(" "),e.detailedItem.seller_memo?a("tr",[a("th",[e._v("订单备注")]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticStyle:{"font-weight":"bold"},style:{color:e.getMemoColor(e.detailedItem.seller_flag)}},[e._v("\n                    "+e._s(e.detailedItem.seller_memo)+"\n                  ")])])]):e._e()]),e._v(" "),a("div",{staticClass:"padding-top-20"}),e._v(" "),a("table",{staticClass:"brief-table"},[a("thead",[a("tr",[a("th",[e._v("订单编号")]),e._v(" "),a("th",[e._v("状态")]),e._v(" "),a("th",{attrs:{colspan:"2"}},[e._v("商品")]),e._v(" "),a("th",[e._v("单价")]),e._v(" "),a("th",[e._v("数量")]),e._v(" "),a("th",[e._v("付款")]),e._v(" "),a("th",[e._v("操作")])])]),e._v(" "),e._l(e.detailedItem.orders.order,function(t,r){return a("tbody",{key:r},[a("tr",{style:{cursor:"待下单"===e.getSubOrderStatus(t).text?"pointer":"default"},on:{click:function(a){e.orderClick(t)}}},[a("td",[e._v(e._s(t.oid_str))]),e._v(" "),a("td",[a("span",{style:{color:e.getSubOrderStatus(t).color}},[e._v(e._s(e.getSubOrderStatus(t).text))]),e._v(" "),t.refund_id?a("div",[a("span",{style:{color:e.getRefundStatusColor(t.refund_status)}},[e._v(e._s(e.getRefundStatus(t.refund_status)))])]):e._e()]),e._v(" "),a("td",[a("img",{attrs:{src:t.pic_path,width:"48",height:"48"}})]),e._v(" "),a("td",[e._v("\n                    "+e._s(t.title)),t.is_daixiao?a("Tag",{attrs:{color:"yellow"}},[e._v("代销")]):e._e(),e._v(" "),a("p",{staticClass:"small"},[e._v(e._s(t.sku_properties_name))])],1),e._v(" "),a("td",[e._v(e._s(t.price))]),e._v(" "),a("td",[e._v(e._s(t.num))]),e._v(" "),a("td",[e._v("\n                    "+e._s(t.payment)+"\n                    "),t.discount_fee?a("p",{staticClass:"grey small"},[e._v("\n                      (优惠:"+e._s(t.discount_fee)+")\n                    ")]):e._e()]),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0?a("td",[!t.is_daixiao&&("待下单"===e.getSubOrderStatus(t).text||"已退单"===e.getSubOrderStatus(t).text)&&["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1&&["NO_REFUND","CLOSED"].indexOf(t.refund_status)>-1?a("Button",{attrs:{size:"large",type:"warning"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.goJoin(t)}}},[e._v("关联订单")]):e._e(),e._v(" "),!t.is_daixiao&&"待下单"===e.getSubOrderStatus(t).text&&["NO_REFUND","CLOSED"].indexOf(t.refund_status)>-1?a("Button",{attrs:{size:"large",type:"success"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.goBuying(t)}}},[e._v("去下单")]):e._e(),e._v(" "),!t.is_daixiao&&"已退单"===e.getSubOrderStatus(t).text&&["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1&&["NO_REFUND","CLOSED"].indexOf(t.refund_status)>-1?a("Button",{attrs:{size:"large",type:"success"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.goBuying(t)}}},[e._v("去下单")]):e._e(),e._v(" "),t.is_daixiao||"已下单"!==e.getSubOrderStatus(t).text?e._e():a("Button",{attrs:{size:"large",type:"error"},on:{click:function(a){a.preventDefault(),a.stopPropagation(),e.goDismiss(t)}}},[e._v("撤销关联")])],1):a("td")]),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0&&(t.history_purchase&&t.history_purchase.length||t.outer_iid||"待下单"===e.getSubOrderStatus(t).text||"已退单"===e.getSubOrderStatus(t).text&&["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1)?a("tr",{staticClass:"history-purchase"},[a("td",[e._v("\n                    历史下单\n                  ")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[a("ul",[e._l(t.history_purchase,function(n,s){return a("li",{key:r+"."+s,staticClass:"history-purchase-item",on:{click:function(a){e.goBuying(t,n.buy_url)}}},[a("div",{staticClass:"history-purchase-price"},[e._v("¥"+e._s((n.buyer_fee/100).toFixed(2)))]),e._v(" "),a("div",{staticClass:"history-purchase-additional"},[e._v("("),n.times>1?a("span",{staticClass:"strong"},[e._v(e._s(n.times)+"次,")]):e._e(),e._v(e._s(n.num)+"件,邮费:¥"+e._s((n.post_fee/100).toFixed(2))+")")]),e._v(" "),a("Button",{attrs:{type:"primary",size:"large"}},[e._v("去下单")])],1)}),e._v(" "),t.outer_iid?a("li",{staticClass:"history-purchase-item",on:{click:function(a){e.goBuying(t,e.getOriginalUrl(t))}}},[a("Button",{attrs:{type:"warning",size:"large"}},[e._v("商家编码")])],1):e._e()],2)])]):e._e()])})],2)])]),e._v(" "),a("TabPane",{attrs:{label:"操作历史",name:"order-history"}},[a("table",{staticClass:"info-table"},[a("thead",[a("tr",[a("th",[e._v("序号")]),e._v(" "),a("th",[e._v("时间")]),e._v(" "),a("th",[e._v("操作")]),e._v(" "),a("th",[e._v("目标")]),e._v(" "),a("th",[e._v("用户")]),e._v(" "),a("th",[e._v("备注")])])]),e._v(" "),a("tbody",e._l(e.tradeOperationHistory,function(t,r){return a("tr",{key:r},[a("td",[e._v(e._s(r+1))]),e._v(" "),a("td",[e._v(e._s(new Date(t.time).Format("yyyy-MM-dd hh:mm:ss")))]),e._v(" "),a("td",[e._v(e._s(t.desc))]),e._v(" "),a("td",[e._v(e._s(t.target))]),e._v(" "),a("td",[e._v(e._s(t.op))]),e._v(" "),a("td",[e._v(e._s(t.others))])])}))])])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1&&["UNASSIGNED","RESIGNED","ASSIGNED"].indexOf(e.detailedItem.order_status)>=0?a("Button",{attrs:{size:"large",type:"warning"},on:{click:function(t){e.assignModal=!0}}},[e._v("分配给...")]):e._e(),e._v(" "),["service"].indexOf(e.$store.getters.user.role)<0&&["ORDERED","PARTLY_ORDERED","RESIGNED","PARTLY_FINISHED","FINISHED"].indexOf(e.detailedItem.order_status)<0?a("Button",{attrs:{size:"large",type:"error"},on:{click:e.goResign}},[e._v("退单")]):e._e(),e._v(" "),a("Button",{attrs:{size:"large",type:"default"},on:{click:e.setMemoModal}},[e._v("订单备注")]),e._v(" "),a("Button",{attrs:{size:"large"},on:{click:e.closeDetailed}},[e._v("关闭")])],1)]):e._e(),e._v(" "),e.buyingItem?a("Modal",{attrs:{title:"正在选品...","mask-closable":!0,transfer:!1},model:{value:e.buyingModal,callback:function(t){e.buyingModal=t},expression:"buyingModal"}},[a("div",{staticClass:"buying-modal-content"},[a("div",{staticClass:"buying-product-container"},[a("div",{staticClass:"thumb"},[a("img",{attrs:{src:e.buyingItem.pic_path,width:"64",height:"64"}})]),e._v(" "),a("div",{staticClass:"brief"},[a("div",{staticClass:"title"},[e._v(e._s(e.buyingItem.title))]),e._v(" "),a("div",{staticClass:"properties small"},[e._v(e._s(e.buyingItem.sku_properties_name))])]),e._v(" "),a("div",{staticClass:"trigger",on:{click:function(t){e.goToItemLink(e.buyingItem)}}},[a("div",{staticClass:"price"},[e._v("¥"+e._s(e.buyingItem.payment)),a("p",[e._v("点击查看")])])])])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large"},on:{click:function(t){e.unbindOrder(e.buyingItem)}}},[e._v("遇到问题了")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:function(t){e.reviewOrder(e.buyingItem)}}},[e._v("是的，我已下单")])],1)]):e._e(),e._v(" "),a("Modal",{attrs:{title:"撤销关联","mask-closable":!1,transfer:!1},model:{value:e.dismissModal,callback:function(t){e.dismissModal=t},expression:"dismissModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"dismissForm",attrs:{model:e.dismissModel,rules:e.dismissValidate,"label-width":80}},[a("FormItem",{attrs:{label:"选择原因",prop:"reason"}},[a("Select",{attrs:{placeholder:"选择原因"},model:{value:e.dismissModel.reason,callback:function(t){e.$set(e.dismissModel,"reason",t)},expression:"dismissModel.reason"}},[a("Option",{attrs:{value:"拍错单了"}},[e._v("拍错单了")]),e._v(" "),a("Option",{attrs:{value:"客户取消"}},[e._v("客户取消")]),e._v(" "),a("Option",{attrs:{value:"系统测试"}},[e._v("系统测试")]),e._v(" "),a("Option",{attrs:{value:"other"}},[e._v("其他或需要补充说明")])],1)],1),e._v(" "),"other"===e.dismissModel.reason?a("FormItem",{attrs:{label:"其他原因",prop:"other"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"其他原因或需要说明的内容写在这里..."},model:{value:e.dismissModel.other,callback:function(t){e.$set(e.dismissModel,"other",t)},expression:"dismissModel.other"}})],1):e._e()],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Poptip",{attrs:{confirm:"",title:"确认撤销关联么？"},on:{"on-ok":e.doDismiss}},[a("Button",{attrs:{size:"large",type:"error"}},[e._v("\n          提交\n        ")])],1),e._v(" "),a("Button",{attrs:{type:"default",size:"large"},on:{click:function(t){e.dismissModal=!1}}},[e._v("取消")])],1)]),e._v(" "),a("Modal",{attrs:{title:"退单","mask-closable":!1,transfer:!1},model:{value:e.resignModal,callback:function(t){e.resignModal=t},expression:"resignModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"resignForm",attrs:{model:e.resignModel,rules:e.resignValidate,"label-width":80}},[a("FormItem",{attrs:{label:"选择原因",prop:"reason"}},[a("Select",{attrs:{placeholder:"选择原因"},model:{value:e.resignModel.reason,callback:function(t){e.$set(e.resignModel,"reason",t)},expression:"resignModel.reason"}},[a("Option",{attrs:{value:"拍错单了"}},[e._v("拍错单了")]),e._v(" "),a("Option",{attrs:{value:"代销订单"}},[e._v("代销订单")]),e._v(" "),a("Option",{attrs:{value:"客户取消"}},[e._v("客户取消")]),e._v(" "),a("Option",{attrs:{value:"系统测试"}},[e._v("系统测试")]),e._v(" "),a("Option",{attrs:{value:"other"}},[e._v("疑难杂症")])],1)],1),e._v(" "),"other"===e.resignModel.reason?a("FormItem",{attrs:{label:"其他原因",prop:"other"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"其他原因或需要说明的内容写在这里..."},model:{value:e.resignModel.other,callback:function(t){e.$set(e.resignModel,"other",t)},expression:"resignModel.other"}})],1):e._e()],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Poptip",{attrs:{confirm:"",title:"确认退单么？"},on:{"on-ok":e.doResign}},[a("Button",{attrs:{size:"large",type:"error"}},[e._v("\n          提交\n        ")])],1),e._v(" "),a("Button",{attrs:{type:"default",size:"large"},on:{click:function(t){e.resignModal=!1}}},[e._v("取消")])],1)]),e._v(" "),a("Modal",{attrs:{title:"分配给买手...","mask-closable":!1,transfer:!1},model:{value:e.assignModal,callback:function(t){e.assignModal=t},expression:"assignModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"assignForm",attrs:{model:e.assignModel,rules:e.assignValidate,"label-width":80}},[a("FormItem",{attrs:{label:"选择买手",prop:"buyerid"}},[a("Select",{attrs:{placeholder:"选择买手",filterable:""},model:{value:e.assignModel.buyerid,callback:function(t){e.$set(e.assignModel,"buyerid",t)},expression:"assignModel.buyerid"}},[a("Option",{attrs:{value:""}},[e._v("请选择买手")]),e._v(" "),e._l(e.buyerSelectList,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name)+"("+e._s(e.getShopName(t.shopid))+")")])})],2)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Poptip",{attrs:{confirm:"",title:"确认分配订单么？"},on:{"on-ok":e.doAssignToBuyer}},[a("Button",{attrs:{size:"large",type:"error"}},[e._v("\n          提交\n        ")])],1),e._v(" "),a("Button",{attrs:{type:"default",size:"large"},on:{click:function(t){e.assignModal=!1}}},[e._v("取消")])],1)]),e._v(" "),a("Modal",{attrs:{title:"关联订单","mask-closable":!1,transfer:!1},model:{value:e.joinModal,callback:function(t){e.joinModal=t},expression:"joinModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"joinForm",attrs:{model:e.joinModel,rules:e.joinValidate,"label-width":120}},[a("FormItem",{attrs:{label:"订单序号",prop:"tradeid"}},[a("Input",{attrs:{disabled:!0},model:{value:e.joinModel.tradeid,callback:function(t){e.$set(e.joinModel,"tradeid",t)},expression:"joinModel.tradeid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"主订单编号",prop:"tid"}},[a("Input",{attrs:{disabled:!0},model:{value:e.joinModel.tid,callback:function(t){e.$set(e.joinModel,"tid",t)},expression:"joinModel.tid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"子订单编号",prop:"oid"}},[a("Input",{attrs:{disabled:!0},model:{value:e.joinModel.oid,callback:function(t){e.$set(e.joinModel,"oid",t)},expression:"joinModel.oid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"买手旺旺",prop:"buyer"}},[a("Input",{model:{value:e.joinModel.buyer,callback:function(t){e.$set(e.joinModel,"buyer",t)},expression:"joinModel.buyer"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单主订单编号",prop:"buyerTid"}},[a("Input",{model:{value:e.joinModel.buyerTid,callback:function(t){e.$set(e.joinModel,"buyerTid",t)},expression:"joinModel.buyerTid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单子订单编号",prop:"buyerOid"}},[a("Input",{model:{value:e.joinModel.buyerOid,callback:function(t){e.$set(e.joinModel,"buyerOid",t)},expression:"joinModel.buyerOid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单金额",prop:"buyerFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.joinModel.buyerFee,callback:function(t){e.$set(e.joinModel,"buyerFee",t)},expression:"joinModel.buyerFee"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单商品链接",prop:"buyUrl"}},[a("Input",{model:{value:e.joinModel.buyUrl,callback:function(t){e.$set(e.joinModel,"buyUrl",t)},expression:"joinModel.buyUrl"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单邮费",prop:"buyerPostFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.joinModel.buyerPostFee,callback:function(t){e.$set(e.joinModel,"buyerPostFee",t)},expression:"joinModel.buyerPostFee"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Poptip",{attrs:{confirm:"",title:"确认关联订单么？"},on:{"on-ok":e.doJoin}},[a("Button",{attrs:{size:"large",type:"error"}},[e._v("\n          提交\n        ")])],1),e._v(" "),a("Button",{attrs:{type:"default",size:"large"},on:{click:function(t){e.joinModal=!1}}},[e._v("取消")])],1)])],1)},staticRenderFns:[]};var X=function(e){a("UoiY")},Z=a("VU/8")(V.a,Y,!1,X,"data-v-d0174432",null).exports,J={name:"import-trades",data:function(){return{importModel:{jsonFile:"",jsonContent:""},succeed:!0}},watch:{},mounted:function(){},methods:{processJSONUploadFile:function(e){return this.readFile(e),!1},readFile:function(e){var t=this,a=new FileReader;a.readAsText(e),a.onload=function(){var e=a.result;t.importModel.jsonContent=e}},submitContent:function(){var e=this;if(this.succeed=!1,!this.importModel.jsonContent)return this.$Modal.error({title:"提交失败!",content:"JSON内容不能为空"}),this.succeed=!0,!1;var t=null;try{t=JSON.parse(this.importModel.jsonContent),console.log(t)}catch(e){return this.$Modal.error({title:"提交失败!",content:"请提交JSON格式内容"}),this.succeed=!0,!1}try{this.apiItem={apiHost:"",apiService:"trades",apiAction:"push",apiQuery:{}},this.apiData=JSON.parse(this.importModel.jsonContent),this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(t){"ok"===t.data.status?(e.$Modal.success({title:"提交成功!",content:t.data.message}),e.succeed=!0):(e.$Modal.error({title:"提交失败!",content:t.data.message}),e.succeed=!0)}).catch(function(t){console.log(t),e.$Modal.error({title:"设置失败!",content:t.message}),e.succeed=!0})}catch(e){console.log(e),this.$Modal.error({title:"设置失败!",content:e.message}),this.succeed=!0}}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"import-trades"},[a("Form",{ref:"importForm",attrs:{model:e.importModel,"label-width":160}},[a("FormItem",{attrs:{label:"导入",prop:"jsonFile"}},[a("Upload",{attrs:{"before-upload":e.processJSONUploadFile,action:"#"}},[a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline",disabled:!e.succeed}},[e._v("导入JSON文件")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"粘贴JSON内容"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:30},placeholder:"将订单原始JSON数据粘贴在此",disabled:!e.succeed},model:{value:e.importModel.jsonContent,callback:function(t){e.$set(e.importModel,"jsonContent",t)},expression:"importModel.jsonContent"}}),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(t){e.importModel.jsonContent=""}}},[e._v("清空")])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",disabled:!e.succeed},on:{click:e.submitContent}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var te=a("VU/8")(J,ee,!1,function(e){a("Cuxj")},"data-v-41461c4e",null).exports,ae={name:"trades-deliver",data:function(){return{taskTraceId:"",buyers:"",logs:[],detailedLogs:[],history:[],tracing:!1,detailedLogsTableCols:[{title:"订单编号",key:"tid",width:160,sortable:!0,searchable:!0},{title:"下单编号",key:"tb_order_number",width:160,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")}},{title:"店铺",key:"shop_name",width:160,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")}},{title:"买家号",key:"buyer_nick",width:160,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")}},{title:"状态",key:"status",width:90,ellipsis:!0,filters:[{label:"成功",value:"success"},{label:"失败",value:"failed"}],filterMultiple:!1,filterMethod:function(e,t){return"success"===e?"success"===t.status:"failed"===e?"failed"===t.status:void 0},render:function(e,t){return e("Tag",{props:{color:"success"===t.row.status?"green":"red"}},"success"===t.row.status?"成功":"失败")}},{title:"",key:"message",render:function(e,t){if("success"===t.row.status){if(t.row.message instanceof Array){var a=[];return t.row.message.forEach(function(t){var r="";t.logisNumber?r="快递公司："+t.companyCode+" 快递单："+t.logisNumber:t.actualFee&&(r="改价："+t.actualFee/100);var n=e("div",{attrs:{class:"detailedlog-message",title:r}},r);a.push(n)}),e("div",{},a)}return"object"===b()(t.row.message)?e("span",{attrs:{title:l()(t.row.message)}},l()(t.row.message)):e("span",{},t.row.message)}return e("span",{attrs:{title:t.row.message},style:{fontSize:"12px",color:"#999"}},t.row.message)}}]}},watch:{},mounted:function(){this.readHistory()},methods:{readHistory:function(){var e=window.localStorage.getItem("bulk_deliver_tasks");e&&(this.history=JSON.parse(e).sort(function(e,t){return t.timestamp-e.timestamp}).filter(function(e){return Date.now()-e.timestamp<=6048e5}))},viewHistory:function(e){this.tracing=!0,this.buyers=e.buyers.join(","),this.taskTraceId=e.taskTraceId,this.logs=[],this.detailedLogs=[],this.traceTask(),this.traceLogsTask()},newTask:function(){this.tracing=!1,this.buyers=""},switchTab:function(e){"detailedlogs"===e&&this.traceLogsTask()},submit:function(){var e,t=this;if(this.buyers){this.logs=[],this.detailedLogs=[],this.tracing=!0;try{var a=this.buyers.replace(/ /g,"").split(/,|，|\|/);this.apiItem={apiHost:"",apiService:"trades",apiAction:"startbulkdeliver",apiQuery:{}},this.apiData={buyers:this.buyers.replace(/ /g,"").split(/,|，|\|/)},this.$store.dispatch("setAPIStore",this.apiItem);var r=this.$store.getters.apiUrl;this.$http.post(r,this.apiData).then((e=v()(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ok"!==r.data.status){e.next=10;break}return t.taskTraceId=r.data.data.taskTraceId,t.$Modal.success({title:"提交成功!",content:r.data.data.taskTraceId}),t.history.push({taskTraceId:r.data.data.taskTraceId,status:"start",buyers:a,logs:[],timestamp:Date.now()}),window.localStorage.setItem("bulk_deliver_tasks",l()(t.history)),t.readHistory(),e.next=8,t.traceTask();case 8:e.next=12;break;case 10:t.$Modal.error({title:"提交失败!",content:r.data.message}),t.tracing=!1;case 12:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(e){console.log(e),t.$Modal.error({title:"设置失败!",content:e.message}),t.tracing=!1})}catch(e){console.log(e),this.$Modal.error({title:"设置失败!",content:e.message}),this.tracing=!1}}else this.$Message.error("买家号不能为空")},traceTask:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"bulkdelivertaskcheck",apiQuery:{}},e.apiData={taskid:e.taskTraceId},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("fail"!==(s=a.data).status){t.next=7;break}e.tracing=!1,e.$Message.error("追踪请求失败！("+s.message+")"),n(new Error("追踪请求失败！("+s.message+")")),t.next=17;break;case 7:if(e.logs=s.data.logs,"finished"!==s.data.status){t.next=14;break}e.$Message.success("发货跟踪完毕"),e.tracing=!1,r(),t.next=17;break;case 14:return t.next=16,Object(M.sleepES6)(3e3);case 16:return t.abrupt("return",e.traceTask());case 17:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},traceLogsTask:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"bulkdeliverlogcheck",apiQuery:{}},e.apiData={taskid:e.taskTraceId},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("追踪请求失败！("+s.message+")")):(e.detailedLogs=s.data,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"trades-deliver"},[a("Row",{staticClass:"fullheight-row",attrs:{gutter:16}},[a("Col",{staticClass:"left-col",attrs:{span:"6"}},[a("h3",[e._v("\n        查询历史\n        "),a("Tooltip",{staticClass:"pull-right"},[a("Button",{attrs:{type:"ghost",shape:"circle",icon:"plus-round",size:"small"},on:{click:e.newTask}}),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[e._v("新查询")])],1)],1),e._v(" "),a("ul",{staticClass:"history"},e._l(e.history,function(t,r){return a("li",{key:r,on:{click:function(a){e.viewHistory(t)}}},[e._v("["+e._s(new Date(t.timestamp).toLocaleString())+"]"+e._s(t.buyers.join(",")))])}))]),e._v(" "),a("Col",{attrs:{span:"18"}},[a("Form",{ref:"importForm",attrs:{"label-width":160}},[a("FormItem",{attrs:{label:"买手淘宝账号"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入买手淘宝账号，以“,”“，”或“|”隔开",disabled:e.tracing},model:{value:e.buyers,callback:function(t){e.buyers=t},expression:"buyers"}}),e._v(" "),a("Button",{attrs:{type:"primary",disabled:e.tracing},on:{click:e.submit}},[e._v("开始")])],1)],1),e._v(" "),a("div",{staticClass:"trace-results"},[a("Tabs",{attrs:{type:"card"},on:{"on-click":e.switchTab}},[a("TabPane",{attrs:{label:"任务日志",name:"tasklogs"}},[a("ul",e._l(e.logs,function(t,r){return a("li",{key:r},[e._v(e._s(t))])}))]),e._v(" "),a("TabPane",{attrs:{label:"发货日志",name:"detailedlogs"}},[a("Table",{attrs:{stripe:"",columns:e.detailedLogsTableCols,data:e.detailedLogs}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ne=a("VU/8")(ae,re,!1,function(e){a("QZj9")},"data-v-5297b67e",null).exports,se={name:"stat-today",data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null,colorSelections:["#f2b98e","#56bced","#f4afcb","#5fb985","#e27719","#0193de","#dd1e6c","#2ac56a"],filterShop:null,buyers:[],today:{today_assigned:0,today_finished:0,today_ordered:0,today_failed:0,today_dismissed:0,total_assigned:0,total_finished:0,total_ordered:0,total_failed:0,total_dismissed:0,monthly_assigned:0,monthly_finished:0,monthly_ordered:0,monthly_failed:0,monthly_dismissed:0},finishedTrades:null,todayProfit:0,todayShopTrades:[],recentShopTrades:{day1:{total:0,shops:[]},day2:{total:0,shops:[]},day3:{total:0,shops:[]},day4:{total:0,shops:[]},day5:{total:0,shops:[]},day6:{total:0,shops:[]}},godDashboardMngModal:!1,godDashboardSettings:[],godDashboardsDic:[{key:0,name:"today-trades-rank",label:"今日订单排序"},{key:1,name:"yesterday-trades-rank",label:"昨日订单排序"},{key:2,name:"daybeforeyesterday-trades-rank",label:"前天订单排序"},{key:3,name:"today-profit-rank",label:"今日利润排序"},{key:4,name:"yesterday-profit-rank",label:"昨日利润排序"},{key:5,name:"daybeforeyesterday-profit-rank",label:"前天利润排序"}],todayShopRank:[],yesterdayShopRank:[],daybeforeyesterdayShopRank:[],todayShopRank_Profit:[],yesterdayShopRank_Profit:[],daybeforeyesterdayShopRank_Profit:[],tagShopRanks:[],todayShopRank_Pets:[],yesterdayShopRank_Pets:[],daybeforeyesterdayShopRank_Pets:[],rankShopRecentTrades:{shop:"",day1:0,day2:0,day3:0,day4:0,day5:0,day6:0},showTagModal:!1,shopInOp:"",rankShopTags:[],shopTagDic:["男装","女装","男鞋","女鞋","内衣","童装","童鞋","收纳整理","宠物","餐饮具","家居饰品","流行饰品","家具","园艺","成人","车品","3C"],shopTagInOp:""}},mounted:function(){this.colorSelections.sort(ie),this.entrance()},computed:{todayShopTradeTotal:function(){var e=0;return this.todayShopTrades.forEach(function(t){e+=t.tradeCount}),e}},methods:{entrance:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.getters.user.role){t.next=5;break}e.$emit("on-checkauth",e.$route.path),setTimeout(function(){e.entrance()},2e3),t.next=15;break;case 5:if("service"!==e.$store.getters.user.role){t.next=8;break}t.next=15;break;case 8:if("employee"!==e.$store.getters.user.role){t.next=12;break}e.getTodayBuyerStatistics(e.$store.getters.user.userid),t.next=15;break;case 12:return e.getTodayStatistics(),t.next=15,e.getTodayShopTrades().then(v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("god"!==e.$store.getters.user.role){t.next=5;break}return e.getShopSpecTagsDic().then(function(t){e.shopTagDic=t.map(function(e){return e.tag}),t.forEach(function(t,a){e.godDashboardsDic.push({key:3*a+1+5,name:"today-trades-rank-tag",label:"【"+t.tag+"】今日订单排序",tag:t.tag}),e.godDashboardsDic.push({key:3*a+2+5,name:"yesterday-trades-rank-tag",label:"【"+t.tag+"】昨日订单排序",tag:t.tag}),e.godDashboardsDic.push({key:3*a+3+5,name:"yesterday-trades-rank-tag",label:"【"+t.tag+"】前天订单排序",tag:t.tag})})}),t.next=4,e.getRecentShopTrades().then(function(){});case 4:e.initGodDashboard();case 5:case"end":return t.stop()}},t,e)})));case 15:case"end":return t.stop()}},t,e)}))()},initGodDashboard:function(){var e=this;window.chrome.storage.local.get(["widgetList"],function(t){var a=[];e.godDashboardSettings=[],e.todayShopRank=[],e.yesterdayShopRank=[],e.daybeforeyesterdayShopRank=[],e.todayShopRank_Profit=[],e.yesterdayShopRank_Profit=[],e.daybeforeyesterdayShopRank_Profit=[],e.tagShopRanks=[],t.widgetList&&t.widgetList instanceof Array&&(a=t.widgetList),a.forEach(function(t){var a=t.tag;switch(t.name){case"today-trades-rank":e.getDateShopTradesRank().then(function(t){e.todayShopRank=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"yesterday-trades-rank":e.getDateShopTradesRank(new Date((new Date).setUTCHours(-24)).toISOString()).then(function(t){e.yesterdayShopRank=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"daybeforeyesterday-trades-rank":e.getDateShopTradesRank(new Date((new Date).setUTCHours(-48)).toISOString()).then(function(t){e.daybeforeyesterdayShopRank=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"today-profit-rank":e.getDateShopProfitRank(new Date((new Date).setUTCHours(-24)).toISOString()).then(function(t){e.todayShopRank_Profit=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"yesterday-profit-rank":e.getDateShopProfitRank(new Date((new Date).setUTCHours(-48)).toISOString()).then(function(t){e.yesterdayShopRank_Profit=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"daybeforeyesterday-profit-rank":e.getDateShopProfitRank(new Date((new Date).setUTCHours(-72)).toISOString()).then(function(t){e.daybeforeyesterdayShopRank_Profit=t.sort(function(e,t){return t.tradeCount-e.tradeCount})});break;case"today-trades-rank-tag":a&&e.getDateShopTradesRank((new Date).toISOString(),[a]).then(function(t){e.tagShopRanks.push({tag:a,date:"today",dateText:"今日",data:t.sort(function(e,t){return t.tradeCount-e.tradeCount})})});break;case"yesterday-trades-rank-tag":a&&e.getDateShopTradesRank(new Date((new Date).setUTCHours(-24)).toISOString(),[a]).then(function(t){e.tagShopRanks.push({tag:a,date:"yesterday",dateText:"昨日",data:t.sort(function(e,t){return t.tradeCount-e.tradeCount})})});break;case"daybeforeyesterday-trades-rank-tag":a&&e.getDateShopTradesRank(new Date((new Date).setUTCHours(-48)).toISOString(),[a]).then(function(t){e.tagShopRanks.push({tag:a,date:"daybeforeyesterday",dateText:"前天",data:t.sort(function(e,t){return t.tradeCount-e.tradeCount})})})}e.godDashboardSettings.push(e.godDashboardsDic.indexOf(e.godDashboardsDic.filter(function(e,a){return e.name===t.name})[0]))}),console.log(e.godDashboardSettings)})},changeGodDashboardSettingTransfer:function(e,t,a){this.godDashboardSettings=e},setGodDashboardSettings:function(){var e=this,t=[];this.godDashboardSettings.forEach(function(a){t.push(e.godDashboardsDic.filter(function(e){return e.key===a})[0])}),window.chrome.storage.local.set({widgetList:t},function(t){e.initGodDashboard()})},getBuyers:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"buyers",apiAction:"listall",apiQuery:{}},e.apiData={},e.filterShop&&(e.apiData.filterShop=e.filterShop),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("买手列表获取失败！("+s.message+")"),n(new Error("买手列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.buyers=s.data,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 7:case"end":return t.stop()}},t,e)}))()},getTodayStatistics:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.today={today_assigned:0,today_finished:0,today_ordered:0,today_failed:0,today_dismissed:0,total_assigned:0,total_finished:0,total_ordered:0,total_failed:0,total_dismissed:0,monthly_assigned:0,monthly_finished:0,monthly_ordered:0,monthly_failed:0,monthly_dismissed:0},t.next=3,e.getBuyers().then(function(t){t.forEach(function(t){e.today.today_assigned+=t.today_assigned?t.today_assigned:0,e.today.today_finished+=t.today_finished?t.today_finished:0,e.today.today_ordered+=t.today_ordered?t.today_ordered:0,e.today.today_failed+=t.today_failed?t.today_failed:0,e.today.today_dismissed+=t.today_dismissed?t.today_dismissed:0,e.today.total_assigned+=t.total_assigned?t.total_assigned:0,e.today.total_finished+=t.total_finished?t.total_finished:0,e.today.total_ordered+=t.total_ordered?t.total_ordered:0,e.today.total_failed+=t.total_failed?t.total_failed:0,e.today.total_dismissed+=t.total_dismissed?t.total_dismissed:0,e.today.monthly_assigned+=t.monthly_assigned?t.monthly_assigned:0,e.today.monthly_finished+=t.monthly_finished?t.monthly_finished:0,e.today.monthly_ordered+=t.monthly_ordered?t.monthly_ordered:0,e.today.monthly_failed+=t.monthly_failed?t.monthly_failed:0,e.today.monthly_dismissed+=t.monthly_dismissed?t.monthly_dismissed:0})});case 3:case"end":return t.stop()}},t,e)}))()},getTodayBuyerStatistics:function(e){var t=this;this.today={today_assigned:0,today_finished:0,today_ordered:0,today_failed:0,today_dismissed:0,total_assigned:0,total_finished:0,total_ordered:0,total_failed:0,total_dismissed:0,monthly_assigned:0,monthly_finished:0,monthly_ordered:0,monthly_failed:0,monthly_dismissed:0},this.apiItem={apiHost:"",apiService:"buyers",apiAction:"getbyuserid",apiQuery:{}},this.apiData={userid:e},this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(e){"ok"===e.data.status?e.data.data.forEach(function(e){t.today.today_assigned+=e.today_assigned?e.today_assigned:0,t.today.today_finished+=e.today_finished?e.today_finished:0,t.today.today_ordered+=e.today_ordered?e.today_ordered:0,t.today.today_failed+=e.today_failed?e.today_failed:0,t.today.today_dismissed+=e.today_dismissed?e.today_dismissed:0,t.today.total_assigned+=e.total_assigned?e.total_assigned:0,t.today.total_finished+=e.total_finished?e.total_finished:0,t.today.total_ordered+=e.total_ordered?e.total_ordered:0,t.today.total_failed+=e.total_failed?e.total_failed:0,t.today.total_dismissed+=e.total_dismissed?e.total_dismissed:0,t.today.monthly_assigned+=e.monthly_assigned?e.monthly_assigned:0,t.today.monthly_finished+=e.monthly_finished?e.monthly_finished:0,t.today.monthly_ordered+=e.monthly_ordered?e.monthly_ordered:0,t.today.monthly_failed+=e.monthly_failed?e.monthly_failed:0,t.today.monthly_dismissed+=e.monthly_dismissed?e.monthly_dismissed:0}):t.$Message.error("获取统计信息失败！("+e.data.message+")")}).catch(function(e){console.log(e),t.$Message.error("获取统计信息失败,请重试。")})},getFinishedTrades:function(e){var t=this;this.loading=!0,this.apiItem={apiHost:"",apiService:"trades",apiAction:"listfinished",apiQuery:{}},this.apiData={timespan:e},this.$store.dispatch("setAPIStore",this.apiItem);var a,r=this.$store.getters.apiUrl;return new n.a((a=v()(m.a.mark(function e(a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=v()(m.a.mark(function e(r){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?(t.$Message.error("订单列表获取失败！("+s.message+")"),n(new Error("订单列表获取失败！("+s.message+")"))):(t.$store.dispatch("setAPILastResponse",s),t.finishedTrades=s.data,a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)})),function(e,t){return a.apply(this,arguments)}))},calcTodayProfit:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getFinishedTrades(e).then(function(a){t.todayProfit=(a.tradePaymentTotal-a.orderPaymentTotal).toFixed(2),console.log("["+e+"] income: "+a.tradePaymentTotal.toFixed(2)+" | expenditure: "+a.orderPaymentTotal.toFixed(2)+" | gross: "+(a.tradePaymentTotal-a.orderPaymentTotal).toFixed(2))});case 2:case"end":return a.stop()}},a,t)}))()},getTodayShopTrades:function(){var e=this;return new n.a(function(t,a){e.loading=!0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"gettodayshoptrades",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem);var r,n=e.$store.getters.apiUrl;e.$http.post(n,e.apiData).then((r=v()(m.a.mark(function r(n){var s;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:"fail"===(s=n.data).status?(e.$Message.error("今日店铺订单获取失败！("+s.message+")"),a(new Error(s.message))):(e.todayShopTrades=s.data.sort(function(e,t){return t.tradeCount-e.tradeCount}),e.$store.dispatch("setAPILastResponse",s),t(e.todayShopTradeTotal));case 2:case"end":return r.stop()}},r,e)})),function(e){return r.apply(this,arguments)})).catch(function(t){e.$store.dispatch("setAPILastResponse",t),a(t)})})},getRankPoptipContent:function(e){var t=this;return v()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.rankShopTags=[],a.abrupt("return",new n.a(function(){var a=v()(m.a.mark(function a(r,n){var s,i,o;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.rankShopRecentTrades={shop:"",day1:0,day2:0,day3:0,day4:0,day5:0,day6:0},t.getShopTags(e).then(function(e){t.rankShopTags=e}),s=new Date,i=m.a.mark(function a(n){var i;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new Date(s).setUTCHours(-24*n),a.next=3,t.getDateShopTrades(i,[e]).then(function(e){if(e.length){var a=e[0];t.rankShopRecentTrades["day"+n]=a.tradeCount}else t.rankShopRecentTrades["day"+n]=0});case 3:6===n&&(t.rankShopRecentTrades.shop=e,t.$nextTick(function(){r()}));case 4:case"end":return a.stop()}},a,t)}),o=1;case 5:if(!(o<=6)){a.next=10;break}return a.delegateYield(i(o),"t0",7);case 7:o++,a.next=5;break;case 10:case"end":return a.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()));case 2:case"end":return a.stop()}},a,t)}))()},clearRankPoptipContent:function(){this.rankShopRecentTrades={shop:"",day1:0,day2:0,day3:0,day4:0,day5:0,day6:0}},getRecentShopTrades:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(a,r){var n,s,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.recentShopTrades={day1:{total:0,shops:[]},day2:{total:0,shops:[]},day3:{total:0,shops:[]},day4:{total:0,shops:[]},day5:{total:0,shops:[]},day6:{total:0,shops:[]}},n=new Date,s=m.a.mark(function t(r){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=new Date(n).setUTCHours(-24*r),t.next=3,e.getDateShopTrades(s).then(function(t){t.forEach(function(t){e.recentShopTrades["day"+r].total+=t.tradeCount,e.recentShopTrades["day"+r].shops.push(t)})});case 3:6===r&&a();case 4:case"end":return t.stop()}},t,e)}),i=1;case 4:if(!(i<=6)){t.next=9;break}return t.delegateYield(s(i),"t0",6);case 6:i++,t.next=4;break;case 9:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,e)}))()},getDateShopTrades:function(e,t){var a=this;return new n.a(function(r,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getdateshoptrades",apiQuery:{}},a.apiData={date:e||(new Date).toUTCString()},t&&t instanceof Array&&t.length&&(a.apiData.shops=t),a.$store.dispatch("setAPIStore",a.apiItem);var s,i=a.$store.getters.apiUrl;a.$http.post(i,a.apiData).then((s=v()(m.a.mark(function e(t){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=t.data).status?n(new Error(s.message)):(r(s.data),a.$store.dispatch("setAPILastResponse",s));case 2:case"end":return e.stop()}},e,a)})),function(e){return s.apply(this,arguments)})).catch(function(e){n(e)})})},getDateShopTradesRank:function(e,t){var a=this;return new n.a(function(r,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getdateshoptradesrank",apiQuery:{}},a.apiData={date:e||(new Date).toUTCString()},t&&t instanceof Array&&t.length&&(a.apiData.tags=t),a.$store.dispatch("setAPIStore",a.apiItem);var s,i=a.$store.getters.apiUrl;a.$http.post(i,a.apiData).then((s=v()(m.a.mark(function e(t){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=t.data).status?n(new Error(s.message)):(r(s.data),a.$store.dispatch("setAPILastResponse",s));case 2:case"end":return e.stop()}},e,a)})),function(e){return s.apply(this,arguments)})).catch(function(e){n(e)})})},getDateShopProfitRank:function(e,t){var a=this;return new n.a(function(r,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getdateshopprofitrank",apiQuery:{}},a.apiData={date:e||(new Date).toUTCString()},t&&t instanceof Array&&t.length&&(a.apiData.tags=t),a.$store.dispatch("setAPIStore",a.apiItem);var s,i=a.$store.getters.apiUrl;a.$http.post(i,a.apiData).then((s=v()(m.a.mark(function e(t){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=t.data).status?n(new Error(s.message)):(r(s.data),a.$store.dispatch("setAPILastResponse",s));case 2:case"end":return e.stop()}},e,a)})),function(e){return s.apply(this,arguments)})).catch(function(e){n(e)})})},toggleRecentShopChart:function(e){var t=document.getElementById("recentShopTable-"+e),a=window.getComputedStyle(t,null).height;console.log(a),t.style.top="16px"===a?"0px":a},drawRecentShopTradesChart:function(e){var t=this.todayShopTrades[e].shop,a=[new Date((new Date).setUTCHours(-144)).Format("MM-dd"),new Date((new Date).setUTCHours(-120)).Format("MM-dd"),new Date((new Date).setUTCHours(-96)).Format("MM-dd"),new Date((new Date).setUTCHours(-72)).Format("MM-dd"),new Date((new Date).setUTCHours(-48)).Format("MM-dd"),new Date((new Date).setUTCHours(-24)).Format("MM-dd")],r=[this.recentShopTrades.day6.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day6.shops.filter(function(e){return e.shop===t})[0].tradeCount:0,this.recentShopTrades.day5.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day5.shops.filter(function(e){return e.shop===t})[0].tradeCount:0,this.recentShopTrades.day4.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day4.shops.filter(function(e){return e.shop===t})[0].tradeCount:0,this.recentShopTrades.day3.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day3.shops.filter(function(e){return e.shop===t})[0].tradeCount:0,this.recentShopTrades.day2.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day2.shops.filter(function(e){return e.shop===t})[0].tradeCount:0,this.recentShopTrades.day1.shops.filter(function(e){return e.shop===t})[0]?this.recentShopTrades.day1.shops.filter(function(e){return e.shop===t})[0].tradeCount:0],n=B.a.getInstanceByDom(document.getElementById("recentShopChart-"+e));n||(n=B.a.init(document.getElementById("recentShopChart-"+e))),n.setOption({color:["#fddc3c"],xAxis:{type:"category",data:a},yAxis:{type:"value",show:!1},title:{show:!1},legend:{show:!1},grid:{top:10,left:10,right:10,bottom:20},series:[{data:r,type:"line",smooth:!0}]})},drawRankShopRecentTradesChart:function(){var e=[new Date((new Date).setUTCHours(-144)).Format("MM-dd"),new Date((new Date).setUTCHours(-120)).Format("MM-dd"),new Date((new Date).setUTCHours(-96)).Format("MM-dd"),new Date((new Date).setUTCHours(-72)).Format("MM-dd"),new Date((new Date).setUTCHours(-48)).Format("MM-dd"),new Date((new Date).setUTCHours(-24)).Format("MM-dd")],t=[this.rankShopRecentTrades.day6,this.rankShopRecentTrades.day5,this.rankShopRecentTrades.day4,this.rankShopRecentTrades.day3,this.rankShopRecentTrades.day2,this.rankShopRecentTrades.day1],a=B.a.getInstanceByDom(document.getElementById("rankShopRecentChart"));a||(a=B.a.init(document.getElementById("rankShopRecentChart"))),a.setOption({color:["#fddc3c"],xAxis:{type:"category",data:e},yAxis:{type:"value",show:!1},title:{show:!1},legend:{show:!1},grid:{top:10,left:10,right:10,bottom:20},series:[{data:t,type:"line",smooth:!0}]})},getShopTags:function(e){var t=this;return new n.a(function(a,r){t.apiItem={apiHost:"",apiService:"shops",apiAction:"listshoptagsbyname",apiQuery:{}},t.apiData={name:e},t.$store.dispatch("setAPIStore",t.apiItem);var n,s=t.$store.getters.apiUrl;t.$http.post(s,t.apiData).then((n=v()(m.a.mark(function e(n){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=n.data).status?r(new Error(s.message)):(a(s.data),t.$store.dispatch("setAPILastResponse",s));case 2:case"end":return e.stop()}},e,t)})),function(e){return n.apply(this,arguments)})).catch(function(e){r(e)})})},editShopTags:function(e){this.showTagModal=!0,this.shopInOp=e},addNewTagSpec:function(){var e=this;this.$Modal.confirm({title:"新增标签",render:function(t){return t("Input",{props:{value:e.shopTagInOp,autofocus:!0,placeholder:"分类标签名称"},on:{input:function(t){e.shopTagInOp=t}}})},onOk:function(){e.shopTagInOp?e.addShopSpecTagsDic(e.shopTagInOp).then(function(){e.shopTagDic.push(e.shopTagInOp),e.shopTagInOp=""}).catch(function(t){e.$Message.error(t.message)}):e.$Message.error("分类标签不能为空")},onCancel:function(){e.shopTagInOp=""}})},editTagSpec:function(e){var t=this;this.shopTagInOp=e,this.$Modal.confirm({title:"修改标签",render:function(e){return e("Input",{props:{value:t.shopTagInOp,autofocus:!0,placeholder:"分类标签名称"},on:{input:function(e){t.shopTagInOp=e}}})},onOk:function(){t.shopTagInOp?t.editShopSpecTagsDic(e,t.shopTagInOp).then(function(){t.shopTagDic.splice(t.shopTagDic.indexOf(e),1),t.shopTagDic.push(t.shopTagInOp),t.shopTagInOp=""}).catch(function(e){t.$Message.error(e.message)}):t.$Message.error("分类标签不能为空")},onCancel:function(){t.shopTagInOp=""}})},deleteTagSpec:function(e){var t=this;this.shopTagInOp=e,this.$Modal.confirm({title:"删除标签",content:"确认删除标签'"+e+"'么?",onOk:function(){t.shopTagInOp?t.deleteShopSpecTagsDic(e).then(function(){t.shopTagDic.splice(t.shopTagDic.indexOf(e),1),t.shopTagInOp=""}).catch(function(e){t.$Message.error(e.message)}):t.$Message.error("分类标签不能为空")},onCancel:function(){t.shopTagInOp=""}})},getShopSpecTagsDic:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"groups",apiAction:"listshoptagdic",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("失败！("+s.message+")")):(e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},addShopSpecTagsDic:function(e){var t=this;return v()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"groups",apiAction:"addshoptagdic",apiQuery:{}},t.apiData={tag:e},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new n.a(function(){var e=v()(m.a.mark(function e(a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=v()(m.a.mark(function e(r){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?n(new Error("失败！("+s.message+")")):(t.$store.dispatch("setAPILastResponse",s),a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()},editShopSpecTagsDic:function(e,t){var a=this;return v()(m.a.mark(function r(){var s;return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a.apiItem={apiHost:"",apiService:"groups",apiAction:"editshoptagdic",apiQuery:{}},a.apiData={tag:e,tag_new:t},a.$store.dispatch("setAPIStore",a.apiItem),s=a.$store.getters.apiUrl,r.abrupt("return",new n.a(function(){var e=v()(m.a.mark(function e(t,r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$http.post(s,a.apiData).then(function(){var e=v()(m.a.mark(function e(n){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=n.data).status?r(new Error("失败！("+s.message+")")):(a.$store.dispatch("setAPILastResponse",s),t(s.data));case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){a.$store.dispatch("setAPILastResponse",e),r(e)});case 2:case"end":return e.stop()}},e,a)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return r.stop()}},r,a)}))()},deleteShopSpecTagsDic:function(e){var t=this;return v()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"groups",apiAction:"deleteshoptagdic",apiQuery:{}},t.apiData={tag:e},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new n.a(function(){var e=v()(m.a.mark(function e(a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(){var e=v()(m.a.mark(function e(r){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=r.data).status?n(new Error("失败！("+s.message+")")):(t.$store.dispatch("setAPILastResponse",s),a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()},setShopSpecTags:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"shops",apiAction:"setshoptagsbyname",apiQuery:{}},e.apiData={name:e.shopInOp,tags:e.rankShopTags},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new n.a(function(){var t=v()(m.a.mark(function t(r,n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=v()(m.a.mark(function t(a){var s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?n(new Error("失败！("+s.message+")")):(e.$store.dispatch("setAPILastResponse",s),r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()}}};function ie(e,t){return Math.random()>.5?-1:1}var oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stat-today-container"},[a("Button",{attrs:{type:"ghost"},on:{click:e.entrance}},[e._v("刷新")]),e._v(" "),a("div",{staticClass:"stat-today"},[a("ul",[a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("今日派单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.today_assigned))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("今日完成：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.today_finished))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("今日下单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.today_ordered))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("今日退单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.today_failed))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("今日撤销：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.today_dismissed))])])]),e._v(" "),a("ul",[a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("本月派单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.monthly_assigned))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("本月完成：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.monthly_finished))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("本月下单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.monthly_ordered))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("本月退单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.monthly_failed))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("本月撤销：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.monthly_dismissed))])])]),e._v(" "),a("ul",[a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("全部派单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.total_assigned))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("全部完成：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.total_finished))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("全部下单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.total_ordered))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("全部退单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.total_failed))])]),e._v(" "),a("li",{style:{background:e.colorSelections[Math.round(8*Math.random())]}},[a("span",{staticClass:"title"},[e._v("全部撤销：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.today.total_dismissed))])])])]),e._v(" "),["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("div",{staticClass:"today-shop-trades"},[a("div",{staticClass:"today-trade-total"},[a("span",{staticClass:"title"},[e._v("今日订单：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.todayShopTradeTotal))])]),e._v(" "),a("ul",{staticClass:"shop-ul"},e._l(e.todayShopTrades,function(t,r){return a("li",{key:r,on:{mouseenter:function(t){e.drawRecentShopTradesChart(r)}}},[a("span",{staticClass:"title"},[e._v(e._s(t.shop)+"：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.tradeCount))]),e._v(" "),"god"===e.$store.getters.user.role?a("span",{staticClass:"num-yesterday"},[e._v("\n          昨:"+e._s(e.recentShopTrades.day1.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day1.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0)+"\n        ")]):e._e(),e._v(" "),"god"===e.$store.getters.user.role?a("div",{staticClass:"recent",attrs:{id:"recentShopTable-"+r}},[a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("今日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(t.tradeCount))])]),e._v(" "),a("li",[e._v(" ")]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day1.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day1.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day2.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day2.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day3.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day3.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day4.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day4.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day5.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day5.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.recentShopTrades.day6.shops.filter(function(e){return e.shop===t.shop})[0]?e.recentShopTrades.day6.shops.filter(function(e){return e.shop===t.shop})[0].tradeCount:0))])])])]):e._e(),e._v(" "),"god"===e.$store.getters.user.role?a("div",{staticClass:"recent-chart",attrs:{id:"recentShopChart-"+r}}):e._e(),e._v(" "),"god"===e.$store.getters.user.role?a("div",{staticClass:"recent-table-visibility",on:{click:function(t){e.toggleRecentShopChart(r)}}},[a("Icon",{attrs:{type:"ios-glasses-outline"}})],1):e._e()])}))]):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("div",{staticClass:"shop-ranks"},[e.todayShopRank&&e.todayShopRank.length?a("Card",{staticClass:"today"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        今日店铺订单排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            订单数\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},[e._v("\n            对比\n          ")])]),e._v(" "),e._l(e.todayShopRank,function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.shop},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.shop)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.shop)+"\n              "),a("div",{ref:"rank-today-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.shop)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            "+e._s(t.tradeCount)+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},["300+"===t.yesterdayRank?a("span",{staticClass:"font-green"},[e._v("↑300+")]):t.yesterdayRank>t.rank?a("span",{staticClass:"font-green"},[e._v("↑"+e._s(t.yesterdayRank-t.rank))]):t.rank>t.yesterdayRank?a("span",{staticClass:"font-red"},[e._v("↓"+e._s(t.rank-t.yesterdayRank))]):a("span",[e._v("--")])])])})],2)]):e._e(),e._v(" "),e.yesterdayShopRank&&e.yesterdayShopRank.length?a("Card",{staticClass:"yesterday"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        昨日店铺订单排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            订单数\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},[e._v("\n            对比\n          ")])]),e._v(" "),e._l(e.yesterdayShopRank,function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.shop},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.shop)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.shop)+"\n              "),a("div",{ref:"rank-yesterday-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.shop)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            "+e._s(t.tradeCount)+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},["300+"===t.yesterdayRank?a("span",{staticClass:"font-green"},[e._v("↑300+")]):t.yesterdayRank>t.rank?a("span",{staticClass:"font-green"},[e._v("↑"+e._s(t.yesterdayRank-t.rank))]):t.rank>t.yesterdayRank?a("span",{staticClass:"font-red"},[e._v("↓"+e._s(t.rank-t.yesterdayRank))]):a("span",[e._v("--")])])])})],2)]):e._e(),e._v(" "),e.daybeforeyesterdayShopRank&&e.daybeforeyesterdayShopRank.length?a("Card",{staticClass:"daybeforeyesterday"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        前天店铺订单排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            订单数\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},[e._v("\n            对比\n          ")])]),e._v(" "),e._l(e.daybeforeyesterdayShopRank,function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.shop},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.shop)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.shop)+"\n              "),a("div",{ref:"rank-daybeforeyesterday-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.shop)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            "+e._s(t.tradeCount)+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},["300+"===t.yesterdayRank?a("span",{staticClass:"font-green"},[e._v("↑300+")]):t.yesterdayRank>t.rank?a("span",{staticClass:"font-green"},[e._v("↑"+e._s(t.yesterdayRank-t.rank))]):t.rank>t.yesterdayRank?a("span",{staticClass:"font-red"},[e._v("↓"+e._s(t.rank-t.yesterdayRank))]):a("span",[e._v("--")])])])})],2)]):e._e(),e._v(" "),e.todayShopRank_Profit&&e.todayShopRank_Profit.length?a("Card",{staticClass:"today"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        昨日店铺利润排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            利润\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            利润率\n          ")])]),e._v(" "),e._l(e.todayShopRank_Profit.slice(0,100),function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.name},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.name)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.name)+"\n              "),a("div",{ref:"rank-today-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.name)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            "+e._s(Math.round(t.profit).toLocaleString())+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            "+e._s(Math.round(1e3*t.profitRatio)/10)+"%\n          ")])])})],2)]):e._e(),e._v(" "),e.yesterdayShopRank_Profit&&e.yesterdayShopRank_Profit.length?a("Card",{staticClass:"yesterday"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        前天店铺利润排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            利润\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            利润率\n          ")])]),e._v(" "),e._l(e.yesterdayShopRank_Profit.slice(0,100),function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.name},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.name)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.name)+"\n              "),a("div",{ref:"rank-today-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.name)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            "+e._s(Math.round(t.profit).toLocaleString())+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            "+e._s(Math.round(1e3*t.profitRatio)/10)+"%\n          ")])])})],2)]):e._e(),e._v(" "),e.daybeforeyesterdayShopRank_Profit&&e.daybeforeyesterdayShopRank_Profit.length?a("Card",{staticClass:"daybeforeyesterday"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        "+e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+"店铺利润排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            利润\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            利润率\n          ")])]),e._v(" "),e._l(e.daybeforeyesterdayShopRank_Profit.slice(0,100),function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.name},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.name)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.name)+"\n              "),a("div",{ref:"rank-today-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.name)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-profit"},[e._v("\n            "+e._s(Math.round(t.profit).toLocaleString())+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-profitratio"},[e._v("\n            "+e._s(Math.round(1e3*t.profitRatio)/10)+"%\n          ")])])})],2)]):e._e()],1):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("div",{staticClass:"shop-ranks tags-rank"},e._l(e.tagShopRanks,function(t,r){return a("Card",{key:"tagRank"+r,staticClass:"today"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"podium"}}),e._v("\n        【"+e._s(t.tag)+"】"+e._s(t.dateText)+"店铺订单排行\n      ")],1),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"rank-index"}),e._v(" "),a("span",{staticClass:"rank-shopname"},[e._v("店铺")]),e._v(" "),a("span",{staticClass:"rank-group"},[a("b",[e._v("店群")])]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            订单数\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},[e._v("\n            对比\n          ")])]),e._v(" "),e._l(t.data,function(t,r){return a("li",{key:r},[a("span",{staticClass:"rank-index"},[e._v(e._s(r+1)+".")]),e._v(" "),a("span",{staticClass:"rank-shopname"},[a("Poptip",{attrs:{trigger:"hover",title:t.shop},on:{"on-popper-show":function(a){e.getRankPoptipContent(t.shop)},"on-popper-hide":e.clearRankPoptipContent}},[e._v("\n              "+e._s(t.shop)+"\n              "),a("div",{ref:"rank-today-poptip-content-"+r,refInFor:!0,staticClass:"rank-shop-recent",attrs:{slot:"content"},slot:"content"},[e.rankShopRecentTrades.shop?e._e():a("div",[e._v("加载中...")]),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent"},[a("div",{staticClass:"shop-tags"},[e._l(e.rankShopTags,function(t,r){return a("Tag",{key:r,attrs:{type:"border",color:"green"}},[e._v(e._s(t))])}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:function(a){e.editShopTags(t.shop)}}},[e._v("标签")])],2),e._v(" "),a("ul",[a("li",[a("span",{staticClass:"recent-title"},[e._v("昨日:")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day1))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-48)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day2))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-72)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day3))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-96)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day4))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-120)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day5))])]),e._v(" "),a("li",[a("span",{staticClass:"recent-title"},[e._v(e._s(new Date((new Date).setUTCHours(-144)).Format("MM-dd"))+":")]),a("span",{staticClass:"recent-digit"},[e._v(e._s(e.rankShopRecentTrades.day6))])])])]):e._e(),e._v(" "),e.rankShopRecentTrades.shop?a("div",{staticClass:"recent-chart",attrs:{id:"rankShopRecentChart"}}):e._e()])])],1),e._v(" "),a("span",{staticClass:"rank-group"},[e._v(e._s(t.group))]),e._v(" "),a("span",{staticClass:"rank-tradecount"},[e._v("\n            "+e._s(t.tradeCount)+"\n          ")]),e._v(" "),a("span",{staticClass:"rank-shift"},["300+"===t.yesterdayRank?a("span",{staticClass:"font-green"},[e._v("↑300+")]):t.yesterdayRank>t.rank?a("span",{staticClass:"font-green"},[e._v("↑"+e._s(t.yesterdayRank-t.rank))]):t.rank>t.yesterdayRank?a("span",{staticClass:"font-red"},[e._v("↓"+e._s(t.rank-t.yesterdayRank))]):a("span",[e._v("--")])])])})],2)])})):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",shape:"circle",icon:"grid",long:"",size:"large"},on:{click:function(t){e.godDashboardMngModal=!0}}},[e._v("管理看板")]):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("Modal",{attrs:{title:"管理看板"},on:{"on-ok":e.setGodDashboardSettings},model:{value:e.godDashboardMngModal,callback:function(t){e.godDashboardMngModal=t},expression:"godDashboardMngModal"}},[a("div",[a("Transfer",{attrs:{data:e.godDashboardsDic,"target-keys":e.godDashboardSettings},on:{"on-change":e.changeGodDashboardSettingTransfer}})],1)]):e._e(),e._v(" "),["god"].indexOf(e.$store.getters.user.role)>-1?a("Modal",{attrs:{title:"店铺标签"},on:{"on-ok":e.setShopSpecTags},model:{value:e.showTagModal,callback:function(t){e.showTagModal=t},expression:"showTagModal"}},[a("div",[a("CheckboxGroup",{model:{value:e.rankShopTags,callback:function(t){e.rankShopTags=t},expression:"rankShopTags"}},[e._l(e.shopTagDic,function(e,t){return a("Checkbox",{key:t,attrs:{label:e}})}),e._v(" "),a("Button",{attrs:{size:"small",type:"ghost",icon:"plus"},on:{click:e.addNewTagSpec}},[e._v("新增")])],2)],1)]):e._e()],1)},staticRenderFns:[]};var ce=a("VU/8")(se,oe,!1,function(e){a("vIfU")},"data-v-cedb498c",null).exports,_e={name:"buyer-settings",data:function(){return{settings:{isEnable:!0,defaultBuyerMessage:"买来用作赠礼，请核对好订单信息和商品数量，不要漏发或少发。不要放价格清单、店铺信息进去，谢谢，定会五星好评。",defaultMemoFlag:3},succeed:!1,autoTracerInterval:10,autoTracerSwitch:this.$store.getters.user.tracelogisticsEnable}},watch:{"settings.isEnable":function(e){this.succeed&&this.setEnable(e)},autoTracerInterval:function(e){this.$emit("on-autotracerinterval",e)},autoTracerSwitch:function(e){this.$emit("on-autotracerswitch",e)}},mounted:function(){this.getBuyer(),this.settings.defaultBuyerMessage=this.$store.getters.defaultBuyerMessage||"",this.settings.defaultMemoFlag=this.$store.getters.defaultMemoFlag||0},methods:{getBuyer:function(){var e=this;return v()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"buyers",apiAction:"getbyuserid",apiQuery:{}},e.apiData={userid:e.$store.getters.user.userid},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,e.succeed=!1,t.next=7,e.$http.post(a,e.apiData).then(function(t){if("ok"===t.data.status){var a=t.data.data[0];e.settings.isEnable=a.is_enable}else e.$Message.error("获取买手信息失败！("+t.data.message+")")}).catch(function(t){console.log(t),e.$Message.error("获取买手信息失败,请重试。")});case 7:e.succeed=!0;case 8:case"end":return t.stop()}},t,e)}))()},setEnable:function(e){var t=this;this.apiItem={apiHost:"",apiService:"buyers",apiAction:"enable",apiQuery:{}},this.apiData={userid:this.$store.getters.user.userid,is_enable:e},this.succeed=!0,this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;this.$http.post(a,this.apiData).then(function(a){"ok"===a.data.status?(t.$Modal.success({title:"设置成功!",content:null}),t.succeed=!0):(t.$Modal.error({title:"设置失败!",content:a.data.message}),t.succeed=!1,t.settings.isEnable=!e)}).catch(function(a){console.log(a),t.$Modal.error({title:"设置失败!",content:a.message}),t.succeed=!1,t.settings.isEnable=!e})},setDefaultBuyerMessage:function(){var e=this;this.apiItem={apiHost:"",apiService:"users",apiAction:"setdefaultbuyermessage",apiQuery:{}},this.apiData={userid:this.$store.getters.user.userid,defaultbuyermessage:this.settings.defaultBuyerMessage},this.succeed=!0,this.$store.dispatch("setAPIStore",this.apiItem);var t=this.$store.getters.apiUrl;this.$http.post(t,this.apiData).then(function(t){"ok"===t.data.status?(e.$Modal.success({title:"设置成功!",content:null}),e.succeed=!0,e.$store.dispatch("setDefaultBuyerMessage",e.settings.defaultBuyerMessage)):(e.$Modal.error({title:"设置失败!",content:t.data.message}),e.succeed=!1)}).catch(function(t){console.log(t),e.$Modal.error({title:"设置失败!",content:t.message}),e.succeed=!1})},getMemoColor:function(e){switch(e){case 0:return"#666";case 1:return"red";case 2:return"orange";case 3:return"forestgreen";case 4:return"blue";case 5:return"deeppink";default:return"#666"}},setDefaultMemoFlag:function(){var e=this;this.apiItem={apiHost:"",apiService:"users",apiAction:"setdefaultmemoflag",apiQuery:{}},this.apiData={userid:this.$store.getters.user.userid,defaultmemoflag:this.settings.defaultMemoFlag},this.succeed=!0,this.$store.dispatch("setAPIStore",this.apiItem);var t=this.$store.getters.apiUrl;this.$http.post(t,this.apiData).then(function(t){"ok"===t.data.status?(e.$Modal.success({title:"设置成功!",content:null}),e.succeed=!0,e.$store.dispatch("setDefaultMemoFlag",e.settings.defaultMemoFlag)):(e.$Modal.error({title:"设置失败!",content:t.data.message}),e.succeed=!1)}).catch(function(t){console.log(t),e.$Modal.error({title:"设置失败!",content:t.message}),e.succeed=!1})}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buyer-settings"},[a("Form",{ref:"buyerSettingForm",attrs:{model:e.settings,"label-width":160}},[a("FormItem",{attrs:{label:"发货跟踪"}},[a("i-switch",{model:{value:e.autoTracerSwitch,callback:function(t){e.autoTracerSwitch=t},expression:"autoTracerSwitch"}})],1),e._v(" "),a("FormItem",{attrs:{label:"发货检查间隔(min)"}},[a("Input",{staticStyle:{width:"80px"},model:{value:e.autoTracerInterval,callback:function(t){e.autoTracerInterval=t},expression:"autoTracerInterval"}})],1),e._v(" "),a("FormItem",{attrs:{label:"下单留言内容",prop:"defaultBuyerMessage"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"填写下单留言内容"},model:{value:e.settings.defaultBuyerMessage,callback:function(t){e.$set(e.settings,"defaultBuyerMessage",t)},expression:"settings.defaultBuyerMessage"}}),e._v(" "),a("p",{staticClass:"font-grey"},[e._v("例：买来用作赠礼，请核对好订单信息和商品数量，不要漏发或少发。不要放价格清单、店铺信息进去，谢谢，定会五星好评。")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.setDefaultBuyerMessage}},[e._v("更新")])],1),e._v(" "),a("FormItem",{attrs:{label:"下单备注颜色",prop:"defaultMemoFlag"}},[a("RadioGroup",{model:{value:e.settings.defaultMemoFlag,callback:function(t){e.$set(e.settings,"defaultMemoFlag",t)},expression:"settings.defaultMemoFlag"}},[a("Radio",{attrs:{label:0}},[a("span",{style:{color:e.getMemoColor(0)}},[e._v("灰色")])]),e._v(" "),a("Radio",{attrs:{label:1}},[a("span",{style:{color:e.getMemoColor(1)}},[e._v("红色")])]),e._v(" "),a("Radio",{attrs:{label:2}},[a("span",{style:{color:e.getMemoColor(2)}},[e._v("黄色")])]),e._v(" "),a("Radio",{attrs:{label:3}},[a("span",{style:{color:e.getMemoColor(3)}},[e._v("绿色")])]),e._v(" "),a("Radio",{attrs:{label:4}},[a("span",{style:{color:e.getMemoColor(4)}},[e._v("蓝色")])]),e._v(" "),a("Radio",{attrs:{label:5}},[a("span",{style:{color:e.getMemoColor(5)}},[e._v("粉色")])])],1),e._v(" "),a("p",{staticClass:"font-grey"},[e._v("设置对买手下单订单进行备注标注的颜色。备注标注的格式为：“买手旺旺：订单编号”")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.setDefaultMemoFlag}},[e._v("更新")])],1)],1)],1)},staticRenderFns:[]};var le=a("VU/8")(_e,de,!1,function(e){a("//+z")},"data-v-01cf9124",null).exports,ue=a("IFPM"),fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buyers"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.searchRemote}})],1),e._v(" "),a("Button-group",[["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshBuyerList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"usertable",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.userColumns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.userSelectList.length,"page-size-opts":[10,20,50,100],current:e.pageUserCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changeUserPage,"on-page-size-change":e.changeUserPageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"买手接单设置",width:"80%","mask-closable":!0,transfer:!1},on:{"on-cancel":function(t){e.buyerShopModal=!1,e.detailByShopid=null,e.detailByUserid=null}},model:{value:e.buyerShopModal,callback:function(t){e.buyerShopModal=t},expression:"buyerShopModal"}},[a("div",{staticClass:"modal-content"},[e.detailByUserid?a("div",{staticClass:"buyer-shops-content"},[a("h2",[e._v(e._s(e.userSelectList.filter(function(t){return t.id===e.detailByUserid})[0].name))]),e._v(" "),a("ul",e._l(e.shopSelectList,function(t,r){return a("li",{key:r,class:e.dataBuyer.filter(function(e){return e.shopid===t.id}).length?e.dataBuyer.filter(function(e){return e.shopid===t.id})[0].is_enable?"listening":"holding":"unlinked",on:{click:function(a){e.processBuyerShop(e.detailByUserid,t.id)}}},[a("div",{staticClass:"buyer-shop-item"},[e._v(e._s(t.name))]),e._v(" "),a("Tag",{attrs:{type:"dot",color:e.dataBuyer.filter(function(e){return e.shopid===t.id}).length?e.dataBuyer.filter(function(e){return e.shopid===t.id})[0].is_enable?"green":"red":"default"}},[e._v(e._s(e.dataBuyer.filter(function(e){return e.shopid===t.id}).length?e.dataBuyer.filter(function(e){return e.shopid===t.id})[0].is_enable?"接单中":"休息中":"未关联"))])],1)}))]):e._e()]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{size:"large"},on:{click:function(t){e.buyerShopModal=!1,e.detailByShopid=null,e.detailByUserid=null}}},[e._v("关闭")])],1)]),e._v(" "),a("Modal",{attrs:{title:"买手设置",width:"80%","mask-closable":!0,transfer:!1},on:{"on-cancel":function(t){e.detailModal=!1,e.detailByShopid=null,e.detailByUserid=null}},model:{value:e.detailModal,callback:function(t){e.detailModal=t},expression:"detailModal"}},[a("div",{staticClass:"modal-content"},[a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataBuyerViewPage},on:{"on-sort-change":e.sortBuyerTable}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{float:"left"}},[a("Page",{attrs:{total:e.dataBuyer.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{size:"large"},on:{click:function(t){e.detailModal=!1,e.detailByShopid=null,e.detailByUserid=null}}},[e._v("关闭")])],1)]),e._v(" "),a("Modal",{attrs:{title:"新增买手","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"用户",prop:"userid"}},[a("Select",{attrs:{placeholder:"选择用户",filterable:""},on:{"on-change":e.changeUser},model:{value:e.newModel.userid,callback:function(t){e.$set(e.newModel,"userid",t)},expression:"newModel.userid"}},[a("Option",{attrs:{value:""}},[e._v("请选择用户")]),e._v(" "),e._l(e.userSelectList,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name))])})],2)],1),e._v(" "),a("FormItem",{attrs:{label:"店铺",prop:"shopid"}},[a("Select",{attrs:{placeholder:"选择店铺",filterable:""},model:{value:e.newModel.shopid,callback:function(t){e.$set(e.newModel,"shopid",t)},expression:"newModel.shopid"}},[a("Option",{attrs:{value:""}},[e._v("请选择店铺")]),e._v(" "),e._l(e.shopSelectList,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name))])})],2)],1),e._v(" "),a("FormItem",{attrs:{label:"权重",prop:"weight"}},[a("InputNumber",{attrs:{max:1,min:0,step:.1},model:{value:e.newModel.weight,callback:function(t){e.$set(e.newModel,"weight",t)},expression:"newModel.weight"}})],1),e._v(" "),a("FormItem",{attrs:{label:"接单",prop:"is_enable"}},[a("i-switch",{model:{value:e.newModel.is_enable,callback:function(t){e.$set(e.newModel,"is_enable",t)},expression:"newModel.is_enable"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"修改买手","mask-closable":!1,transfer:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"editForm",attrs:{model:e.editModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"用户",prop:"userid"}},[a("Select",{attrs:{placeholder:"选择用户",filterable:"",disabled:""},on:{"on-change":e.changeUserEdit},model:{value:e.editModel.userid,callback:function(t){e.$set(e.editModel,"userid",t)},expression:"editModel.userid"}},[a("Option",{attrs:{value:""}},[e._v("请选择用户")]),e._v(" "),e._l(e.userSelectList,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name))])})],2)],1),e._v(" "),a("FormItem",{attrs:{label:"店铺",prop:"shopid"}},[a("Select",{attrs:{placeholder:"选择店铺",filterable:"",disabled:""},model:{value:e.editModel.shopid,callback:function(t){e.$set(e.editModel,"shopid",t)},expression:"editModel.shopid"}},[a("Option",{attrs:{value:""}},[e._v("请选择店铺")]),e._v(" "),e._l(e.shopSelectList,function(t,r){return a("Option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name))])})],2)],1),e._v(" "),a("FormItem",{attrs:{label:"权重",prop:"weight"}},[a("InputNumber",{attrs:{max:1,min:0,step:.1},model:{value:e.editModel.weight,callback:function(t){e.$set(e.editModel,"weight",t)},expression:"editModel.weight"}})],1),e._v(" "),a("FormItem",{attrs:{label:"接单",prop:"is_enable"}},[a("i-switch",{model:{value:e.editModel.is_enable,callback:function(t){e.$set(e.editModel,"is_enable",t)},expression:"editModel.is_enable"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEdit}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"修改买手名称","mask-closable":!1,transfer:!1},model:{value:e.renameModal,callback:function(t){e.renameModal=t},expression:"renameModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"renameForm",attrs:{model:e.renameModel,rules:e.ruleValidateRename,"label-width":120}},[a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{model:{value:e.renameModel.name,callback:function(t){e.$set(e.renameModel,"name",t)},expression:"renameModel.name"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.renameModal=!1}}},[e._v("关闭")]),e._v(" "),e.detailByShopid||e.detailByUserid?a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitRename}},[e._v("提交")]):a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitUserRename}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除买手","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v("\n      确认删除 "),a("b",[e._v(e._s(e.getShopName(e.deleteModel.shopid)))]),e._v(" 店铺的买手 "),a("b",[e._v(e._s(e.deleteModel.name))]),e._v(" 么？\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("删除")])],1)])],1)},staticRenderFns:[]};var pe=function(e){a("iy/N")},be=a("VU/8")(ue.a,fe,!1,pe,"data-v-a5b96e36",null).exports,he=a("F7Bi"),me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shops"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.search}})],1),e._v(" "),a("Button-group",["boss"===e.$store.getters.user.role?a("Button",{attrs:{type:"ghost",icon:"android-sync"},on:{click:e.syncShopModal}},[e._v("同步店铺")]):e._e(),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"gear-a"},on:{click:function(t){e.translinkModal=!0}}},[e._v("转链设置")]):e._e(),e._v(" "),["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"转链设置","mask-closable":!1,transfer:!1},model:{value:e.translinkModal,callback:function(t){e.translinkModal=t},expression:"translinkModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"translinkForm",attrs:{model:e.translinkModel,rules:e.ruleValidateTransLink,"label-width":120}},[a("FormItem",{attrs:{label:"转链模式"}},[a("i-switch",{attrs:{size:"large","true-value":"normal","false-value":"yitao"},model:{value:e.translinkModel.transMode,callback:function(t){e.$set(e.translinkModel,"transMode",t)},expression:"translinkModel.transMode"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("第三方")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("一淘")])]),e._v(" "),a("p",[a("span",[e._v("一淘模式下系统将自动记录历史转链记录，为之后的下单提供转链服务。第三方转链服务提供在线实时转链服务。")])])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.translinkModel.transMode,expression:"translinkModel.transMode==='normal'"}],attrs:{label:"转链AppKey",prop:"appkey"}},[a("Input",{model:{value:e.translinkModel.appkey,callback:function(t){e.$set(e.translinkModel,"appkey",t)},expression:"translinkModel.appkey"}}),e._v(" "),a("a",{attrs:{href:"http://yun.yangsa.net/",target:"_blank"}},[e._v("申请账号")])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.translinkModel.transMode,expression:"translinkModel.transMode==='normal'"}],attrs:{label:"转链阿里妈妈",prop:"pid"}},[a("Input",{attrs:{placeholder:"联盟授权对应的PID,需在六先生授权的联盟账号下"},model:{value:e.translinkModel.pid,callback:function(t){e.$set(e.translinkModel,"pid",t)},expression:"translinkModel.pid"}})],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.translinkModel.transMode,expression:"translinkModel.transMode==='normal'"}],attrs:{label:"淘宝联盟账号",prop:"nickname"}},[a("Input",{attrs:{placeholder:"绑定了多个联盟账号需填,否则取第一个"},model:{value:e.translinkModel.nickname,callback:function(t){e.$set(e.translinkModel,"nickname",t)},expression:"translinkModel.nickname"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.translinkModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitTransLink}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"新增店铺","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"店铺昵称",prop:"name"}},[a("Input",{model:{value:e.newModel.name,callback:function(t){e.$set(e.newModel,"name",t)},expression:"newModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"转链模式"}},[a("i-switch",{attrs:{size:"large","true-value":"normal","false-value":"yitao"},model:{value:e.newModel.transMode,callback:function(t){e.$set(e.newModel,"transMode",t)},expression:"newModel.transMode"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("第三方")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("一淘")])]),e._v(" "),a("p",[a("span",[e._v("一淘模式下系统将自动记录历史转链记录，为之后的下单提供转链服务。第三方转链服务提供在线实时转链服务。")])])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.newModel.transMode,expression:"newModel.transMode==='normal'"}],attrs:{label:"转链AppKey",prop:"appkey"}},[a("Input",{model:{value:e.newModel.appkey,callback:function(t){e.$set(e.newModel,"appkey",t)},expression:"newModel.appkey"}}),e._v(" "),a("a",{attrs:{href:"http://yun.yangsa.net/",target:"_blank"}},[e._v("申请账号")])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.newModel.transMode,expression:"newModel.transMode==='normal'"}],attrs:{label:"转链阿里妈妈",prop:"pid"}},[a("Input",{model:{value:e.newModel.pid,callback:function(t){e.$set(e.newModel,"pid",t)},expression:"newModel.pid"}})],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.newModel.transMode,expression:"newModel.transMode==='normal'"}],attrs:{label:"淘宝联盟账号",prop:"nickname"}},[a("Input",{attrs:{placeholder:"绑定了多个联盟账号需填,否则取第一个"},model:{value:e.newModel.nickname,callback:function(t){e.$set(e.newModel,"nickname",t)},expression:"newModel.nickname"}})],1),e._v(" "),"god"===e.$store.getters.user.role?a("FormItem",{attrs:{label:"店铺分类标签",prop:"tags"}},[a("CheckboxGroup",{model:{value:e.newModel.tags,callback:function(t){e.$set(e.newModel,"tags",t)},expression:"newModel.tags"}},[e._l(e.shopTagDic,function(t,r){return a("Poptip",{key:r,attrs:{trigger:"hover"}},[a("Checkbox",{attrs:{label:t}}),e._v(" "),a("div",{staticClass:"shoptag-manage",attrs:{slot:"content"},slot:"content"},[a("Button",{attrs:{type:"text"},on:{click:function(a){e.editTagSpec(t)}}},[e._v("修改")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(a){e.deleteTagSpec(t)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:e.addNewTagSpec}},[e._v("新增")])],2)],1):e._e()],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"修改店铺","mask-closable":!1,transfer:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"editForm",attrs:{model:e.editModel,rules:e.ruleValidateEdit,"label-width":120}},[a("FormItem",{attrs:{label:"店铺昵称",prop:"name"}},[a("Input",{model:{value:e.editModel.name,callback:function(t){e.$set(e.editModel,"name",t)},expression:"editModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"转链模式"}},[a("i-switch",{attrs:{size:"large","true-value":"normal","false-value":"yitao"},model:{value:e.editModel.transMode,callback:function(t){e.$set(e.editModel,"transMode",t)},expression:"editModel.transMode"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("第三方")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("一淘")])]),e._v(" "),a("p",[a("span",[e._v("一淘模式下系统将自动记录历史转链记录，为之后的下单提供转链服务。第三方转链服务提供在线实时转链服务。")])])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.editModel.transMode,expression:"editModel.transMode==='normal'"}],attrs:{label:"转链AppKey",prop:"appkey"}},[a("Input",{model:{value:e.editModel.appkey,callback:function(t){e.$set(e.editModel,"appkey",t)},expression:"editModel.appkey"}}),e._v(" "),a("a",{attrs:{href:"http://yun.yangsa.net/",target:"_blank"}},[e._v("申请账号")])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.editModel.transMode,expression:"editModel.transMode==='normal'"}],attrs:{label:"转链阿里妈妈",prop:"pid"}},[a("Input",{model:{value:e.editModel.pid,callback:function(t){e.$set(e.editModel,"pid",t)},expression:"editModel.pid"}})],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"normal"===e.editModel.transMode,expression:"editModel.transMode==='normal'"}],attrs:{label:"淘宝联盟账号",prop:"nickname"}},[a("Input",{attrs:{placeholder:"绑定了多个联盟账号需填,否则取第一个"},model:{value:e.editModel.nickname,callback:function(t){e.$set(e.editModel,"nickname",t)},expression:"editModel.nickname"}})],1),e._v(" "),"god"===e.$store.getters.user.role?a("FormItem",{attrs:{label:"店铺分类标签",prop:"tags"}},[a("CheckboxGroup",{model:{value:e.editModel.tags,callback:function(t){e.$set(e.editModel,"tags",t)},expression:"editModel.tags"}},[e._l(e.shopTagDic,function(t,r){return a("Poptip",{key:r,attrs:{trigger:"hover"}},[a("Checkbox",{attrs:{label:t}}),e._v(" "),a("div",{staticClass:"shoptag-manage",attrs:{slot:"content"},slot:"content"},[a("Button",{attrs:{type:"text"},on:{click:function(a){e.editTagSpec(t)}}},[e._v("修改")]),e._v(" "),a("Button",{attrs:{type:"text"},on:{click:function(a){e.deleteTagSpec(t)}}},[e._v("删除")])],1)],1)}),e._v(" "),a("Button",{attrs:{type:"ghost",size:"small",icon:"plus"},on:{click:e.addNewTagSpec}},[e._v("新增")])],2)],1):e._e()],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEdit}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除店铺","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v('\n      确认删除店铺"'+e._s(e.deleteModel.name)+'"吗？\n    ')]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var ge=function(e){a("OdR1")},ve=a("VU/8")(he.a,me,!1,ge,"data-v-1a3963ad",null).exports,ye=a("cv+H"),Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"groups"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.search}})],1),e._v(" "),a("Button-group",[["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"新增店群","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"店群名称",prop:"name"}},[a("Input",{model:{value:e.newModel.name,callback:function(t){e.$set(e.newModel,"name",t)},expression:"newModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"店群号码",prop:"group"}},[a("InputNumber",{model:{value:e.newModel.group,callback:function(t){e.$set(e.newModel,"group",t)},expression:"newModel.group"}})],1),e._v(" "),a("FormItem",{attrs:{label:"离线发货授权",prop:"offline_deliver"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.newModel.offline_deliver,callback:function(t){e.$set(e.newModel,"offline_deliver",t)},expression:"newModel.offline_deliver"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"修改店群","mask-closable":!1,transfer:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"editForm",attrs:{model:e.editModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"店铺昵称",prop:"name"}},[a("Input",{model:{value:e.editModel.name,callback:function(t){e.$set(e.editModel,"name",t)},expression:"editModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"店群号码",prop:"group"}},[a("InputNumber",{model:{value:e.editModel.group,callback:function(t){e.$set(e.editModel,"group",t)},expression:"editModel.group"}})],1),e._v(" "),a("FormItem",{attrs:{label:"离线发货授权",prop:"offline_deliver"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.editModel.offline_deliver,callback:function(t){e.$set(e.editModel,"offline_deliver",t)},expression:"editModel.offline_deliver"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEdit}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除店群","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v('\n      确认删除店群"'+e._s(e.deleteModel.name)+'"吗？\n    ')]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var Me=function(e){a("Zbwj")},De=a("VU/8")(ye.a,Ee,!1,Me,"data-v-54305a95",null).exports,Oe=a("Up6M"),we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"daifa"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.search}})],1),e._v(" "),a("Button-group",[["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"新增代发商品","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"商品ID",prop:"numIid"}},[a("Input",{model:{value:e.newModel.numIid,callback:function(t){e.$set(e.newModel,"numIid",t)},expression:"newModel.numIid"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除代发商品","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v('\n      确认删除"'+e._s(e.deleteModel.num_iid)+'"吗？\n    ')]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var Te=function(e){a("l0v7")},Pe=a("VU/8")(Oe.a,we,!1,Te,"data-v-952fb2ea",null).exports,Ce=a("yfI3"),Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.search}})],1),e._v(" "),a("Button-group",[a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"修改用户","mask-closable":!1,transfer:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"editForm",attrs:{model:e.editModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{model:{value:e.editModel.name,callback:function(t){e.$set(e.editModel,"name",t)},expression:"editModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"店群ID",prop:"group"}},[a("Input",{model:{value:e.editModel.group,callback:function(t){e.$set(e.editModel,"group",t)},expression:"editModel.group"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEdit}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除用户","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v('\n      确认删除用户"'+e._s(e.deleteModel.name)+'"吗？\n    ')]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var ke=function(e){a("Ga99")},Re=a("VU/8")(Ce.a,Ie,!1,ke,"data-v-7b068ee6",null).exports,Se=a("ONze"),Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blacklist-shops"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.search}})],1),e._v(" "),a("Button-group",[["god","boss","manager"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"添加黑名单店铺","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"店铺昵称",prop:"name"}},[a("Input",{model:{value:e.newModel.name,callback:function(t){e.$set(e.newModel,"name",t)},expression:"newModel.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"原因备注",prop:"reason"}},[a("Input",{model:{value:e.newModel.reason,callback:function(t){e.$set(e.newModel,"reason",t)},expression:"newModel.reason"}})],1),e._v(" "),a("FormItem",[a("p",[e._v("注意:加入黑名单后，该店铺商品将无法下单！")])])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"解除店铺黑名单","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v('\n      确认解除店铺"'+e._s(e.deleteModel.name)+'"黑名单吗？\n    ')]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var Be=function(e){a("i/Ln")},Le=a("VU/8")(Se.a,Ae,!1,Be,"data-v-b5e328f0",null).exports,Ue=a("xI91"),xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bought-history-list"},[a("div",{staticClass:"box-tools pull-right"},[a("div",{staticStyle:{display:"inline-block","margin-right":"15px"},on:{mouseenter:function(t){e.toggleSearch(!0)},mouseleave:function(t){e.toggleSearch(!1)}}},[a("Select",{staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.searchBy},model:{value:e.searchBy,callback:function(t){e.searchBy=t},expression:"searchBy"}},[a("Option",{attrs:{value:""}},[e._v("不限")]),e._v(" "),e._l(e.columns,function(t){return t.title&&t.searchable?a("Option",{key:t.key,attrs:{value:t.subKey?t.key+"."+t.subKey:t.key}},[e._v(e._s(t.title))]):e._e()})],2),e._v(" "),a("Input",{ref:"tableSearch",staticClass:"table-search",class:{on:e.tableSearchOn||e.searchMode||e.keyword},attrs:{placeholder:"搜索关键字",clearable:""},on:{"on-focus":e.toggleSearchMode,"on-blur":e.toggleSearchMode},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-search"},on:{click:e.searchRemote}})],1),e._v(" "),a("Button-group",[["god","boss"].indexOf(e.$store.getters.user.role)>-1?a("Button",{attrs:{type:"ghost",icon:"document"},on:{click:function(t){e.newModal=!0}}},[e._v("新增")]):e._e(),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalCount,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),a("Modal",{attrs:{title:"新增记录","mask-closable":!1,transfer:!1},model:{value:e.newModal,callback:function(t){e.newModal=t},expression:"newModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"newForm",attrs:{model:e.newModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"商品ID",prop:"numIid"}},[a("Input",{model:{value:e.newModel.numIid,callback:function(t){e.$set(e.newModel,"numIid",t)},expression:"newModel.numIid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"价格（总价）",prop:"buyerFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.newModel.buyerFee,callback:function(t){e.$set(e.newModel,"buyerFee",t)},expression:"newModel.buyerFee"}})],1),e._v(" "),a("FormItem",{attrs:{label:"邮费",prop:"postFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.newModel.postFee,callback:function(t){e.$set(e.newModel,"postFee",t)},expression:"newModel.postFee"}})],1),e._v(" "),a("FormItem",{attrs:{label:"链接",prop:"buyUrl"}},[a("Input",{model:{value:e.newModel.buyUrl,callback:function(t){e.$set(e.newModel,"buyUrl",t)},expression:"newModel.buyUrl"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.newModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitNew}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"修改历史下单","mask-closable":!1,transfer:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("div",{staticClass:"modal-content"},[a("Form",{ref:"editForm",attrs:{model:e.editModel,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"商品ID",prop:"numIid"}},[a("Input",{model:{value:e.editModel.numIid,callback:function(t){e.$set(e.editModel,"numIid",t)},expression:"editModel.numIid"}})],1),e._v(" "),a("FormItem",{attrs:{label:"价格（总价,分）",prop:"buyerFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.editModel.buyerFee,callback:function(t){e.$set(e.editModel,"buyerFee",t)},expression:"editModel.buyerFee"}})],1),e._v(" "),a("FormItem",{attrs:{label:"邮费（分）",prop:"postFee"}},[a("InputNumber",{attrs:{min:0,step:1},model:{value:e.editModel.postFee,callback:function(t){e.$set(e.editModel,"postFee",t)},expression:"editModel.postFee"}})],1),e._v(" "),a("FormItem",{attrs:{label:"链接",prop:"buyUrl"}},[a("Input",{model:{value:e.editModel.buyUrl,callback:function(t){e.$set(e.editModel,"buyUrl",t)},expression:"editModel.buyUrl"}})],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("关闭")]),e._v(" "),a("Button",{attrs:{type:"success",size:"large"},on:{click:e.submitEdit}},[e._v("提交")])],1)]),e._v(" "),a("Modal",{attrs:{title:"删除记录","mask-closable":!1,transfer:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("div",{staticClass:"modal-content"},[e._v("\n      确认删除这条记录吗？\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDelete}},[e._v("确认")])],1)]),e._v(" "),a("Modal",{attrs:{title:"批量删除记录","mask-closable":!1,transfer:!1},model:{value:e.deleteBulkModal,callback:function(t){e.deleteBulkModal=t},expression:"deleteBulkModal"}},[a("div",{staticClass:"modal-content"},[e._v("\n      确认批量删除这个下单地址的全部记录吗？\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(t){e.deleteBulkModal=!1}}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"error",size:"large"},on:{click:e.submitDeleteBulk}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var $e=function(e){a("D6vd")},Ke=a("VU/8")(Ue.a,xe,!1,$e,"data-v-4f775eae",null).exports,We={name:"report-profit",data:function(){return{apiItem:{apiHost:"",apiService:"zztAuth",apiAction:"Login",apiQuery:{}},apiData:null,colorSelections:["#f2b98e","#56bced","#f4afcb","#5fb985","#e27719","#0193de","#dd1e6c","#2ac56a"],timespan:"monthly",daterange:null,finishedTrades:{tradeCount:0,orderCount:0,daixiaoTradeCount:0,tradePaymentTotal:0,orderPaymentTotal:0,daixiaoPaymentTotal:0,shops:[],buyers:[]},status:"received",showPanel:["1","2"],loading:!1,buyerDetailModal:!1,buyerDetail:null,buyerDetailColumns:[{title:"店铺名称",key:"name",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"利润",key:"profit",ellipsis:!0,render:function(e,t){return e("span",{style:{fontWeight:"800",color:t.row.tradeAmount-t.row.orderAmount>0?"#19be6b":"#ff4f4f"}},t.row.tradeAmount?(t.row.tradeAmount-t.row.orderAmount).toLocaleString()+"元":"0元")}},{title:"单均损益",key:"profitAverage",ellipsis:!0,render:function(e,t){return e("span",{style:{fontWeight:"800",color:t.row.tradeAmount-t.row.orderAmount>0?"#19be6b":"#ff4f4f"}},t.row.tradeAmount?((t.row.tradeAmount-t.row.orderAmount)/t.row.tradeCount).toLocaleString()+"元":"0元")}},{title:"利润率",key:"profitRate",ellipsis:!0,render:function(e,t){return e("span",{style:{fontWeight:"800",color:t.row.tradeAmount-t.row.orderAmount>0?"#19be6b":"#ff4f4f"}},t.row.tradeAmount?((t.row.tradeAmount-t.row.orderAmount)/t.row.tradeAmount*100).toFixed(1)+"%":"0%")}},{title:"订单",key:"tradeCount",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.tradeCount)}},{title:"收入",key:"tradeAmount",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.tradeAmount.toLocaleString()+"元")}},{title:"下单",key:"orderCount",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.orderCount)}},{title:"支出",key:"orderAmount",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.orderAmount.toLocaleString()+"元")}}]}},watch:{timespan:function(e){"daterange"!==e?(this.finishedTrades={tradeCount:0,orderCount:0,daixiaoTradeCount:0,tradePaymentTotal:0,orderPaymentTotal:0,daixiaoPaymentTotal:0,shops:[],buyers:[]},this.getFinishedTrades(this.timespan,this.status)):"daterange"===e&&this.daterange&&(this.finishedTrades={tradeCount:0,orderCount:0,daixiaoTradeCount:0,tradePaymentTotal:0,orderPaymentTotal:0,daixiaoPaymentTotal:0,shops:[],buyers:[]},this.getFinishedTradesByDateRange())},status:function(e){"daterange"!==this.timespan?(this.finishedTrades={tradeCount:0,orderCount:0,daixiaoTradeCount:0,tradePaymentTotal:0,orderPaymentTotal:0,daixiaoPaymentTotal:0,shops:[],buyers:[]},this.getFinishedTrades(this.timespan,this.status)):"daterange"===this.timespan&&this.daterange&&(this.finishedTrades={tradeCount:0,orderCount:0,daixiaoTradeCount:0,tradePaymentTotal:0,orderPaymentTotal:0,daixiaoPaymentTotal:0,shops:[],buyers:[]},this.getFinishedTradesByDateRange())},finishedTrades:function(e){e.shops.sort(function(e,t){return t.tradeAmount-t.orderAmount-(e.tradeAmount-e.orderAmount)}),e.buyers.sort(function(e,t){return t.tradeAmount-t.orderAmount-(e.tradeAmount-e.orderAmount)})}},mounted:function(){this.colorSelections.sort(Fe),this.entrance()},computed:{},methods:{entrance:function(){var e=this;this.$store.getters.user.role?this.getFinishedTrades(this.timespan,this.status):(this.$emit("on-checkauth",this.$route.path),setTimeout(function(){e.entrance()},2e3))},getFinishedTrades:function(e,t){var a=this;this.loading=!0,this.apiItem={apiHost:"",apiService:"trades",apiAction:"profitstat",apiQuery:{}},this.apiData={mode:t,timespan:e,byshop:!0,bybuyer:!0},this.$store.dispatch("setAPIStore",this.apiItem);var r,s=this.$store.getters.apiUrl;return new n.a((r=v()(m.a.mark(function e(t,r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$http.post(s,a.apiData).then(function(){var e=v()(m.a.mark(function e(n){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=n.data).status?(a.$Message.error("订单列表获取失败！("+s.message+")"),a.loading=!1,r(new Error("订单列表获取失败！("+s.message+")"))):(a.$store.dispatch("setAPILastResponse",s),a.finishedTrades=s.data,a.loading=!1,t(s.data));case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){a.loading=!1,a.$store.dispatch("setAPILastResponse",e),r(e)});case 2:case"end":return e.stop()}},e,a)})),function(e,t){return r.apply(this,arguments)}))},getFinishedTradesByDateRange:function(){var e,t=this;if(this.daterange&&2===this.daterange.length){var a=this.daterange[0],r=this.daterange[1];if(!(new Date(r).getTime()-new Date(a).getTime()>5184e6)){var s=new Date(a).toISOString(),i=new Date(r).toISOString();this.loading=!0,this.apiItem={apiHost:"",apiService:"trades",apiAction:"profitstat",apiQuery:{}},this.apiData={mode:this.status,timespan:"daterange",startdate:s,enddate:i,byshop:!0,bybuyer:!0},this.$store.dispatch("setAPIStore",this.apiItem);var o=this.$store.getters.apiUrl;return new n.a((e=v()(m.a.mark(function e(a,r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(o,t.apiData).then(function(){var e=v()(m.a.mark(function e(n){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=n.data).status?(t.$Message.error("订单列表获取失败！("+s.message+")"),t.loading=!1,r(new Error("订单列表获取失败！("+s.message+")"))):(t.$store.dispatch("setAPILastResponse",s),t.finishedTrades=s.data,t.loading=!1,a(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.loading=!1,t.$store.dispatch("setAPILastResponse",e),r(e)});case 2:case"end":return e.stop()}},e,t)})),function(t,a){return e.apply(this,arguments)}))}this.$Message.error("订单列表获取失败！(统计时间跨度不能大于60天)")}}}};function Fe(e,t){return Math.random()>.5?-1:1}var He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-profit"},[e.loading?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),e._v(" "),a("RadioGroup",{attrs:{type:"button",size:"large"},model:{value:e.timespan,callback:function(t){e.timespan=t},expression:"timespan"}},[a("Radio",{attrs:{label:"today"}},[e._v("今日")]),e._v(" "),a("Radio",{attrs:{label:"monthly"}},[e._v("本月")]),e._v(" "),a("Radio",{attrs:{label:"daterange"}},[e._v("指定日期")])],1),e._v(" "),"daterange"===e.timespan?a("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"选择日期区间",confirm:"",clearable:""},on:{"on-ok":e.getFinishedTradesByDateRange},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}}):e._e(),e._v(" "),a("RadioGroup",{attrs:{type:"button",size:"large"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("Radio",{attrs:{label:"received"}},[e._v("已完成（到账利润）")]),e._v(" "),a("Radio",{attrs:{label:"shipped"}},[e._v("已发货（入账利润）")]),e._v(" "),a("Radio",{attrs:{label:"ordered"}},[e._v("已下单（实时利润）")])],1),e._v(" "),a("ul",{staticClass:"metro-ul"},[a("li",{staticClass:"quarter",style:{background:e.colorSelections[1]}},[a("span",{staticClass:"title"},[e._v("订单数：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.finishedTrades.tradeCount?e.finishedTrades.tradeCount.toLocaleString():0))])]),e._v(" "),a("li",{staticClass:"quarter",style:{background:e.colorSelections[2]}},[a("span",{staticClass:"title"},[e._v("下单数：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.finishedTrades.orderCount?e.finishedTrades.orderCount.toLocaleString():0))])]),e._v(" "),a("li",{staticClass:"quarter",style:{background:e.colorSelections[3]}},[a("span",{staticClass:"title"},[e._v("代销订单数：")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.finishedTrades.daixiaoTradeCount?e.finishedTrades.daixiaoTradeCount.toLocaleString():0))])]),e._v(" "),a("li",{staticClass:"quarter",style:{background:e.colorSelections[4]}},[a("span",{staticClass:"title"},[e._v("代销金额：")]),e._v(" "),a("span",{staticClass:"num"},[e._v("¥"+e._s(e.finishedTrades.daixiaoPaymentTotal?e.finishedTrades.daixiaoPaymentTotal.toLocaleString():0))])])]),e._v(" "),a("ul",{staticClass:"metro-ul"},[a("li",{staticClass:"quarter",style:{background:e.colorSelections[0]}},[a("span",{staticClass:"title"},[e._v("收入：")]),e._v(" "),a("span",{staticClass:"num"},[e._v("¥"+e._s(e.finishedTrades.tradePaymentTotal?(e.finishedTrades.tradePaymentTotal-e.finishedTrades.daixiaoPaymentTotal).toLocaleString():0))])]),e._v(" "),a("li",{staticClass:"quarter",style:{background:e.colorSelections[6]}},[a("span",{staticClass:"title"},[e._v("支出：")]),e._v(" "),a("span",{staticClass:"num"},[e._v("¥"+e._s(e.finishedTrades.orderPaymentTotal?e.finishedTrades.orderPaymentTotal.toLocaleString():0))])]),e._v(" "),a("li",{staticClass:"half",style:{background:e.colorSelections[5]}},[a("span",{staticClass:"title"},[e._v("利润总额：")]),e._v(" "),a("span",{staticClass:"num"},[e._v("¥"+e._s(e.finishedTrades.orderPaymentTotal?(e.finishedTrades.tradePaymentTotal-e.finishedTrades.orderPaymentTotal-e.finishedTrades.daixiaoPaymentTotal).toLocaleString():0))])])]),e._v(" "),a("Collapse",{model:{value:e.showPanel,callback:function(t){e.showPanel=t},expression:"showPanel"}},[a("Panel",{attrs:{name:"1"}},[e._v("\n      店铺列表("+e._s(e.finishedTrades.shops.length)+")\n      "),a("div",{staticClass:"byshop",attrs:{slot:"content"},slot:"content"},e._l(e.finishedTrades.shops,function(t,r){return a("Card",{key:r,staticClass:"byshop-card",class:{loss:t.tradeAmount-t.orderAmount<=0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-home"}}),e._v("\n            "+e._s(t.name)+"\n          ")],1),e._v(" "),a("div",{staticClass:"card-content twin-cols"},[a("ul",[a("li",[e._v("\n                订单：\n                "),a("span",[e._v("\n                  "+e._s(t.tradeCount?t.tradeCount.toLocaleString():0)+"\n                ")])]),e._v(" "),a("li",[e._v("\n                下单：\n                "),a("span",[e._v("\n                  "+e._s(t.orderCount?t.orderCount.toLocaleString():0)+"\n                ")])]),e._v(" "),a("li",[e._v("\n                代销：\n                "),a("span",[e._v("\n                  "+e._s(t.daixiaoCount?t.daixiaoCount.toLocaleString():0)+"\n                ")])]),e._v(" "),a("li",[e._v("\n                代销额：\n                "),a("span",[e._v("\n                  "+e._s(t.daixiaoAmount?t.daixiaoAmount.toLocaleString():0)+"元\n                ")])])]),e._v(" "),a("ul",[a("li",[e._v("\n                收入：\n                "),a("span",[e._v("\n                  "+e._s(t.tradeAmount?(t.tradeAmount-t.daixiaoAmount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                单均收入：\n                "),a("span",[e._v("\n                  "+e._s(t.tradeCount?(t.tradeAmount/t.tradeCount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                支出：\n                "),a("span",[e._v("\n                  "+e._s(t.orderAmount?t.orderAmount.toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                利润：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount-t.daixiaoAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?(t.tradeAmount-t.orderAmount-t.daixiaoAmount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                单均损益：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount-t.daixiaoAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?((t.tradeAmount-t.orderAmount-t.daixiaoAmount)/t.tradeCount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                利润率：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount-t.daixiaoAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?((t.tradeAmount-t.orderAmount-t.daixiaoAmount)/t.tradeAmount*100).toFixed(1):0)+"%\n                ")])])])])])}))]),e._v(" "),a("Panel",{attrs:{name:"2"}},[e._v("\n      买手列表("+e._s(e.finishedTrades.buyers.length)+")\n      "),a("div",{staticClass:"bybuyer",attrs:{slot:"content"},slot:"content"},e._l(e.finishedTrades.buyers,function(t,r){return a("Card",{key:r,staticClass:"bybuyer-card"},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-person"}}),e._v("\n            "+e._s(t.name)+"\n            ")],1),e._v(" "),a("div",{staticClass:"card-content twin-cols"},[a("ul",[a("li",[e._v("\n                订单：\n                "),a("span",[e._v("\n                  "+e._s(t.tradeCount?t.tradeCount.toLocaleString():0)+"\n                ")])]),e._v(" "),a("li",[e._v("\n                下单：\n                "),a("span",[e._v("\n                  "+e._s(t.orderCount?t.orderCount.toLocaleString():0)+"\n                ")])])]),e._v(" "),a("ul",[a("li",[e._v("\n                收入：\n                "),a("span",[e._v("\n                  "+e._s(t.tradeAmount?t.tradeAmount.toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                支出：\n                "),a("span",[e._v("\n                  "+e._s(t.orderAmount?t.orderAmount.toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                利润：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?(t.tradeAmount-t.orderAmount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                单均损益：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?((t.tradeAmount-t.orderAmount)/t.tradeCount).toLocaleString():0)+"元\n                ")])]),e._v(" "),a("li",[e._v("\n                利润率：\n                "),a("span",{style:{color:t.tradeAmount-t.orderAmount>0?"#19be6b":"#ff4f4f"}},[e._v("\n                  "+e._s(t.tradeAmount?((t.tradeAmount-t.orderAmount)/t.tradeAmount*100).toFixed(1):0)+"%\n                ")])])])])])}))])],1),e._v(" "),a("Modal",{attrs:{title:"买手详情",width:"80%"},on:{"on-ok":function(t){e.buyerDetailModal=!1,e.buyerDetail=null}},model:{value:e.buyerDetailModal,callback:function(t){e.buyerDetailModal=t},expression:"buyerDetailModal"}},[e.buyerDetail?a("Table",{attrs:{stripe:"",columns:e.buyerDetailColumns,data:e.buyerDetail}}):e._e()],1)],1)},staticRenderFns:[]};var Ne=a("VU/8")(We,He,!1,function(e){a("NMD+")},"data-v-046145bb",null).exports,ze=a("N8lE"),Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loss-analysis"},[a("div",{staticClass:"box-tools pull-left"},[a("RadioGroup",{attrs:{type:"button"},model:{value:e.timespan,callback:function(t){e.timespan=t},expression:"timespan"}},[a("Radio",{attrs:{label:"today"}},[e._v("今日")]),e._v(" "),a("Radio",{attrs:{label:"monthly"}},[e._v("本月")]),e._v(" "),a("Radio",{attrs:{label:"yearly"}},[e._v("年度")]),e._v(" "),a("Radio",{attrs:{label:"daterange"}},[e._v("指定日期")])],1),e._v(" "),"daterange"===e.timespan?a("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"选择日期区间",confirm:"",clearable:""},on:{"on-ok":e.refreshList},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}}):e._e(),e._v("\n    最小利润："),a("InputNumber",{attrs:{placeholder:"最小利润"},model:{value:e.profitStart,callback:function(t){e.profitStart=t},expression:"profitStart"}}),e._v("\n    最大利润："),a("InputNumber",{attrs:{placeholder:"最大利润"},model:{value:e.profitEnd,callback:function(t){e.profitEnd=t},expression:"profitEnd"}})],1),e._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("Button-group",[a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")]),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-cloud-download-outline"},on:{click:e.exportData}},[e._v("导出")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage},on:{"on-sort-change":e.sortTable}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data.length,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])],1)},staticRenderFns:[]};var je=function(e){a("PDrA")},qe=a("VU/8")(ze.a,Ge,!1,je,"data-v-b94d8a0e",null).exports,Qe=a("+5kl"),Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buyer-report"},[a("div",{staticClass:"box-tools pull-left"},[a("RadioGroup",{attrs:{type:"button"},model:{value:e.timespan,callback:function(t){e.timespan=t},expression:"timespan"}},[a("Radio",{attrs:{label:"today"}},[e._v("今日")]),e._v(" "),a("Radio",{attrs:{label:"monthly"}},[e._v("本月")]),e._v(" "),a("Radio",{attrs:{label:"daterange"}},[e._v("指定日期")])],1),e._v(" "),"daterange"===e.timespan?a("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"选择日期区间",confirm:"",clearable:""},on:{"on-ok":e.refreshList},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}}):e._e()],1),e._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("Button-group",[a("Button",{attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.refreshList}},[e._v("刷新")]),e._v(" "),a("Button",{attrs:{type:"ghost",icon:"ios-cloud-download-outline"},on:{click:e.exportData}},[e._v("导出")])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{stripe:"",loading:e.loading,height:e.tableHeight,columns:e.columns,data:e.dataViewPage},on:{"on-sort-change":e.sortTable}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalCount,"page-size-opts":[10,20,50,100],current:e.pageCurrent,"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])],1)},staticRenderFns:[]};var Ye=function(e){a("Okr8")},Xe=a("VU/8")(Qe.a,Ve,!1,Ye,"data-v-015e12a0",null).exports,Ze={data:function(){return{begin:!1,result:"",curPage:1,pageSize:1e3,pageIdx:1,lastId:"",query:""}},methods:{start:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.begin=!0,t.next=3,e.startProc();case 3:case"end":return t.stop()}},t,e)}))()},stop:function(){this.begin=!1},startProc:function(){var e=this;return v()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.begin){t.next=3;break}return t.next=3,e.update(e.curPage).then(function(){return e.pageIdx++,e.curPage=1,e.startProc()}).catch(function(t){e.begin=!1,console.log(t)});case 3:case"end":return t.stop()}},t,e)}))()},update:function(e){var t=this;return this.result+="第"+this.pageIdx+"页，开始...",new n.a(function(a,r){t.apiItem={apiHost:"",apiService:"sys",apiAction:"syncstatbatch",apiQuery:{}},t.apiData={page:e,pagesize:t.pageSize,last_id:t.lastId,query:t.query?JSON.parse(t.query):{}},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl;t.$http.post(n,t.apiData).then(function(e){"ok"===e.data.status?(t.result+="【成功】总量"+e.data.data.total_count+"，成功"+e.data.data.suc_count+"，失败"+e.data.data.err_count+"\r\n",t.lastId=e.data.data.last_id,a()):(t.result+="【失败】原因"+e.data.message+"\r\n",r(new Error(e.data.message)))}).catch(function(e){t.result+="【失败】原因"+e.message+"\r\n",r(e)})})}}},Je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"update"},[a("Button",{attrs:{type:"success",disabled:e.begin},on:{click:e.start}},[e._v("开始")]),e._v(" "),a("Button",{attrs:{type:"error",disabled:!e.begin},on:{click:e.stop}},[e._v("停止")]),e._v("\n  lastId:"),a("Input",{model:{value:e.lastId,callback:function(t){e.lastId=t},expression:"lastId"}}),e._v("\n  pageSize:"),a("Input",{model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),e._v("\n  page:"),a("Input",{model:{value:e.pageIdx,callback:function(t){e.pageIdx=t},expression:"pageIdx"}}),e._v("\n  query:"),a("Input",{model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),a("Input",{attrs:{type:"textarea",autosize:{minRows:8}},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1)},staticRenderFns:[]},et=a("VU/8")(Ze,Je,!1,null,null,null).exports;s.default.use(_.a);var tt=new _.a({routes:[{path:"/",name:"layout",component:S,children:[{path:"/monitor",name:"monitor",component:K},{path:"/trades",name:"trade-list",component:Z},{path:"/trades/query/:status",name:"trade-list",component:Z},{path:"/delivery",name:"trade-deliver",component:ne},{path:"/today",name:"stat-today",component:ce},{path:"/buyer-settings",name:"buyer-settings",component:le},{path:"/buyers",name:"buyers",component:be},{path:"/shops",name:"shops",component:ve},{path:"/groups",name:"groups",component:De},{path:"/daifa",name:"daifa",component:Pe},{path:"/users",name:"users",component:Re},{path:"/blacklistshops",name:"blacklist-shops",component:Le},{path:"/boughthistory",name:"bought-history-list",component:Ke},{path:"/trades/import",name:"import-trades",component:te},{path:"/reports/profit",name:"report-profit",component:Ne},{path:"/reports/lossanalysis",name:"loss-analysis",component:qe},{path:"/reports/buyerreport",name:"buyer-report",component:Xe}]},{path:"/login",name:"login",component:G},{path:"/loggedin",name:"loggedin",component:H},{path:"/logout",name:"logout",component:Q},{path:"/update",name:"update",component:et}]}),at=a("mtWM"),rt=a.n(at),nt=a("BTaQ"),st=a.n(nt),it=(a("+skl"),{state:{sysConfigs:{localUrl:"",isExtension:!0},tbCookies:[]},mutations:{SET_SYS_STORE:function(e,t){e.sysConfigs=f()(e.sysConfigs,t)},SET_SYS_LOCAL_URL:function(e,t){e.sysConfigs.localUrl=t},SET_SYS_ISEXTENSION:function(e,t){e.sysConfigs.isExtension=t},SET_TBCOOKIES:function(e,t){e.tbCookies=t}},actions:{setSysStore:function(e,t){(0,e.commit)("SET_SYS_STORE",t)},setSysLocalUrl:function(e,t){(0,e.commit)("SET_SYS_LOCAL_URL",t)},setSysIsExtension:function(e,t){(0,e.commit)("SET_SYS_ISEXTENSION",t)},setTBCookies:function(e,t){(0,e.commit)("SET_TBCOOKIES",t)}},getters:{sysConfigs:function(e){return e.sysConfigs},sysLocalUrl:function(e){return e.sysConfigs.localUrl},sysIsExtension:function(e){return e.sysConfigs.isExtension},tbCookies:function(e){return e.tbCookies},tbNick:function(e){try{var t=e.tbCookies.filter(function(e){return"tracknick"===e.name})[0];return D.a.decodeUnicode(decodeURI(t.value))}catch(e){return""}}}});var ot={token:"",apiHost:"http://"+"read-trade.wgkyz.com"+"/api/",apiService:"",apiAction:"",apiQuery:{},apiLastResponse:{}},ct={state:{token:"",apiHost:"http://localhost/api",apiService:"",apiAction:"",apiQuery:{},apiLastResponse:{}},mutations:{SET_API_HOST:function(e,t){e.apiHost=t},SET_API_SERVICE:function(e,t){e.apiService=t},SET_API_ACTION:function(e,t){e.apiAction=t},SET_API_QUERY:function(e,t){e.apiQuery=t},SET_API_LAST_RESPONSE:function(e,t){e.apiLastResponse=t},SET_API_URL:function(e,t){t.apiHost&&(e.apiHost=t.apiHost),e.apiService=t.apiService,e.apiAction=t.apiAction,e.apiQuery=t.apiQuery,e.apiLastResponse=t.apiLastResponse},SET_TOKEN:function(e,t){e.token=t}},actions:{setAPIStore:function(e,t){var a=e.commit;a("SET_API_URL",ot),a("SET_API_URL",t)},setAPIService:function(e,t){(0,e.commit)("SET_API_SERVICE",t)},setAPIAction:function(e,t){(0,e.commit)("SET_API_ACTION",t)},setAPIQuery:function(e,t){(0,e.commit)("SET_API_QUERY",t)},setAPILastResponse:function(e,t){(0,e.commit)("SET_API_LAST_RESPONSE",t)},setToken:function(e,t){(0,e.commit)("SET_TOKEN",t)}},getters:{apiUrl:function(e){var t="";if(e.apiQuery){for(var a in t="?",e.apiQuery)t+=a,t+="=",t+=e.apiQuery[a],t+="&";t=t.substring(0,t.length-1)}return e.apiHost+e.apiService+"/"+e.apiAction+t},apiLastResponse:function(e){return e.apiLastResponse},token:function(e){return e.token}}};s.default.use(i.a),s.default.use(st.a),s.default.prototype.$http=rt.a,rt.a.defaults.withCredentials=!0,rt.a.interceptors.request.use(function(e){return st.a.LoadingBar.start(),e},function(e){return n.a.reject(e)}),rt.a.interceptors.response.use(function(e){return st.a.LoadingBar.finish(),e},function(e){if(e.response)switch(st.a.LoadingBar.error(),e.response.status){case 401:tt.push({path:"/login"}),st.a.Notice.error({title:"您还未登录，请先登录",desc:""});break;case 403:case 406:st.a.Notice.error({title:"您没有访问该资源的权限！",desc:""}),tt.back()}return n.a.reject(e.response&&e.response.data?e.response.data:e)}),s.default.config.productionTip=!1,tt.beforeEach(function(e,t,a){a()}),tt.afterEach(function(){window.scrollTo(0,0)});var _t=new i.a.Store({modules:{SysStore:it,APIStore:ct,UserStore:{state:{user:{userid:"",tao11id:"",name:"",role:"",group:0,session:"",token:"",tracelogisticsEnable:!1,defaultBuyerMessage:"",defaultMemoFlag:0}},mutations:{SET_USER_STORE:function(e,t){e.user={userid:t.id,tao11id:t.user_id,name:t.name,role:t.role,group:t.group,session:t.session,token:t.token,tracelogisticsEnable:t.tracelogistics_enable||!1,defaultBuyerMessage:t.defaultbuyermessage||"",defaultMemoFlag:t.defaultmemoflag||0}},SET_TRACE_LOGISTICS_ENABLE:function(e,t){e.user.tracelogisticsEnable=t},SET_DEFAULT_BUYER_MESSAGE:function(e,t){e.user.defaultBuyerMessage=t},SET_DEFAULT_MEMO_FLAG:function(e,t){e.user.defaultMemoFlag=t}},actions:{setUserStore:function(e,t){(0,e.commit)("SET_USER_STORE",t)},setTraceLogisticsEnable:function(e,t){(0,e.commit)("SET_TRACE_LOGISTICS_ENABLE",t)},setDefaultBuyerMessage:function(e,t){(0,e.commit)("SET_DEFAULT_BUYER_MESSAGE",t)},setDefaultMemoFlag:function(e,t){(0,e.commit)("SET_DEFAULT_MEMO_FLAG",t)}},getters:{user:function(e){return e.user},userid:function(e){return e.user.userid},session:function(e){return e.user.session},defaultBuyerMessage:function(e){return e.user.defaultBuyerMessage},defaultMemoFlag:function(e){return e.user.defaultMemoFlag}}},MessageStore:{state:{newMessages:[]},mutations:{SET_MESSAGE_STORE:function(e,t){e.newMessages=t},SET_MESSAGE_READ:function(e,t){var a=e.newMessages.filter(function(e){return e.Id===t})[0];if(a){var r=e.newMessages.indexOf(a);e.newMessages.splice(r,1)}}},actions:{setMessageStore:function(e,t){(0,e.commit)("SET_MESSAGE_STORE",t)},setMessageRead:function(e,t){(0,e.commit)("SET_MESSAGE_READ",t.Id)}},getters:{newMessages:function(e){return e.newMessages}}},OrderStore:{state:{orderInfo:{numiid:null,tradeid:null,sellernick:null,tid:null,oid:null,receiver:null,addressAdded:!1,buyerMessage:null},orderBought:{tradeid:null,tid:null,oid:null,num:1,buyer:"",buyerTid:null,buyerOid:null,buyerFee:0,buyUrl:"",buyerPostFee:0}},mutations:{SET_ORDER_INFO:function(e,t){e.orderInfo=t},CLEAR_ORDER_INFO:function(e){e.orderInfo={numiid:null,tradeid:null,tid:null,oid:null,receiver:null,addressAdded:!1,buyerMessage:null}},SET_ORDER_BOUGHT:function(e,t){e.orderBought=t},CLEAR_ORDER_BOUGHT:function(e){e.orderBought={tradeid:null,tid:null,oid:null,num:1,buyer:"",buyerTid:null,buyerOid:null,buyerFee:0,buyUrl:"",buyerPostFee:0}},SET_ORDER_RECEIVER:function(e,t){e.orderInfo.receiver=t},SET_ORDER_ADDRESS_ADDED:function(e,t){e.orderInfo.addressAdded=t}},actions:{setOrderInfo:function(e,t){(0,e.commit)("SET_ORDER_INFO",t)},clearOrderInfo:function(e){(0,e.commit)("CLEAR_ORDER_INFO")},setOrderBought:function(e,t){(0,e.commit)("SET_ORDER_BOUGHT",t)},clearOrderBought:function(e,t){(0,e.commit)("CLEAR_ORDER_BOUGHT",t)},setOrderInfoReceiver:function(e,t){(0,e.commit)("SET_ORDER_RECEIVER",t)},setOrderInfoAddressAdded:function(e,t){(0,e.commit)("SET_ORDER_ADDRESS_ADDED",t)}},getters:{orderInfo:function(e){return e.orderInfo},orderBought:function(e){return e.orderBought},orderReceiver:function(e){return e.orderInfo.receiver},orderAddressAdded:function(e){return e.orderInfo.addressAdded}}}}});new s.default({el:"#app",router:tt,store:_t,components:{App:c},template:"<App/>"})},"NMD+":function(e,t){},ONze:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"blacklist-shops",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"blacklistshops",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"ID",key:"id",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.id)}},{title:"店铺名称",key:"name",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"原因备注",key:"reason",ellipsis:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.reason)}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.newModal=!0,e.newModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r,n}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},newModal:!1,newModel:{name:"",reason:"",group:1},ruleValidate:{name:[{required:!0,message:"请填写名称",trigger:"blur"}]},deleteModal:!1,deleteModel:{id:null,name:""}}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"shops",apiAction:"getblacklist",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}},t,e)}))()},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"shops",apiAction:"addblacklist",apiQuery:{}},e.apiData={name:e.newModel.name,reason:e.newModel.reason,group:e.$store.getters.user.group},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("黑名单店铺新增失败！("+s.message+")"),n(new Error("黑名单店铺新增失败！("+s.message+")"))):(e.$Message.success("黑名单店铺新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"shops",apiAction:"deleteblacklist",apiQuery:{}},this.apiData={id:this.deleteModel.id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("店铺删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))}}}},OdR1:function(e,t){},Okr8:function(e,t){},PDrA:function(e,t){},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},QZj9:function(e,t){},UoiY:function(e,t){},Up6M:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"daifa",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"groups",apiAction:"listall",apiQuery:{}},apiData:{},columns:[{title:"ID",key:"id",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.id)}},{title:"商品ID",key:"num_iid",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.num_iid)}},{title:"店群ID",key:"group",sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.group)}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},newModal:!1,newModel:{numIid:""},ruleValidate:{numIid:[{required:!0,message:"请填写商品ID",trigger:"blur"}]},deleteModal:!1,deleteModel:{id:null,num_iid:""}}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"getblacklist",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}},t,e)}))()},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"trades",apiAction:"addblacklist",apiQuery:{}},e.apiData={num_iid:e.newModel.numIid},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("新增失败！("+s.message+")"),n(new Error("新增失败！("+s.message+")"))):(e.$Message.success("新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"trades",apiAction:"deleteblacklist",apiQuery:{}},this.apiData={num_iid:this.deleteModel.num_iid},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))}}}},YFf5:function(e,t){},Zbwj:function(e,t){},"cv+H":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"groups",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"groups",apiAction:"listall",apiQuery:{}},apiData:{},columns:[{title:"ID",key:"id",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.id)}},{title:"店群名称",key:"name",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"店群ID",key:"group",sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.group)}},{title:"离线发货",key:"offline_deliver",sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("Tag",{props:{type:"border",color:t.row.offline_deliver?new Date(t.row.offline_deliver).getTime()-(new Date).getTime()>0?"green":"red":"default"}},t.row.offline_deliver?(new Date(t.row.offline_deliver).getTime(),(new Date).getTime(),new Date(t.row.offline_deliver).toLocaleDateString()):"未授权")}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.editModal=!0,e.editModel={id:a.row.id,name:a.row.name,group:a.row.group,offline_deliver:new Date(a.row.offline_deliver)};case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r,n}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},newModal:!1,newModel:{name:"",offline_deliver:null,group:null},editModal:!1,editModel:{id:null,name:"",group:null,offline_deliver:null},ruleValidate:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],group:[{required:!0,message:"请填写店铺号码",trigger:"blur",type:"number"}]},deleteModal:!1,deleteModel:{id:null,name:""}}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"groups",apiAction:"listall",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}},t,e)}))()},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"groups",apiAction:"add",apiQuery:{}},e.apiData={name:e.newModel.name,group:e.newModel.group},e.newModel.offline_deliver&&(e.apiData.offline_deliver=new Date(e.newModel.offline_deliver).getTime()),e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("新增失败！("+s.message+")"),n(new Error("新增失败！("+s.message+")"))):(e.$Message.success("新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"groups",apiAction:"edit",apiQuery:{}},e.apiData={id:e.editModel.id,name:e.editModel.name,group:e.editModel.group},e.editModel.offline_deliver&&(e.apiData.offline_deliver=new Date(e.editModel.offline_deliver).getTime()),e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("修改失败！("+s.message+")"),n(new Error("修改失败！("+s.message+")"))):(e.$Message.success("店铺修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.editModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"groups",apiAction:"delete",apiQuery:{}},this.apiData={id:this.deleteModel.id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("店铺删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))}}}},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},"i/Ln":function(e,t){},"iy/N":function(e,t){},kruO:function(e,t){},l0v7:function(e,t){},"qcz/":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_6__static_common__=__webpack_require__("3/QO"),__WEBPACK_IMPORTED_MODULE_6__static_common___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__static_common__);__webpack_exports__.a={name:"trade-list",props:["orderFinished","orderFailed","logisUpdateItem","shopList","addressList","searchByTid"],data:function(){return{apiItem:{apiHost:"",apiService:"trades",apiAction:"list",apiQuery:{}},apiData:{},spinShow:!1,columns:[],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,totalCount:0,keyword:"",searchBy:"",searchMode:!0,tableSearchOn:!0,filterTradeStatus:null,filterOrderStatus:null,filterShop:null,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},provList:[],cityList:[],areaList:[],townList:[],seller_flag:3,buyingItem:null,buyingModal:!1,dismissModal:!1,dismissModel:{reason:"",other:""},dismissValidate:{reason:[{required:!0,message:"原因不能为空",trigger:"change"}]},sub:null,resignModal:!1,resignModel:{reason:"",other:""},resignValidate:{reason:[{required:!0,message:"原因不能为空",trigger:"change"}]},assignModal:!1,assignModel:{tradeid:"",buyerid:""},assignValidate:{buyerid:[{required:!0,message:"买手不能为空",trigger:"blur"}]},buyerSelectList:[],tradeOperationHistory:[],assignableTradesTotal:0,notificationId:null,shopSelectList:null,lastTradeStatusCheckTime:null,joinModal:!1,joinModel:{tradeid:null,tid:null,oid:null,buyer:"",buyerTid:null,buyerOid:null,buyerFee:0,buyUrl:"",buyerPostFee:0},joinValidate:{tradeid:[{required:!0,message:"订单序号不能为空",trigger:"blur"}],tid:[{required:!0,message:"主订单编号不能为空",trigger:"blur"}],oid:[{required:!0,message:"子订单编号不能为空",trigger:"blur"}],buyer:[{required:!0,message:"买手旺旺不能为空",trigger:"blur"}],buyerTid:[{required:!0,message:"下单单号不能为空",trigger:"blur"}],buyerFee:[{type:"number",required:!0,message:"订单金额不能为空",trigger:"blur"}],buyUrl:[{required:!0,message:"下单商品链接不能为空",trigger:"blur"}],buyerPostFee:[{type:"number",required:!0,message:"下单邮费不能为空",trigger:"blur"}]},editReceiverMobile:!1,editReceiverMobileModel:{receiverMobile:"",receiverPhone:""},editBuyerMessage:!1,editBuyerMessageModel:""}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path),this.initTableColumns()},mounted:function(){var e,t=this;this.syncShopList(),this.searchByTid&&(this.searchBy="tid_str",this.keyword=this.searchByTid,this.searchRemote()),this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight(),"ASSIGNED"===t.$route.params.status?t.getAssignableTrades():t.$route.params.status;case 7:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.dataViewPage=this.data;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initTableColumns(),this.refreshList();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initTableColumns(),this.refreshList();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),searchByTid:function(e){e&&(this.searchBy="tid_str",this.keyword=this.searchByTid,this.searchRemote())},filterTradeStatus:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.initTableColumns(),this.refreshList());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),filterOrderStatus:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.initTableColumns(),this.refreshList());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),filterShop:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.initTableColumns(),this.refreshList());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),shopList:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.columns.filter(function(e){return"店铺"===e.title})[0].filters=t.map(function(e){return{label:e.name,value:e.id}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),detailedItem:{handler:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t,a){var r=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=13;break}if(t.buyer_nick_decrypted){e.next=4;break}return e.next=4,this.updateDecrypted(t);case 4:if(t.receiver_address_sync){e.next=7;break}return e.next=7,this.getReceiverAddress(t._id,t.tid_str,t.seller_nick).then(function(e){t=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default()(t,e)});case 7:if(this.lastTradeStatusCheckTime=null,!(["UNASSIGNED","ASSIGNED","PARTLY_ORDERED"].indexOf(t.order_status)>-1)){e.next=11;break}return e.next=11,this.syncTradeStatus(this.detailedItem.tid_str).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.lastTradeStatusCheckTime=(new Date).getTime(),!(["WAIT_SELLER_SEND_GOODS","SELLER_CONSIGNED_PART"].indexOf(t.status)<0)){e.next=7;break}return r.$Modal.error({title:"无法下单！",content:"订单状态错误！请检查核实"}),r.resignModel={reason:"状态同步出错",other:t.status},e.next=6,Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.sleepES6)(500);case 6:r.doResign();case 7:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r.$Message.error("同步订单失败！("+e.message+")")});case 11:this.prepareTradeOperationHistory(t),t.orders.order.forEach(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.history_purchase){e.next=3;break}return e.next=3,r.getHistoryPurchase(t.num_iid).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){var n,s,i;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a.sort(function(e,t){return e.buyer_fee-t.buyer_fee}),s=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(e,r){try{var s=a[t],i=n.filter(function(e){return e.buyer_fee===s.buyer_fee&&e.post_fee===s.post_fee&&e.num===s.num});i.length?i[0].times+=1:(s.times=1,n.push(s)),e()}catch(e){r(e)}}).then(function(){t++}).catch(function(e){console.log(e),t++});case 2:if(!(t>=a.length)){e.next=4;break}return e.abrupt("return","break");case 4:i=t;case 5:case"end":return e.stop()}},e,r)}),i=0;case 4:if(!(i<=a.length)){e.next=11;break}return e.delegateYield(s(i),"t0",6);case 6:if("break"!==e.t0){e.next=9;break}return e.abrupt("break",11);case 9:e.next=4;break;case 11:r.$set(t,"history_purchase",n);case 12:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e.message),r.$Message.error("历史下单获取失败！("+e.message+")")});case 3:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),deep:!0},orderFinished:function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){var a=this;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t){e.next=7;break}return console.log("order finished triggered"),e.next=5,this.updateTrade(this.$store.getters.orderBought).then(function(e){var t="ORDERED";e.ordered.filter(function(e){return!e.dismiss}).length!==e.orders.order.length&&(t="PARTLY_ORDERED"),a.$set(e,"ordered",e.ordered),a.$set(e,"order_status",t),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default()(a.detailedItem,e),a.$emit("on-addorderbuyermessage",a.$store.getters.orderBought.buyerTid);var r=e.seller_memo?e.seller_memo+":"+a.$store.getters.orderInfo.tid:a.$store.getters.orderInfo.sellernick+":"+a.$store.getters.orderInfo.tid;a.$emit("on-addordermemo",a.$store.getters.orderBought.buyerTid,r),a.$Message.success("一键下单成功!"),window.chrome.notifications.create(a.notificationId,{type:"basic",iconUrl:"./../../../static/logo.png",title:"一键下单成功",message:a.$store.getters.orderInfo.sellernick+":"+a.$store.getters.orderInfo.tid},function(e){a.notificationId=e,setTimeout(function(){window.chrome.notifications.clear(a.notificationId)},5e3)})}).catch(function(e){console.log(e),a.$Modal.error({title:"数据上传失败，下单失败！",content:e}),window.chrome.notifications.create(a.notificationId,{type:"basic",iconUrl:"./../../../static/logo.png",title:"一键下单失败",message:e.message},function(e){a.notificationId=e,setTimeout(function(){window.chrome.notifications.clear(a.notificationId)},5e3)})});case 5:setTimeout(function(){a.$store.dispatch("clearOrderInfo"),a.$store.dispatch("clearOrderBought")},2e3),this.buyingModal=!1;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),orderFailed:function(e){e&&(this.$Modal.error({content:"下单失败，请重新下单！"}),this.$store.dispatch("clearOrderInfo"),this.$store.dispatch("clearOrderBought"),this.buyingModal=!1)},logisUpdateItem:function(e){e&&this.finishOrder(e)},"$route.params.status":function(e){this.refreshList()},sort:function(e){this.refreshList()},assignModal:function(e){e&&this.syncBuyerListByShopId(this.detailedItem.shop.id)}},computed:{checkAssignBatchDisabled:function(){return!1}},methods:{refreshList:function(){var e,t=this;this.initTableColumns(),this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1,"ASSIGNED"===t.$route.params.status&&t.getAssignableTrades();case 3:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},reset:function(){var e,t=this;this.$emit("on-searchbytid",""),this.searchBy="",this.keyword="",this.tableSearchOn=!1,this.filterTradeStatus=null,this.filterOrderStatus=null,this.filterShop=null,this.sort=null,this.searchModel=null,this.pageCurrent=1,this.pageSize=10,this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,"ASSIGNED"===t.$route.params.status&&t.getAssignableTrades();case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"listnew",apiQuery:{}},e.apiData={},e.$route.params.status&&("ORDEREDALL"===e.$route.params.status?e.apiData.order_status={$in:["ORDERED","PARTLY_ORDERED"]}:"FINISHEDALL"===e.$route.params.status?e.apiData.order_status={$in:["FINISHED","PARTLY_FINISHED"]}:e.apiData.order_status=e.$route.params.status),e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.filterTradeStatus&&e.filterTradeStatus.length&&(e.apiData.status={$in:e.filterTradeStatus}),e.filterOrderStatus&&e.filterOrderStatus.length&&(e.apiData.order_status={$in:e.filterOrderStatus}),e.filterShop&&e.filterShop.length&&(e.apiData.shops={$in:e.filterShop}),e.apiData.limit$=e.pageSize,e.apiData.skip$=e.pageSize*(e.pageCurrent-1),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data.datalist,e.data=s.data.datalist,e.totalCount=s.data.total_count,r(s.data.datalist));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 14:case"end":return t.stop()}},t,e)}))()},initTableColumns:function(){var e=this;this.columns=[{title:"订单编号",key:"tid_str",width:160,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")}},{title:"状态",key:"order_status",width:100,ellipsis:!0,filters:[{label:"未指派",value:"UNASSIGNED"},{label:"已派单",value:"ASSIGNED"},{label:"已撤销",value:"RESIGNED"},{label:"已下单",value:"ORDERED"},{label:"部分下单",value:"PARTLY_ORDERED"},{label:"部分完成",value:"PARTLY_FINISHED"},{label:"已完成",value:"FINISHED"}],filterMultiple:!0,filterRemote:function(t,a){e.filterOrderStatus=t},render:function(t,a){return t("Tag",{props:{color:e.getOrderStatusColor(a.row.order_status)}},e.getOrderStatus(a.row.order_status))}},{title:"原始订单状态",key:"status",width:120,ellipsis:!0,filters:[{label:"待付款",value:"WAIT_BUYER_PAY"},{label:"待发货",value:"WAIT_SELLER_SEND_GOODS"},{label:"已发货",value:"WAIT_BUYER_CONFIRM_GOODS"},{label:"已完成",value:"TRADE_FINISHED"},{label:"用户退款",value:"TRADE_CLOSED"},{label:"交易关闭",value:"TRADE_CLOSED_BY_TAOBAO"}],filterMultiple:!0,filterRemote:function(t,a){e.filterTradeStatus=t},render:function(t,a){return t("Tag",{props:{type:"border",color:e.getTradeStatusColor(a.row.status)}},e.getTradeStatus(a.row.status))}},{title:"店铺",key:"shop",width:160,subKey:"name",ellipsis:!0,filters:this.shopList.map(function(e){return{label:e.name,value:e.id}}),filterMultiple:!0,filterRemote:function(t,a){e.filterShop=t},sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.shop.name)}},{title:"商品标题",key:"orders",ellipsis:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.orders.order[0].title)}},{title:"订单金额",key:"total_fee",width:120,ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},"¥"+t.row.total_fee)}},{title:"订单时间",key:"created",width:120,ellipsis:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?new Date(e)-new Date(t):new Date(t)-new Date(e)},render:function(t,a){return t("span",{},e.getDateTimeDiff(a.row.created))}},{title:"派单时间",key:"assignbuyer",width:120,ellipsis:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?new Date(e)-new Date(t):new Date(t)-new Date(e)},render:function(t,a){return t("span",{},a.row.last_assignbuyer?e.getDateTimeDiff(a.row.last_assignbuyer.time):"")}},{title:"买家淘宝",key:"buyer_nick_decrypted",width:160,ellipsis:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.buyer_nick_decrypted||"待加载...")}},{title:"买家电话",key:"receiver_mobile",width:120,ellipsis:!0,searchable:!0},{title:"操作",key:"action",fixed:"right",width:120,render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:function(){e.detailed=!0,e.detailedItem=a.row}}},"详情")])}}],"ASSIGNED"===this.$route.params.status?(this.columns.splice(4,1),this.columns.splice(1,0,{title:"分配给",key:"last_assignbuyer",width:120,ellipsis:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.last_assignbuyer?t.row.last_assignbuyer.name:"")}}),this.columns.splice(2,0,{title:"拍单",key:"orders",width:80,subKey:"name",ellipsis:!0,render:function(e,t){return e("span",{},(t.row.ordered?t.row.ordered.filter(function(e){return!e.dismiss}):[]).length+"/"+t.row.orders.order.length)}}),this.columns.splice(9,0,{title:"收货人",key:"receiver_name",width:80,ellipsis:!0,searchable:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.receiver_name)}})):"RESIGNED"===this.$route.params.status?(this.columns.splice(2,0,{title:"原因",key:"resigned",width:120,ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){var a=t.row.resigned?t.row.resigned[t.row.resigned.length-1]:null;return e("span",{},a?a.reason:"")}}),this.columns.splice(9,0,{title:"收货人",key:"receiver_name",width:80,ellipsis:!0,searchable:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.receiver_name)}})):["ORDEREDALL","ORDERED","PARTLY_ORDERED","FINISHEDALL","FINISHED","PARTLY_FINISHED"].indexOf(this.$route.params.status)>-1&&(this.columns.splice(3,0,{title:"收款",key:"payment",width:120,ellipsis:!0,render:function(e,t){return e("span",{},parseFloat(t.row.payment).toFixed(2))}}),this.columns.splice(4,0,{title:"利润",key:"ordered",width:120,ellipsis:!0,render:function(e,t){var a=0;t.row.ordered.filter(function(e){return!e.dismiss}).forEach(function(e){a+=e.buyer_fee/100});var r=(parseFloat(t.row.payment)-a).toFixed(2);return e("span",{style:{color:r>0?"forestgreen":"red"}},r)}}),this.columns.splice(10,0,{title:"收货人",key:"receiver_name",width:80,ellipsis:!0,searchable:!0,sortable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.receiver_name)}}))},sortTable:function(e){this.sort=e},updateHistoryPurchase:function(){var e=this;this.data.forEach(function(t){var a;t.orders.order.forEach((a=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getHistoryPurchase(a.num_iid).then(function(t){t.sort(function(e,t){return e.buyer_fee-t.buyer_fee}),e.$set(a,"history_purchase",t)}).catch(function(t){console.log(t.message),e.$Message.error("历史下单获取失败！("+t.message+")")});case 2:case"end":return t.stop()}},t,e)})),function(e){return a.apply(this,arguments)}))})},updateDecrypted:function(e){var t,a=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=9;break}if(s="",e.buyer_nick_decrypted){t.next=7;break}return t.next=6,a.decryptCipher(e._id,e.seller_nick,e.buyer_nick).then(function(e){s=e}).catch(function(e){throw e});case 6:a.$set(e,"buyer_nick_decrypted",s);case 7:t.next=10;break;case 9:a.data.forEach(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t,r){var n;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",t.buyer_nick_decrypted){e.next=5;break}return e.next=4,a.decryptCipher(t._id,t.seller_nick,t.buyer_nick).then(function(e){n=e}).catch(function(e){throw e});case 4:a.$set(t,"buyer_nick_decrypted",n);case 5:case"end":return e.stop()}},e,a)}));return function(t,a){return e.apply(this,arguments)}}());case 10:r(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(t.t0);case 16:case"end":return t.stop()}},t,a,[[0,13]])})),function(e,a){return t.apply(this,arguments)}))},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},getDateTimeDiff:function(e){var t=new Date(e),a=new Date-t;return a<=6e4?"刚刚":a<36e5?Math.floor(a/6e4)+"分前":a<864e5?Math.floor(a/36e5)+"小时前":a<2592e6?Math.floor(a/864e5)+"天前":a<31536e6?Math.floor(a/2592e6)+"月前":t.toLocaleDateString()},getTradeOrderFeesTotal:function(e){var t={fee:0,post:0};return e.ordered.filter(function(e,t){return!e.dismiss}).forEach(function(e){t.fee+=e.buyer_fee,t.post+=e.post_fee}),t},getSubOrderStatus:function(e){var t=this.detailedItem.ordered,a=e.oid_str,r=t?t.filter(function(e,t){return e.oid_str===a&&!e.dismiss}):[];return["RESIGNED"].indexOf(this.detailedItem.order_status)>-1?{color:"red",text:"已退单"}:["FINISHED"].indexOf(this.detailedItem.order_status)>-1?{color:"green",text:"已完成"}:r.length?{color:"green",text:"已下单"}:{color:"blue",text:"待下单"}},getOrderStatus:function(e){switch(e){case"UNASSIGNED":return"未指派";case"ASSIGNED":return"已派单";case"RESIGNED":return"已退单";case"PARTLY_ORDERED":return"部分下单";case"ORDERED":return"已下单";case"PARTLY_FINISHED":return"部分完成";case"FINISHED":return"已完成";default:return"未指派"}},getOrderStatusColor:function(e){switch(e){case"UNASSIGNED":return"default";case"ASSIGNED":return"yellow";case"RESIGNED":return"red";case"PARTLY_ORDERED":return"yellow";case"ORDERED":case"PARTLY_FINISHED":return"blue";case"FINISHED":return"green";default:return"default"}},getTradeStatus:function(e){switch(e){case"WAIT_BUYER_PAY":return"待支付";case"WAIT_SELLER_SEND_GOODS":return"待发货";case"WAIT_BUYER_CONFIRM_GOODS":return"已发货";case"TRADE_FINISHED":return"已完成";case"TRADE_CLOSED":return"已退款";case"TRADE_CLOSED_BY_TAOBAO":return"交易关闭";default:return e}},getTradeStatusColor:function(e){switch(e){case"WAIT_BUYER_PAY":return"default";case"WAIT_SELLER_SEND_GOODS":return"blue";case"WAIT_BUYER_CONFIRM_GOODS":return"yellow";case"TRADE_FINISHED":return"green";case"TRADE_CLOSED":return"red";case"TRADE_CLOSED_BY_TAOBAO":default:return"default"}},getRefundStatus:function(e){switch(e){case"SUCCESS":return"[退款]已退款";case"WAIT_SELLER_AGREE":return"[退款]等待卖家同意";case"WAIT_BUYER_RETURN_GOODS":return"[退款]等待买家退货";case"WAIT_SELLER_CONFIRM_GOODS":return"[退款]等待卖家确认收货";case"SELLER_REFUSE_BUYER":return"[退款]卖家拒绝退款";case"CLOSED":return"[退款]退款关闭";default:return"[退款]"+e}},getRefundStatusColor:function(e){switch(e){case"SUCCESS":return"default";case"WAIT_SELLER_AGREE":case"WAIT_BUYER_RETURN_GOODS":case"WAIT_SELLER_CONFIRM_GOODS":return"blue";case"SELLER_REFUSE_BUYER":return"red";case"CLOSED":default:return"default"}},getMemoColor:function(e){switch(e){case 0:return"#666";case 1:return"red";case 2:return"orange";case 3:return"forestgreen";case 4:return"blue";case 5:return"deeppink";default:return"#666"}},toggleDetail:function(e,t){this.detailed=!0,this.detailedItem=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this10=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this10.searchBy){if(_this10.searchBy.indexOf(".")){var thing=eval("item."+_this10.searchBy);return thing.indexOf(_this10.keyword)>=0}return item[_this10.searchBy].indexOf(_this10.keyword)>=0}for(var found=!1,_i2=0;_i2<cols.length;_i2++){var col=cols[_i2];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this10.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this10.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword?e.keyword.trim():"",e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},getHistoryPurchase:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function a(){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"trades",apiAction:"gethistoryboughts",apiQuery:{}},t.apiData={numiid:e,session:t.$store.getters.session},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(r,t.apiData).then(function(e){var r=e.data;"fail"===r.status?(t.$Message.error("历史下单获取失败！("+r.message+")"),n(new Error(r.message))):(t.$store.dispatch("setAPILastResponse",r),a(r.data))}).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return a.stop()}},a,t)}))()},decryptCipher:function(e,t,a){var r=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function n(){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.apiItem={apiHost:"",apiService:"tao11",apiAction:"decrypt",apiQuery:{}},r.apiData={tradeid:e,nick:t,cipher:a,session:r.$store.getters.session},r.$store.dispatch("setAPIStore",r.apiItem),s=r.$store.getters.apiUrl,n.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t,a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$http.post(s,r.apiData).then(function(e){var n=e.data;"fail"===n.status?(r.$Message.error("买家信息获取失败！("+n.message+")"),a(new Error(n.message))):(r.$store.dispatch("setAPILastResponse",n),t(n.data.plain))}).catch(function(e){r.$store.dispatch("setAPILastResponse",e),a(e)});case 2:case"end":return e.stop()}},e,r)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return n.stop()}},n,r)}))()},getReceiverAddress:function(e,t,a){var r=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function n(){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.apiItem={apiHost:"",apiService:"tao11",apiAction:"receiver",apiQuery:{}},r.apiData={tradeid:e,tid:t,nick:a,session:r.$store.getters.session},r.$store.dispatch("setAPIStore",r.apiItem),s=r.$store.getters.apiUrl,n.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t,a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$http.post(s,r.apiData).then(function(e){var n=e.data;"fail"===n.status?(r.$Message.error("收货人信息获取失败！("+n.message+")"),a(new Error(n.message))):(r.$store.dispatch("setAPILastResponse",n),t(n.data))}).catch(function(e){r.$store.dispatch("setAPILastResponse",e),a(e)});case 2:case"end":return e.stop()}},e,r)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return n.stop()}},n,r)}))()},setMemoModal:function(){var e,t=this;this.$Modal.confirm({render:function(e){return e("div",{},[e("Input",{props:{value:t.detailedItem.seller_memo,type:"textarea",autosize:{minRows:2,maxRows:5},autofocus:!0,placeholder:"请填写订单备注信息"},on:{input:function(e){t.detailedItem.seller_memo=e}}}),e("RadioGroup",{props:{value:t.detailedItem.seller_flag},on:{"on-change":function(e){t.detailedItem.seller_flag=e}}},[e("Radio",{props:{label:0}},[e("span",{style:{color:t.getMemoColor(0)}},"灰色")]),e("Radio",{props:{label:1}},[e("span",{style:{color:t.getMemoColor(1)}},"红色")]),e("Radio",{props:{label:2}},[e("span",{style:{color:t.getMemoColor(2)}},"黄色")]),e("Radio",{props:{label:3}},[e("span",{style:{color:t.getMemoColor(3)}},"绿色")]),e("Radio",{props:{label:4}},[e("span",{style:{color:t.getMemoColor(4)}},"蓝色")]),e("Radio",{props:{label:5}},[e("span",{style:{color:t.getMemoColor(5)}},"粉色")])])])},onOk:(e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("确认修改订单备注么？")){e.next=4;break}return e.next=4,t.setTradeMemo(t.detailedItem.tid_str,t.detailedItem.seller_memo,t.detailedItem.seller_flag).then(function(e){t.$Message.success("备注原始订单成功！")});case 4:case"end":return e.stop()}},e,t)})),function(){return e.apply(this,arguments)})})},setTradeMemo:function(e,t,a){var r=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function n(){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.apiItem={apiHost:"",apiService:"tao11",apiAction:"setmemo",apiQuery:{}},r.apiData={tid:e,memo:t,flag:a||0,session:r.$store.getters.session},r.$store.dispatch("setAPIStore",r.apiItem),s=r.$store.getters.apiUrl,n.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t,a){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$http.post(s,r.apiData).then(function(e){var n=e.data;"fail"===n.status?(r.$Message.error("备注原始订单失败！("+n.message+")"),a(new Error(n.message))):(r.$store.dispatch("setAPILastResponse",n),t(n.data))}).catch(function(e){r.$store.dispatch("setAPILastResponse",e),a(e)});case 2:case"end":return e.stop()}},e,r)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return n.stop()}},n,r)}))()},orderClick:function(e){var t=this.getSubOrderStatus(e).text;!e.is_daixiao&&"NO_REFUND"===e.refund_status&&("待下单"===t||"已退单"===t&&["god","boss"].indexOf(this.$store.getters.user.role)>-1)&&this.goBuying(e)},goDismiss:function(e){this.dismissModal=!0,this.sub=e},doDismiss:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.sub,e.$refs.dismissForm.validate(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r){var n;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=13;break}if("已下单"!==e.getSubOrderStatus(a,e.detailedItem).text){t.next=10;break}return e.apiItem={apiHost:"",apiService:"trades",apiAction:"dismiss",apiQuery:{}},e.apiData={tradeid:e.detailedItem._id||e.detailedItem.id,tid:e.detailedItem.tid_str,oid:a.oid_str,session:e.$store.getters.session,reason:e.dismissModel.reason,reason_other:e.dismissModel.other},e.$store.dispatch("setAPIStore",e.apiItem),n=e.$store.getters.apiUrl,t.next=8,e.$http.post(n,e.apiData).then(function(t){var r=t.data;if("fail"===r.status)e.$Message.error("解除订单关联失败！("+r.message+")");else{var n=e.data.filter(function(t){return t._id===e.detailedItem._id||e.detailedItem.id})[0],s={oid:a.oid_str,tid:e.detailedItem.tid_str,reason:e.dismissModel.reason,reason_other:e.dismissModel.other,name:e.$store.getters.user.name,userid:e.$store.getters.user.userid,time:(new Date).toLocaleString()};n.ordered.sort(function(e,t){return new Date(t.time)-new Date(e.time)}).filter(function(e){return e.oid_str===a.oid_str})[0].dismiss=s;var i=n.order_status,o="ASSIGNED";n.resigned&&new Date(n.resigned[n.resigned.length-1].time).getTime()-new Date(n.last_assignbuyer.time).getTime()&&(o="RESIGNED"),"ORDERED"===n.order_status?i=n.orders.order.length>1?"PARTLY_ORDERED":o:"PARTLY_ORDERED"===n.order_status&&(n.ordered.filter(function(e){return!e.dismiss}).length||(i=o)),e.$set(n,"oredered",n.ordered),e.$set(n,"order_status",i),e.detailedItem=n,e.$store.dispatch("setAPILastResponse",r),e.$Message.success("解除订单关联成功！"),e.sub=null,e.dismissModal=!1,e.dismissModel={reason:"",other:""}}}).catch(function(t){e.$store.dispatch("setAPILastResponse",t),e.$Message.error("解除订单关联失败！("+t+")")});case 8:t.next=11;break;case 10:e.$Message.error("非法操作！请检查订单状态");case 11:t.next=14;break;case 13:e.$Message.error("表单验证失败!");case 14:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,e)}))()},goResign:function(){this.resignModal=!0},doResign:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.resignForm.validate(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return e.apiItem={apiHost:"",apiService:"trades",apiAction:"resign",apiQuery:{}},e.apiData={tradeid:e.detailedItem._id||e.detailedItem.id,session:e.$store.getters.session,reason:e.resignModel.reason,reason_other:e.resignModel.other},e.$store.dispatch("setAPIStore",e.apiItem),r=e.$store.getters.apiUrl,t.next=7,e.$http.post(r,e.apiData).then(function(t){var a=t.data;if("fail"===a.status)e.$Message.error("退回订单失败！("+a.message+")");else{var r=e.data.filter(function(t){return t._id===e.detailedItem._id||e.detailedItem.id})[0],n={reason:e.resignModel.reason,reason_other:e.resignModel.other,name:e.$store.getters.user.name,userid:e.$store.getters.user.userid,time:(new Date).toLocaleString()};r.resigned?r.resigned.push(n):r.resigned=[n],e.$set(r,"resigned",r.resigned),e.$set(r,"order_status","RESIGNED"),e.detailedItem=r,e.$store.dispatch("setAPILastResponse",a),e.$Message.success("退回订单成功！"),e.resignModal=!1,e.resignModel={reason:"",other:""}}}).catch(function(t){e.$store.dispatch("setAPILastResponse",t),e.$Message.error("退回订单失败！("+t+")")});case 7:t.next=10;break;case 9:e.$Message.error("表单验证失败!");case 10:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},getShopName:function(e){if(this.shopSelectList){var t=this.shopSelectList.filter(function(t){return t.id===e})[0];return t?t.name:e}return e},syncShopList:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"shops",apiAction:"selectlist",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺列表获取失败！("+s.message+")"),n(new Error("店铺列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.shopSelectList=s.data,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t,e)}))()},syncBuyerListByShopId:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.apiItem={apiHost:"",apiService:"buyers",apiAction:"listall",apiQuery:{}},t.apiData={},t.$store.dispatch("setAPIStore",t.apiItem),a=t.$store.getters.apiUrl,e.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(r,n){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(a,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=a.data).status?(t.$Message.error("买手列表获取失败！("+s.message+")"),n(new Error("买手列表获取失败！("+s.message+")"))):(t.$store.dispatch("setAPILastResponse",s),t.buyerSelectList=s.data,r(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)}));return function(t,a){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e,t)}))()},doAssignToBuyer:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.assignForm.validate(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return e.apiItem={apiHost:"",apiService:"trades",apiAction:"assigntobuyer",apiQuery:{}},e.apiData={tradeid:e.detailedItem._id||e.detailedItem.id,buyerid:e.assignModel.buyerid},e.$store.dispatch("setAPIStore",e.apiItem),r=e.$store.getters.apiUrl,t.next=7,e.$http.post(r,e.apiData).then(function(t){var a=t.data;if("fail"===a.status)e.$Message.error("分配订单失败！("+a.message+")");else{var r=e.data.filter(function(t){return t._id===e.detailedItem._id||e.detailedItem.id})[0],n={buyerid:e.assignModel.buyerid,group:e.$store.getters.user.group,name:e.$store.getters.user.name,shopid:e.detailedItem.shop.id,userid:e.$store.getters.user.userid,time:(new Date).toLocaleString()};r.assignbuyer?r.assignbuyer.push(n):r.assignbuyer=[n],r.last_assignbuyer=n,e.$set(r,"assignbuyer",r.assignbuyer),e.$set(r,"order_status","ASSIGNED"),e.detailedItem=r,e.$store.dispatch("setAPILastResponse",a),e.$Message.success("分配订单成功！"),e.assignModal=!1,e.assignModel={}}}).catch(function(t){e.$store.dispatch("setAPILastResponse",t),e.$Message.error("分配订单失败！("+t+")")});case 7:t.next=10;break;case 9:e.$Message.error("表单验证失败!");case 10:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},syncTradeStatus:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function a(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var a=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function a(r,n){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.apiItem={apiHost:"",apiService:"tao11",apiAction:"synctrade",apiQuery:{}},t.apiData={tid:e,session:t.$store.getters.session},t.$store.dispatch("setAPIStore",t.apiItem),s=t.$store.getters.apiUrl,a.next=6,t.$http.post(s,t.apiData).then(function(e){try{var t=e.data.data.trade_fullinfo_get_response.trade;"fail"===t.status?n(new Error("同步订单失败！("+t.message+")")):r(t)}catch(e){n(e)}}).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(new Error("同步订单失败！("+e+")"))});case 6:case"end":return a.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,t)}))()},goBuying:function(e,t){var a=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function r(){var n,s,i,o,c,_,d,l,u,f,p,b,h,m;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=!0,!(["UNASSIGNED","ASSIGNED","PARTLY_ORDERED"].indexOf(a.detailedItem.order_status)>-1)){r.next=5;break}if(!(a.lastTradeStatusCheckTime&&(new Date).getTime()-a.lastTradeStatusCheckTime>=3e4)){r.next=5;break}return r.next=5,a.syncTradeStatus(a.detailedItem.tid_str).then(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.orders.order.filter(function(t){return t.oid_str===e.oid_str})[0].refund_status,!(["WAIT_SELLER_SEND_GOODS","SELLER_CONSIGNED_PART"].indexOf(r.status)<0||["NO_REFUND","CLOSED"].indexOf(s)<0)){t.next=8;break}return a.$Modal.error({title:"无法下单！",content:"订单状态错误！订单状态:"+a.getTradeStatus(r.status)+" 退款状态:"+a.getRefundStatus(s)}),a.resignModel={reason:"状态同步出错",other:r.status+" "+s},t.next=6,Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.sleepES6)(500);case 6:a.doResign(),n=!1;case 8:case"end":return t.stop()}},t,a)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){a.$Message.error("同步订单失败！("+e.message+")"),n=!1});case 5:if(!n){r.next=55;break}if(e){r.next=11;break}return a.$Message.error("参数错误!"),r.abrupt("return",!1);case 11:if(a.buyingItem=e,s=e.num_iid,a.detailedItem.receiver_address_sync){r.next=16;break}return r.next=16,a.getReceiverAddress(a.detailedItem._id||a.detailedItem.id,a.detailedItem.tid_str,a.detailedItem.seller_nick).catch(function(e){return a.$Message.error("获取收货人信息错误!"+e),!1});case 16:if(a.provList&&a.provList.length){r.next=19;break}return r.next=19,a.$http.get("../../../static/address/provinces.json").then(function(e){a.provList=e.data}).catch(function(e){console.log(e),a.$Message.error("无法获取省/自治区/直辖市数据库")});case 19:try{i=a.provList.filter(function(e){return e.name.indexOf(a.detailedItem.receiver_state.trim())>=0})[0].code}catch(e){console.log(e),a.$Message.error("省/自治区/直辖市填写错误！")}if(a.cityList&&a.cityList.length){r.next=23;break}return r.next=23,a.$http.get("../../../static/address/cities.json").then(function(e){a.cityList=e.data}).catch(function(e){console.log(e),a.$Message.error("无法获取城市数据库")});case 23:try{o=a.cityList.filter(function(e){return e.name.indexOf(a.detailedItem.receiver_city.trim())>=0})[0].code}catch(e){console.log(e),a.$Message.error("城市填写错误！")}if(a.areaList&&a.areaList.length){r.next=27;break}return r.next=27,a.$http.get("../../../static/address/areas.json").then(function(e){a.areaList=e.data}).catch(function(e){console.log(e),a.$Message.error("无法获取区/县数据库")});case 27:try{c=a.areaList.filter(function(e){return e.name.indexOf(a.detailedItem.receiver_district.trim())>=0})[0].code}catch(e){console.log(e),a.$Message.error("区/县填写错误！")}if(a.townList&&a.townList.length){r.next=31;break}return r.next=31,a.$http.get("../../../static/address/streets.json").then(function(e){a.townList=e.data}).catch(function(e){console.log(e),a.$Message.error("无法获取街道/乡镇数据库")});case 31:try{_=a.townList.filter(function(e){return e.parent_code===c&&e.name.indexOf(a.detailedItem.receiver_town.trim())>=0})[0].code.substr(0,9)}catch(e){console.log(e),a.$Message.error("街道/乡镇填写错误！")}return a.processReceiverPhone(),d=a.detailedItem.receiver_state,l=a.detailedItem.receiver_city,u=a.detailedItem.receiver_district,f=a.detailedItem.receiver_town,p=null,r.next=40,a.getAddressSuggestion(i,o,a.detailedItem.receiver_address).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(e,r){var n=t.fullname.split("/"),s=n[0],b=n[1],h=n[2],m=n[3];i!==t.prov||o!==t.city||c!==t.area||_!==t.town?a.$Modal.confirm({title:"地址建议",content:"地址是否改为：<br><b>"+s+" / "+b+" / "+h+" / "+m+"</b> ?",okText:"确认修改",cancelText:"不修改",onOk:function(){p={fullName:a.detailedItem.receiver_name,prov:i,city:o,area:c,town:_,provName:d,cityName:l,areaName:u,townName:f,addressDetail:a.detailedItem.receiver_address},i=t.prov,o=t.city,c=t.area,_=t.town,d=s,l=b,u=h,f=m,e()},onCancel:function(){e()}}):e()});case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e),a.$Message.error("获取建议地址失败")});case 40:if(b={addressOriginal:p,country:"",prov:i,provName:d,provExt:"",city:o,cityName:l,area:c,areaName:u,town:_,townName:f,fullArea:a.detailedItem.receiver_state+"/"+a.detailedItem.receiver_city+"/"+a.detailedItem.receiver_district+"/"+a.detailedItem.receiver_town,addressDetail:a.detailedItem.receiver_address,post:a.detailedItem.receiver_zip,fullName:a.detailedItem.receiver_name,mobile:a.detailedItem.receiver_mobile,phoneSection:a.detailedItem.receiver_phone&&a.detailedItem.receiver_phone.indexOf("-")?a.detailedItem.receiver_phone.split("-")[0]:"",phoneCode:a.detailedItem.receiver_phone&&a.detailedItem.receiver_phone.indexOf("-")?a.detailedItem.receiver_phone.split("-")[1]:"",phoneExt:a.detailedItem.receiver_phone&&a.detailedItem.receiver_phone.match(/-/g)&&2===a.detailedItem.receiver_phone.match(/-/g).length?a.detailedItem.receiver_phone.split("-")[2]:""},a.$emit("on-insertnewaddress",b),h={numiid:s,tradeid:a.detailedItem._id||a.detailedItem.id,tid:a.detailedItem.tid_str,oid:e.oid_str,sellernick:a.detailedItem.seller_nick,receiver:b,addressAdded:!1,buyerMessage:a.detailedItem.buyer_message},a.$store.dispatch("setOrderInfo",h),m=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default()(a.detailedItem,{receiver:b,orderInfo:h}),window.chrome.storage.local.set({one_key_order:m},function(){console.log("OneKeyOrder local storage stored.")}),a.buyingModal=!0,!t){r.next=54;break}return/^[0-9]+$/.test(t)&&(t="https://item.taobao.com/item.htm?id="+t),r.next=52,a.getShopTransLinkByURL(t,a.detailedItem.shop.id).then(function(r){r?a.goToItemLink(e,r):a.goToItemLink(e,t)}).catch(function(){a.goToItemLink(e,t)});case 52:r.next=55;break;case 54:a.goToItemLink(e,null);case 55:case"end":return r.stop()}},r,a)}))()},processReceiverPhone:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checkReceiverPhone(e.detailedItem.receiver_mobile)){t.next=5;break}return a="",t.next=4,e.getTelAreaCode(e.detailedItem.receiver_city).then(function(e){a=e});case 4:e.detailedItem.receiver_mobile&&!e.detailedItem.receiver_phone?(0===e.detailedItem.receiver_mobile.indexOf(a)?"-"===e.detailedItem.receiver_mobile[a.length]?e.detailedItem.receiver_phone=e.detailedItem.receiver_mobile:e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_mobile.substr(a.length):e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_mobile,e.detailedItem.receiver_mobile=null):e.detailedItem.receiver_mobile&&e.detailedItem.receiver_phone?(0!==e.detailedItem.receiver_phone.indexOf(a)?e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_phone:"-"!==e.detailedItem.receiver_phone[a.length]&&(e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_phone.substr(a.length)),e.detailedItem.receiver_mobile=null):0!==e.detailedItem.receiver_phone.indexOf(a)?e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_phone:"-"!==e.detailedItem.receiver_phone[a.length]&&(e.detailedItem.receiver_phone=a+"-"+e.detailedItem.receiver_phone.substr(a.length));case 5:case"end":return t.stop()}},t,e)}))()},checkReceiverPhone:function(e){var t=!0;if(!e)return!1;return/^(0|86|17951)?(13[0-9]|15[0-9]|17[0-9]|18[0-9]|14[57]|19[0-9]|16[0-9])[0-9]{8}$/.test(e.trim())||(t=!1),console.log("检查手机号",t),t},getTelAreaCode:function(e){var t,a=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(s=a.cityList.filter(function(t){return t.name===e})).length?r(s[0].section_code):r("");case 2:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))},getAddressList:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.addressList&&e.addressList instanceof Array&&e.addressList.length){t.next=4;break}e.$emit("on-get-addresslist"),t.next=5;break;case 4:return t.abrupt("return",e.addressList);case 5:case"end":return t.stop()}},t,e)}))()},getAddressSuggestion:function(e,t,a){var r=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function n(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(n,s){try{var i="https://lsp.wuliu.taobao.com/locationservice/addr/validateAddressNew.do?l1="+e+"&l2="+t+"&addr="+encodeURI(a)+"&lang=zh-S";r.$http.get(i).then(function(e){var t=e.data;t=t.trim().replace(/↵/g,"").replace(/\\r/g,"").replace(/\\n/g,"");if(!/callback\(.+\);/.test(t))throw new Error("RESPONSE_INVALID");var a=JSON.parse(t.substring(9,t.length-2)),r=a.code.split("_");n({prov:r[0],city:r[1],area:r[2]||null,town:r[3]||null,fullname:a.result})}).catch(function(e){throw e})}catch(e){s(e)}}));case 1:case"end":return n.stop()}},n,r)}))()},getOriginalNumiid:function(e){if(e&&e.outer_iid){var t=e.outer_iid.match(/\d{6,}/);return t.length?t[0]:e.outer_iid}return""},getOriginalUrl:function(e){return e?"https://item.taobao.com/item.htm?id="+this.getOriginalNumiid(e):""},goJoin:function(e,t){var a=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var r,n;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=5;break}return a.$Message.error("参数错误!"),t.abrupt("return",!1);case 5:r=e.num_iid,n={numiid:r,tradeid:a.detailedItem._id||a.detailedItem.id,tid:a.detailedItem.tid_str,oid:e.oid_str,sellernick:a.detailedItem.seller_nick,receiver:null,addressAdded:!1,buyerMessage:a.detailedItem.buyer_message},a.$store.dispatch("setOrderInfo",n),a.joinModel={tradeid:a.detailedItem._id||a.detailedItem.id,tid:a.detailedItem.tid_str,oid:e.oid_str,buyer:a.$store.getters.tbNick,buyerTid:null,buyerOid:null,buyerFee:0,buyUrl:"",buyerPostFee:0},a.joinModal=!0;case 10:case"end":return t.stop()}},t,a)}))()},doJoin:function(){var e,t=this;this.$refs.joinForm.validate((e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return t.apiItem={apiHost:"",apiService:"trades",apiAction:"joinorder",apiQuery:{}},t.apiData={tradeid:t.joinModel.tradeid,oid_str:t.joinModel.oid,orderBought:t.joinModel,session:t.$store.getters.session},t.$store.dispatch("setAPIStore",t.apiItem),r=t.$store.getters.apiUrl,e.next=7,t.$http.post(r,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(r=a.data).status?t.$Message.error("关联订单失败！("+r.message+")"):(t.$store.dispatch("setAPILastResponse",r),t.$Message.success("关联订单成功！"),t.joinModal=!1,t.joinModel={},t.refreshList());case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),t.$Message.error("关联订单失败！("+e+")")});case 7:e.next=10;break;case 9:t.$Message.error("表单验证失败!");case 10:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},getResignReason:function(e){e=e||this.detailedItem;var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e)).resigned;if(t&&t.length){var a=t.sort(function(e,t){return new Date(t.time)-new Date(e.time)})[0];return a.reason+" "+a.reason_other}return""},closeDetailed:function(){this.detailedItem={},this.detailed=!1,this.$store.dispatch("clearOrderInfo"),this.$store.dispatch("clearOrderBought")},goToItemLink:function(e,t){var a="https://item.taobao.com/item.htm?id="+e.num_iid;t&&(a=t),this.$store.getters.sysIsExtension?Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.focusOrCreateTab)(a):window.open(a,"_blank")},getShopTransLinkByNumiid:function(e,t){var a=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(r,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getshoptranslink",apiQuery:{}},a.apiData={numiid:e,shopid:t},a.$store.dispatch("setAPIStore",a.apiItem);var s=a.$store.getters.apiUrl+"/?numiid="+e+"&shopid="+t;a.$http.get(s).then(function(e){var t=e.data;0===t.status?(a.$Message.error(t.message),n(new Error(t.message))):r(t.data.data.url)}).catch(function(e){a.$Message.error("获取商品转链失败！("+e+")"),n(new Error(e.message))})})},getShopTransLinkByURL:function(e,t){var a=this,r=Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.getQueryString)("id",e);return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(e,n){a.apiItem={apiHost:"",apiService:"trades",apiAction:"getshoptranslink",apiQuery:{}},a.apiData={numiid:r,shopid:t},a.$store.dispatch("setAPIStore",a.apiItem);var s=a.$store.getters.apiUrl+"/?numiid="+r+"&shopid="+t;a.$http.get(s).then(function(t){var r=t.data;"fail"===r.status?(a.$Message.error(r.message),n(new Error(r.message))):(console.log(r.data.data.url),e(r.data.data.url))}).catch(function(e){a.$Message.error("获取商品转链失败！("+e+")"),n(new Error(e.message))})})},getTransLinkByNumiid:function(e){var t=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(a,r){t.apiItem={apiHost:"",apiService:"trades",apiAction:"gettranslink",apiQuery:{}},t.apiData={numiid:e},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl+"/?numiid="+e;t.$http.get(n).then(function(e){var n=e.data;0===n.status?(t.$Message.error(n.message),r(new Error(n.message))):a(n.data.data.url)}).catch(function(e){t.$Message.error("获取商品转链失败！("+e+")"),r(new Error(e.message))})})},getTransLinkByURL:function(e){var t=this;console.log(e);var a=Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.getQueryString)("id",e);return console.log(a),new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(e,r){t.apiItem={apiHost:"",apiService:"trades",apiAction:"gettranslink",apiQuery:{}},t.apiData={numiid:a},t.$store.dispatch("setAPIStore",t.apiItem);var n=t.$store.getters.apiUrl+"/?numiid="+a;t.$http.get(n).then(function(a){var n=a.data;"fail"===n.status?(t.$Message.error(n.message),r(new Error(n.message))):(console.log(n.data.data.url),e(n.data.data.url))}).catch(function(e){t.$Message.error("获取商品转链失败！("+e+")"),r(new Error(e.message))})})},reviewOrder:function(e){},unbindOrder:function(e){},updateTrade:function(e){var t=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function a(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(){var a=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function a(r,n){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.$store.getters.orderInfo.numiid){a.next=9;break}return t.apiItem={apiHost:"",apiService:"trades",apiAction:"ordered",apiQuery:{}},t.apiData={num_iid:t.$store.getters.orderInfo.numiid,tradeid:e.tradeid,oid_str:e.oid,orderBought:{tid:e.tid,num:e.num,buyer:e.buyer,buyerTid:e.buyerTid,buyerFee:e.buyerFee,buyUrl:Object(__WEBPACK_IMPORTED_MODULE_6__static_common__.getQueryString)("id",e.buyUrl),buyerPostFee:e.buyerPostFee}},t.$store.dispatch("setAPIStore",t.apiItem),s=t.$store.getters.apiUrl,a.next=7,t.$http.post(s,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function e(a){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("fail"!==(s=a.data).status){e.next=5;break}n(new Error(s.message)),e.next=12;break;case 5:if(t.$store.dispatch("setAPILastResponse",s),s.data.suc&&s.data.taskTraceId){e.next=10;break}n(new Error("关联订单失败！")),e.next=12;break;case 10:return e.next=12,t.traceOrderedTask(s.data.taskTraceId).then(function(e){t.refreshList(),r(e)}).catch(function(e){n(new Error("关联订单失败！("+e.message+")"))});case 12:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){n(e)});case 7:a.next=10;break;case 9:n(new Error("订单信息异常，请刷新列表重试一次！"));case 10:case"end":return a.stop()}},a,t)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a,t)}))()},traceOrderedTask:function(e){var t,a=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){var s,i,o;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e?(s=null,i=setTimeout(function(){clearTimeout(s),n(new Error("超时Timeout"))},3e4),(o=function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.traceOrderedTaskProc(e).then(function(e){clearTimeout(i),"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(e))?r(e):n(new Error(e.substr(5)))}).catch(function(){s=setTimeout(o,300)});case 2:case"end":return t.stop()}},t,a)}));return function(){return t.apply(this,arguments)}}())()):n(new Error("TaskTraceId为空!"));case 1:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))},traceOrderedTaskProc:function(e){var t,a=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(r,n){var s;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return a.apiItem={apiHost:"",apiService:"trades",apiAction:"orderedtaskcheck",apiQuery:{}},a.apiData={taskid:e},a.$store.dispatch("setAPIStore",a.apiItem),s=a.$store.getters.apiUrl,t.next=7,a.$http.post(s,a.apiData).then(function(e){var t=e.data;"fail"===t.status?n(new Error(t.message)):(a.$store.dispatch("setAPILastResponse",t),t.data.suc?r(t.data.trade):t.data.reason?r("fail:"+t.data.reason):n(new Error("UNKNOWN")))}).catch(function(e){n(e)});case 7:t.next=10;break;case 9:n(new Error("TaskTraceId为空!"));case 10:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))},finishOrder:function(e){var t=this;if(e){var a=this.data.filter(function(t){return t._id===e.tradeid})[0];if(a){var r=a.ordered.sort(function(e,t){return new Date(t.time)-new Date(e.time)}).filter(function(t){return t.oid_str===e.oid&&!t.dismiss})[0];if(r){var n={logis_number:e.logisNumber,company_code:e.company,time:e.captureTime};this.$set(r,"shipped",n),a.orders.length>1?a.orders.forEach(function(e){a.ordered.filter(function(t){return t.oid_str===e.oid_str&&!t.shipped})&&t.$set(a,"order_status","PARTLY_FINISHED")}):this.$set(a,"order_status","FINISHED")}else this.$Message.error("未找到订单")}else this.$Message.error("未找到订单")}},prepareTradeOperationHistory:function(e){var t=this;e=e||this.detailedItem,this.tradeOperationHistory=[],this.tradeOperationHistory.push({time:new Date(e.created).getTime(),desc:"创建订单",target:e.tid_str,op:e.buyer_nick_decrypted,others:e.orders.order.length+"子订单，支付"+e.payment+"元"});var a=e.assignbuyer;a&&(this.tradeOperationHistory=this.tradeOperationHistory.concat(a.map(function(t,a){return{time:t.time,desc:"分配订单",target:e.tid_str,op:t.name,others:"买手id:"+t.buyerid+", 店群id:"+t.group}})));var r=e.resigned;r&&(this.tradeOperationHistory=this.tradeOperationHistory.concat(r.map(function(t,a){return{time:t.time,desc:"退回订单",target:e.tid_str,op:t.userid,others:"原因:"+t.reason+" "+t.reason_other}})));var n=e.ordered;n&&(this.tradeOperationHistory=this.tradeOperationHistory.concat(n.map(function(e,a){return e.dismiss&&t.tradeOperationHistory.push({time:e.dismiss.time,desc:"解除绑定",target:e.dismiss.oid,op:e.dismiss.name,others:"用户id："+e.dismiss.userid+"\t原因:"+e.dismiss.reason+e.dismiss.reason_other}),e.shipped&&t.tradeOperationHistory.push({time:e.shipped.time,desc:"订单发货",target:e.oid_str,op:"",others:"运单号码："+e.shipped.logis_number+"\t快递公司:"+e.shipped.company_code}),{time:e.time,desc:"买手下单",target:e.oid_str,op:e.name,others:"订单号码:"+e.order_number+"\t用户id："+e.userid+"\t价格："+e.buyer_fee+"\t邮费:"+e.post_fee+"\tURL:"+e.buy_url}}))),this.tradeOperationHistory.sort(function(e,t){return new Date(e.time)-new Date(t.time)})},getAssignableTrades:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.assignableTradesTotal=0,e.apiItem={apiHost:"",apiService:"trades",apiAction:"assignables",apiQuery:{}},e.apiData={},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.next=7,e.$http.post(a,e.apiData).then(function(t){var a=t.data.data;e.assignableTradesTotal=a.length}).catch(function(t){e.$Message.error("获取可取单列表失败!"+t.message)});case 7:case"end":return t.stop()}},t,e)}))()},assignBatch:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.spinShow=!0,!e.checkAssignBatchDisabled){t.next=5;break}e.$Modal.error({title:"取单失败",content:"你还有未完成的订单，请先处理完"}),t.next=11;break;case 5:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"assignbatch",apiQuery:{}},e.apiData={session:e.$store.getters.session},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.next=11,e.$http.post(a,e.apiData).then(function(t){if("ok"===t.data.status){var a=t.data.data;a.length?(e.$Modal.success({title:"取单成功",content:"成功取到"+a.length+"单"}),e.spinShow=!1,a.forEach(function(t){e.data.push(t)})):(e.$Modal.warning({title:"取单失败",content:"没有抢到订单哦:("}),e.spinShow=!1)}else e.$Modal.error({title:"取单失败",content:"发生错误"+t.data.message}),e.spinShow=!1;e.getAssignableTrades()}).catch(function(t){e.$Modal.error({title:"取单失败",content:"发生错误"+t.message}),e.spinShow=!1});case 11:case"end":return t.stop()}},t,e)}))()},editReceiverMobileValidator:function(e,t,a){if(!this.editReceiverMobileModel.receiverMobile&&!this.editReceiverMobileModel.receiverPhone)return a(new Error("手机或固话必填其一"));a()},submitEditReceiverMobile:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.editReceiverMobileForm.validate(function(){var t=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(a){var r;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return e.apiItem={apiHost:"",apiService:"trades",apiAction:"editaddress",apiQuery:{}},e.apiData={tradeid:e.detailedItem._id||e.detailedItem.id,receiver_mobile:e.editReceiverMobileModel.receiverMobile,receiver_phone:e.editReceiverMobileModel.receiverPhone,receiver_address:e.detailedItem.receiver_address,receiver_city:e.detailedItem.receiver_city,receiver_district:e.detailedItem.receiver_district,receiver_name:e.detailedItem.receiver_name,receiver_state:e.detailedItem.receiver_state,receiver_town:e.detailedItem.receiver_town,receiver_zip:e.detailedItem.receiver_zip},e.$store.dispatch("setAPIStore",e.apiItem),r=e.$store.getters.apiUrl,t.next=7,e.$http.post(r,e.apiData).then(function(t){var a=t.data;"fail"===a.status?e.$Message.error("修改收货电话失败！("+a.message+")"):(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default()(e.detailedItem,a.data),e.$store.dispatch("setAPILastResponse",a),e.$Message.success("修改收货电话成功！"),e.editReceiverMobile=!1)}).catch(function(t){e.$store.dispatch("setAPILastResponse",t),e.$Message.error("修改收货电话失败！("+t+")")});case 7:t.next=10;break;case 9:e.$Message.error("表单验证失败!");case 10:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},submitEditBuyerMessage:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.apiItem={apiHost:"",apiService:"trades",apiAction:"editbuyermessage",apiQuery:{}},e.apiData={tradeid:e.detailedItem._id||e.detailedItem.id,buyer_message:e.editBuyerMessageModel},e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.next=6,e.$http.post(a,e.apiData).then(function(t){var a=t.data;"fail"===a.status?e.$Message.error("修改买家留言失败！("+a.message+")"):(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_assign___default()(e.detailedItem,a.data),e.$store.dispatch("setAPILastResponse",a),e.$Message.success("修改买家留言成功！"),e.editBuyerMessage=!1)}).catch(function(t){e.$store.dispatch("setAPILastResponse",t),e.$Message.error("修改买家留言失败！("+t+")")});case 6:case"end":return t.stop()}},t,e)}))()}}}},t9nb:function(e,t){},vIfU:function(e,t){},wWdf:function(e,t){},xI91:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3__static_common__=__webpack_require__("3/QO"),__WEBPACK_IMPORTED_MODULE_3__static_common___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__static_common__);__webpack_exports__.a={name:"bought-history-list",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"boughthistory",apiAction:"list",apiQuery:{}},apiData:{},columns:[{title:"商品ID",key:"num_iid",ellipsis:!0,sortable:!0,searchable:!0},{title:"价格",key:"buyer_fee",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.buyer_fee/100)}},{title:"邮费",key:"post_fee",ellipsis:!0,sortable:!0,render:function(e,t){return e("span",{},t.row.post_fee/100)}},{title:"下单地址",key:"buy_url",ellipsis:!0,sortable:!0,searchable:!0},{title:"下单买手",key:"name",ellipsis:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(s=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.editModal=!0,e.editModel={id:a.row._id,numIid:a.row.num_iid,buyerFee:a.row.buyer_fee,postFee:a.row.post_fee,buyUrl:a.row.buy_url};case 2:case"end":return t.stop()}},t,e)})),function(){return s.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"删除"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteBulkModal=!0,e.deleteBulkNumiid=e.getNumIid(a.row.buy_url);case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"批量删除")]);var r,n,s}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,totalCount:0,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},newModal:!1,newModel:{numIid:0,buyerFee:0,postFee:0,buyUrl:""},editModal:!1,editModel:{id:null,numIid:0,buyerFee:0,postFee:0,buyUrl:""},ruleValidate:{numIid:[{type:"number",required:!0,message:"商品ID不能为空",trigger:"blur"}],buyerFee:[{type:"number",required:!0,message:"订单金额不能为空",trigger:"blur"}],buyUrl:[{required:!0,message:"下单商品链接不能为空",trigger:"blur"}],postFee:[{type:"number",required:!0,message:"下单邮费不能为空",trigger:"blur"}]},deleteModal:!1,deleteModel:{id:null},deleteBulkModal:!1,deleteBulkNumiid:""}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.dataViewPage=this.data;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshList();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshList();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"boughthistory",apiAction:"list",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.apiData.limit$=e.pageSize,e.apiData.skip$=e.pageSize*(e.pageCurrent-1),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data.datalist,e.data=s.data.datalist,e.totalCount=s.data.total_count,r(s.data.datalist));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 10:case"end":return t.stop()}},t,e)}))()},getNumIid:function(e){return/^\d{5,}$/.test(e)?e:Object(__WEBPACK_IMPORTED_MODULE_3__static_common__.getQueryString)("id",e)},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},submitNew:function(){var e=this;this.$refs.newForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"boughthistory",apiAction:"add",apiQuery:{}},e.apiData={name:e.newModel.name,group:e.$store.getters.user.group,assign_mode:e.newModel.assignMode},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("店铺新增失败！("+s.message+")"),n(new Error("店铺新增失败！("+s.message+")"))):(e.$Message.success("店铺新增成功!"),e.$store.dispatch("setAPILastResponse",s),e.newModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"boughthistory",apiAction:"edit",apiQuery:{}},e.apiData=e.editModel,e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("修改失败！("+s.message+")"),n(new Error("修改失败！("+s.message+")"))):(e.$Message.success("修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.editModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"boughthistory",apiAction:"delete",apiQuery:{}},this.apiData={id:this.deleteModel._id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))},submitDeleteBulk:function(){var e,t=this;if(this.deleteBulkNumiid){this.apiItem={apiHost:"",apiService:"boughthistory",apiAction:"deletebynumiid",apiQuery:{}},this.apiData={num_iid:this.deleteBulkNumiid},this.$store.dispatch("setAPIStore",this.apiItem);var a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(a,t.apiData).then(function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"fail"===(s=a.data).status?(t.$Message.error("批量删除失败！("+s.message+")"),n(new Error("批量删除失败！("+s.message+")"))):(t.$Message.success("批量删除成功!"),t.$store.dispatch("setAPILastResponse",s),t.deleteBulkModal=!1,t.deleteBulkNumiid="",r(s.data));case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$store.dispatch("setAPILastResponse",e),n(e)});case 2:case"end":return e.stop()}},e,t)})),function(t,a){return e.apply(this,arguments)}))}this.$Message.error("批量删除失败！(num_iid不能为空)")}}}},yfI3:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);__webpack_exports__.a={name:"users",data:function(){var e=this;return{apiItem:{apiHost:"",apiService:"users",apiAction:"listall",apiQuery:{}},apiData:{},columns:[{title:"ID",key:"id",ellipsis:!0,sortable:!0,searchable:!0,render:function(e,t){return e("span",{},t.row.id)}},{title:"名称",key:"name",ellipsis:!0,sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.name)}},{title:"店群ID",key:"group",sortable:!0,searchable:!0,sortMethod:function(e,t,a){return"asc"===a?e.localeCompare(t,"zh-CN"):t.localeCompare(e,"zh-CN")},render:function(e,t){return e("span",{},t.row.group)}},{title:"操作",key:"action",fixed:"right",render:function(t,a){return t("Button-group",[t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.editModal=!0,e.editModel={id:a.row.id,name:a.row.name,group:a.row.group};case 2:case"end":return t.stop()}},t,e)})),function(){return n.apply(this,arguments)})}},"修改"),t("Button",{props:{type:"ghost",size:"small"},style:{},on:{click:(r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteModal=!0,e.deleteModel=a.row;case 2:case"end":return t.stop()}},t,e)})),function(){return r.apply(this,arguments)})}},"删除")]);var r,n}}],loading:!1,dataRaw:[],data:[],dataViewPage:[],pageCurrent:1,pageSize:10,keyword:"",searchBy:"",searchMode:!1,tableSearchOn:!1,sort:null,searchModel:null,tableHeight:500,detailed:!1,detailedItem:{},editModal:!1,editModel:{id:null,name:"",group:this.$store.getters.user.group},ruleValidate:{name:[{required:!0,message:"请填写名称",trigger:"blur"}],group:[{required:!0,message:"请填写店铺号码",trigger:"blur"}]},deleteModal:!1,deleteModel:{id:null,name:""}}},created:function(){this.$store.getters.session||this.$emit("on-checkauth",this.$route.path)},mounted:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataRaw=a,t.data=a,t.pageSize=10,t.pageCurrent=1,t.loading=!1,t.calcTableHeight();case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}));var a=this;window.onresize=function(){a.calcTableHeight()}},watch:{data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageCurrent:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize*a.pageCurrent&&t>=a.pageSize*(a.pageCurrent-1)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),pageSize:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(t){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this,this.dataViewPage=this.data.filter(function(e,t,r){return t<a.pageSize});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),sort:function(e){this.refreshList()}},methods:{refreshList:function(){var e,t=this;this.initDataTable().then((e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function e(a){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.tableSearchOn=!1;case 2:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},initDataTable:function(){var e=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(){var a;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.apiItem={apiHost:"",apiService:"users",apiAction:"listall",apiQuery:{}},e.apiData={},e.sort&&(e.apiData.sort=e.sort),e.searchModel&&(e.apiData.search=e.searchModel),e.$store.dispatch("setAPIStore",e.apiItem),a=e.$store.getters.apiUrl,t.abrupt("return",new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("列表获取失败！("+s.message+")"),n(new Error("列表获取失败！("+s.message+")"))):(e.$store.dispatch("setAPILastResponse",s),e.dataRaw=s.data,e.data=s.data,e.pageSize=10,e.pageCurrent=1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}},t,e)}))()},sortTable:function(e){this.sort=e},calcTableHeight:function(){var e=document.querySelector("#main"),t=window.getComputedStyle(e,null).paddingTop,a=window.getComputedStyle(e,null).paddingBottom;this.tableHeight=e.clientHeight-parseFloat(t)-parseFloat(a)-80},changePage:function(e){this.pageCurrent=e},changePageSize:function(e){this.pageSize=e},toggleSearchMode:function(){this.searchMode=!this.searchMode},toggleSearch:function(e){this.tableSearchOn=e},search:function search(){var _this5=this,cols=this.columns.filter(function(e,t,a){return e.searchable});this.data=this.dataRaw.filter(function(item,index,source){if(_this5.searchBy){if(_this5.searchBy.indexOf(".")){var thing=eval("item."+_this5.searchBy);return thing.indexOf(_this5.keyword)>=0}return item[_this5.searchBy].indexOf(_this5.keyword)>=0}for(var found=!1,i=0;i<cols.length;i++){var col=cols[i];if(col.subKey){var _thing=eval("item."+col.key+"."+col.subKey);_thing.indexOf(_this5.keyword)>=0&&(found=!0)}else col.key&&item[col.key]&&item[col.key].indexOf(_this5.keyword)>=0&&(found=!0)}return found}),this.pageCurrent=0,this.pageCurrent=1},searchRemote:function(){var e=this,t=this.columns.filter(function(e,t,a){return e.searchable});this.searchBy&&(t=this.searchBy.indexOf(".")>-1?t.filter(function(t){return t.key===e.searchBy.split(".")[0]&&t.subKey===e.searchBy.substr(e.searchBy.indexOf(".")+1)}):t.filter(function(t){return t.key===e.searchBy})),this.searchModel=[],t.forEach(function(t){var a={};a[t.subKey?t.key+"."+t.subKey:t.key]=e.keyword,e.searchModel.push(a)}),this.pageCurrent=0,this.pageCurrent=1,this.refreshList()},submitEdit:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){e.apiItem={apiHost:"",apiService:"users",apiAction:"edit",apiQuery:{}},e.apiData={id:e.editModel.id,name:e.editModel.name,group:e.editModel.group},e.$store.dispatch("setAPIStore",e.apiItem);var a=e.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((r=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("修改失败！("+s.message+")"),n(new Error("修改失败！("+s.message+")"))):(e.$Message.success("店铺修改成功!"),e.$store.dispatch("setAPILastResponse",s),e.editModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,t){return r.apply(this,arguments)}))}var r;e.$Message.error("表单验证失败!")})},submitDelete:function(){var e=this;this.apiItem={apiHost:"",apiService:"users",apiAction:"delete",apiQuery:{}},this.apiData={id:this.deleteModel.id},this.$store.dispatch("setAPIStore",this.apiItem);var t,a=this.$store.getters.apiUrl;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a((t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(r,n){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(a,e.apiData).then(function(){var t=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function t(a){var s;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"fail"===(s=a.data).status?(e.$Message.error("删除失败！("+s.message+")"),n(new Error("删除失败！("+s.message+")"))):(e.$Message.success("店铺删除成功!"),e.$store.dispatch("setAPILastResponse",s),e.deleteModal=!1,r(s.data));case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$store.dispatch("setAPILastResponse",t),n(t)});case 2:case"end":return t.stop()}},t,e)})),function(e,a){return t.apply(this,arguments)}))}}}}},["NHnr"]);
//# sourceMappingURL=app.js.map